;(function($){$.fn.extend({autocomplete:function(urlOrData,options){var isUrl=typeof urlOrData=="string";options=$.extend({},$.Autocompleter.defaults,{url:isUrl?urlOrData:null,data:isUrl?null:urlOrData,delay:isUrl?$.Autocompleter.defaults.delay:10,max:options&&!options.scroll?10:150},options);options.highlight=options.highlight||function(value){return value;};options.formatMatch=options.formatMatch||options.formatItem;return this.each(function(){new $.Autocompleter(this,options);});},result:function(handler){return this.bind("result",handler);},search:function(handler){return this.trigger("search",[handler]);},flushCache:function(){return this.trigger("flushCache");},setOptions:function(options){return this.trigger("setOptions",[options]);},unautocomplete:function(){return this.trigger("unautocomplete");}});$.Autocompleter=function(input,options){var KEY={UP:38,DOWN:40,DEL:46,TAB:9,RETURN:13,ESC:27,COMMA:188,PAGEUP:33,PAGEDOWN:34,BACKSPACE:8};var $input=$(input).attr("autocomplete","off").addClass(options.inputClass);var timeout;var previousValue="";var cache=$.Autocompleter.Cache(options);var hasFocus=0;var lastKeyPressCode;var config={mouseDownOnSelect:false};var select=$.Autocompleter.Select(options,input,selectCurrent,config);var blockSubmit;$.browser.opera&&$(input.form).bind("submit.autocomplete",function(){if(blockSubmit){blockSubmit=false;return false;}});$input.bind(($.browser.opera?"keypress":"keydown")+".autocomplete",function(event){lastKeyPressCode=event.keyCode;switch(event.keyCode){case KEY.UP:event.preventDefault();if(select.visible()){select.prev();}else{onChange(0,true);}
break;case KEY.DOWN:event.preventDefault();if(select.visible()){select.next();}else{onChange(0,true);}
break;case KEY.PAGEUP:event.preventDefault();if(select.visible()){select.pageUp();}else{onChange(0,true);}
break;case KEY.PAGEDOWN:event.preventDefault();if(select.visible()){select.pageDown();}else{onChange(0,true);}
break;case options.multiple&&$.trim(options.multipleSeparator)==","&&KEY.COMMA:case KEY.TAB:case KEY.RETURN:if(selectCurrent()){event.preventDefault();blockSubmit=true;return false;}
break;case KEY.ESC:select.hide();break;default:clearTimeout(timeout);timeout=setTimeout(onChange,options.delay);break;}}).focus(function(){hasFocus++;}).blur(function(){hasFocus=0;if(!config.mouseDownOnSelect){hideResults();}}).click(function(){if(hasFocus++>1&&!select.visible()){onChange(0,true);}}).bind("search",function(){var fn=(arguments.length>1)?arguments[1]:null;function findValueCallback(q,data){var result;if(data&&data.length){for(var i=0;i<data.length;i++){if(data[i].result.toLowerCase()==q.toLowerCase()){result=data[i];break;}}}
if(typeof fn=="function")fn(result);else $input.trigger("result",result&&[result.data,result.value]);}
$.each(trimWords($input.val()),function(i,value){request(value,findValueCallback,findValueCallback);});}).bind("flushCache",function(){cache.flush();}).bind("setOptions",function(){$.extend(options,arguments[1]);if("data"in arguments[1])
cache.populate();}).bind("unautocomplete",function(){select.unbind();$input.unbind();$(input.form).unbind(".autocomplete");});function selectCurrent(){var selected=select.selected();if(!selected)
return false;var v=selected.result;previousValue=v;if(options.multiple){var words=trimWords($input.val());if(words.length>1){v=words.slice(0,words.length-1).join(options.multipleSeparator)+options.multipleSeparator+v;}
v+=options.multipleSeparator;}
$input.val(v);hideResultsNow();$input.trigger("result",[selected.data,selected.value]);return true;}
function onChange(crap,skipPrevCheck){if(lastKeyPressCode==KEY.DEL){select.hide();return;}
var currentValue=$input.val();if(!skipPrevCheck&&currentValue==previousValue)
return;previousValue=currentValue;currentValue=lastWord(currentValue);if(currentValue.length>=options.minChars){$input.addClass(options.loadingClass);if(!options.matchCase)
currentValue=currentValue.toLowerCase();request(currentValue,receiveData,hideResultsNow);}else{stopLoading();select.hide();}};function trimWords(value){if(!value){return[""];}
var words=value.split(options.multipleSeparator);var result=[];$.each(words,function(i,value){if($.trim(value))
result[i]=$.trim(value);});return result;}
function lastWord(value){if(!options.multiple)
return value;var words=trimWords(value);return words[words.length-1];}
function autoFill(q,sValue){if(options.autoFill&&(lastWord($input.val()).toLowerCase()==q.toLowerCase())&&lastKeyPressCode!=KEY.BACKSPACE){$input.val($input.val()+sValue.substring(lastWord(previousValue).length));$.Autocompleter.Selection(input,previousValue.length,previousValue.length+sValue.length);}};function hideResults(){clearTimeout(timeout);timeout=setTimeout(hideResultsNow,200);};function hideResultsNow(){var wasVisible=select.visible();select.hide();clearTimeout(timeout);stopLoading();if(options.mustMatch){$input.search(function(result){if(!result){if(options.multiple){var words=trimWords($input.val()).slice(0,-1);$input.val(words.join(options.multipleSeparator)+(words.length?options.multipleSeparator:""));}
else
$input.val("");}});}
if(wasVisible)
$.Autocompleter.Selection(input,input.value.length,input.value.length);};function receiveData(q,data){if(data&&data.length&&hasFocus){stopLoading();select.display(data,q);autoFill(q,data[0].value);select.show();}else{hideResultsNow();}};function request(term,success,failure){if(!options.matchCase)
term=term.toLowerCase();var data=cache.load(term);if(data&&data.length){success(term,data);}else if((typeof options.url=="string")&&(options.url.length>0)){var extraParams={timestamp:+new Date()};$.each(options.extraParams,function(key,param){extraParams[key]=typeof param=="function"?param():param;});$.ajax({mode:"abort",port:"autocomplete"+input.name,dataType:options.dataType,url:options.url,data:$.extend({q:lastWord(term),limit:options.max},extraParams),success:function(data){var parsed=[];if(options.dataType=="xml"){parsed=parseXML(data);}
else{parsed=options.parse&&options.parse(data);}
cache.add(term,parsed);success(term,parsed);}});}else{select.emptyList();failure(term);}};function parseXML(xml){var parsed=[];$(xml).find(options.datakey).each(function(){parsed[parsed.length]={data:[$(this).text()],value:$(this).text(),result:options.formatResult&&options.formatResult($(this).text(),[$(this).text()])||[$(this).text()]};});return parsed;}
function parse(data){var parsed=[];var rows=data.split("\n");for(var i=0;i<rows.length;i++){var row=$.trim(rows[i]);if(row){row=row.split("|");parsed[parsed.length]={data:row,value:row[0],result:options.formatResult&&options.formatResult(row,row[0])||row[0]};}}
return parsed;};function stopLoading(){$input.removeClass(options.loadingClass);};};$.Autocompleter.defaults={inputClass:"ac_input",resultsClass:"ac_results",loadingClass:"ac_loading",minChars:1,delay:400,matchCase:false,matchSubset:true,matchContains:false,cacheLength:10,max:100,mustMatch:false,extraParams:{},selectFirst:true,formatItem:function(row){return row[0];},formatMatch:null,autoFill:false,width:0,multiple:false,multipleSeparator:", ",highlight:function(value,term){return value.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+term.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>");},scroll:true,scrollHeight:180};$.Autocompleter.Cache=function(options){var data={};var length=0;function matchSubset(s,sub){if(!options.matchCase)
s=s.toLowerCase();var i=s.indexOf(sub);if(i==-1)return false;return i==0||options.matchContains;};function add(q,value){if(length>options.cacheLength){flush();}
if(!data[q]){length++;}
data[q]=value;}
function populate(){if(!options.data)return false;var stMatchSets={},nullData=0;if(!options.url)options.cacheLength=1;stMatchSets[""]=[];for(var i=0,ol=options.data.length;i<ol;i++){var rawValue=options.data[i];rawValue=(typeof rawValue=="string")?[rawValue]:rawValue;var value=options.formatMatch(rawValue,i+1,options.data.length);if(value===false)
continue;var firstChar=value.charAt(0).toLowerCase();if(!stMatchSets[firstChar])
stMatchSets[firstChar]=[];var row={value:value,data:rawValue,result:options.formatResult&&options.formatResult(rawValue)||value};stMatchSets[firstChar].push(row);if(nullData++<options.max){stMatchSets[""].push(row);}};$.each(stMatchSets,function(i,value){options.cacheLength++;add(i,value);});}
setTimeout(populate,25);function flush(){data={};length=0;}
return{flush:flush,add:add,populate:populate,load:function(q){if(!options.cacheLength||!length)
return null;if(!options.url&&options.matchContains){var csub=[];for(var k in data){if(k.length>0){var c=data[k];$.each(c,function(i,x){if(matchSubset(x.value,q)){csub.push(x);}});}}
return csub;}else
if(data[q]){return data[q];}else
if(options.matchSubset){for(var i=q.length-1;i>=options.minChars;i--){var c=data[q.substr(0,i)];if(c){var csub=[];$.each(c,function(i,x){if(matchSubset(x.value,q)){csub[csub.length]=x;}});return csub;}}}
return null;}};};$.Autocompleter.Select=function(options,input,select,config){var CLASSES={ACTIVE:"ac_over"};var listItems,active=-1,data,term="",needsInit=true,element,list;function init(){if(!needsInit)
return;element=$("<div />").hide().addClass(options.resultsClass).css("position","absolute").appendTo(document.body);list=$("<ul/>").appendTo(element).mouseover(function(event){if(target(event).nodeName&&target(event).nodeName.toUpperCase()=='LI'){active=$("li",list).removeClass(CLASSES.ACTIVE).index(target(event));$(target(event)).addClass(CLASSES.ACTIVE);}}).click(function(event){$(target(event)).addClass(CLASSES.ACTIVE);select();input.focus();return false;}).mousedown(function(){config.mouseDownOnSelect=true;}).mouseup(function(){config.mouseDownOnSelect=false;});if(options.width>0)
element.css("width",options.width);needsInit=false;}
function target(event){var element=event.target;while(element&&element.tagName!="LI")
element=element.parentNode;if(!element)
return[];return element;}
function moveSelect(step){listItems.slice(active,active+1).removeClass(CLASSES.ACTIVE);movePosition(step);var activeItem=listItems.slice(active,active+1).addClass(CLASSES.ACTIVE);if(options.scroll){var offset=0;listItems.slice(0,active).each(function(){offset+=this.offsetHeight;});if((offset+activeItem[0].offsetHeight-list.scrollTop())>list[0].clientHeight){list.scrollTop(offset+activeItem[0].offsetHeight-list.innerHeight());}else if(offset<list.scrollTop()){list.scrollTop(offset);}}};function movePosition(step){active+=step;if(active<0){active=listItems.size()-1;}else if(active>=listItems.size()){active=0;}}
function limitNumberOfItems(available){return options.max&&options.max<available?options.max:available;}
function fillList(){list.empty();var max=limitNumberOfItems(data.length);for(var i=0;i<max;i++){if(!data[i])
continue;var formatted=options.formatItem(data[i].data,i+1,max,data[i].value,term);if(formatted===false)
continue;var li=$("<li style='font-family: Arial;' />").html(options.highlight(formatted,term)).addClass(i%2==0?"ac_even":"ac_odd").appendTo(list)[0];$.data(li,"ac_data",data[i]);}
listItems=list.find("li");if(options.selectFirst){listItems.slice(0,1).addClass(CLASSES.ACTIVE);active=0;}
if($.fn.bgiframe)
list.bgiframe();}
return{display:function(d,q){init();data=d;term=q;fillList();},next:function(){moveSelect(1);},prev:function(){moveSelect(-1);},pageUp:function(){if(active!=0&&active-8<0){moveSelect(-active);}else{moveSelect(-8);}},pageDown:function(){if(active!=listItems.size()-1&&active+8>listItems.size()){moveSelect(listItems.size()-1-active);}else{moveSelect(8);}},hide:function(){element&&element.hide();listItems&&listItems.removeClass(CLASSES.ACTIVE);active=-1;},visible:function(){return element&&element.is(":visible");},current:function(){return this.visible()&&(listItems.filter("."+CLASSES.ACTIVE)[0]||options.selectFirst&&listItems[0]);},show:function(){var offset=$(input).offset();element.css({width:typeof options.width=="string"||options.width>0?options.width:$(input).width(),top:offset.top+input.offsetHeight,left:offset.left}).show();if(options.scroll){list.scrollTop(0);list.css({maxHeight:options.scrollHeight,overflow:'auto'});if($.browser.msie&&typeof document.body.style.maxHeight==="undefined"){var listHeight=0;listItems.each(function(){listHeight+=this.offsetHeight;});var scrollbarsVisible=listHeight>options.scrollHeight;list.css('height',scrollbarsVisible?options.scrollHeight:listHeight);if(!scrollbarsVisible){listItems.width(list.width()-parseInt(listItems.css("padding-left"))-parseInt(listItems.css("padding-right")));}}}},selected:function(){var selected=listItems&&listItems.filter("."+CLASSES.ACTIVE).removeClass(CLASSES.ACTIVE);return selected&&selected.length&&$.data(selected[0],"ac_data");},emptyList:function(){list&&list.empty();},unbind:function(){element&&element.remove();}};};$.Autocompleter.Selection=function(field,start,end){if(field.createTextRange){var selRange=field.createTextRange();selRange.collapse(true);selRange.moveStart("character",start);selRange.moveEnd("character",end);selRange.select();}else if(field.setSelectionRange){field.setSelectionRange(start,end);}else{if(field.selectionStart){field.selectionStart=start;field.selectionEnd=end;}}
field.focus();};})(jQuery);;

function DisplayFlowWindow(windowId)
{var newId="#"+windowId;$(document).ready(function(){$(newId).show()});return false;}
function HideFlowWindow(windowId)
{var newId="#"+windowId;$(document).ready(function(){$(newId).hide()});return false;}
function ShowModalPopup()
{$(document).ready(function(){$('#migdalWebPopup').modal()});}
function ShowModalPopupById(controlId)
{var newId="#"+controlId;$(document).ready(function(){$(newId).modal()});}
function ShowModalImagePopup()
{$('#migdalWebImagePopup').width=550;$(document).ready(function(){$('#migdalWebImagePopup').modal()});}
function CloseModalPopup()
{$.modal.close();return false;}
var popupStatus=0;var popup_id=0;function loadPopup(id){if(popupStatus==0){centerPopup(id)
popup_id=id;var pop="#"+id;$("#backgroundPopup").css({"opacity":"0.7"});$("#backgroundPopup").fadeIn("slow");$(pop).fadeIn("slow");popupStatus=1;}}
function disablePopup(id){if(popupStatus==1){var pop="#"+id;$("#backgroundPopup").fadeOut("slow");$(pop).fadeOut("slow");popupStatus=0;}}
function disablePopupNoID(){if(popup_id!=0){disablePopup(popup_id);}}
function centerPopup(id){var pop="#"+id;var windowWidth=document.documentElement.clientWidth;var windowHeight=document.documentElement.clientHeight;var popupHeight=$(pop).height();var popupWidth=$(pop).width();$(pop).css({"position":"absolute","top":windowHeight/2-popupHeight/2,"left":windowWidth/2-popupWidth/2});$("#backgroundPopup").css({"height":windowHeight});}
function ValidateIDNumber(oSrc,args){if(isEmpty(args.Value)){args.IsValid=true;return;}
args.IsValid=false;var idnum=args.Value;while(idnum.length<9){idnum="0"+idnum;}
idnum1=idnum.substr(0,1)*1;idnum2=idnum.substr(1,1)*2;idnum3=idnum.substr(2,1)*1;idnum4=idnum.substr(3,1)*2;idnum5=idnum.substr(4,1)*1;idnum6=idnum.substr(5,1)*2;idnum7=idnum.substr(6,1)*1;idnum8=idnum.substr(7,1)*2;idnum9=idnum.substr(8,1)*1;if(idnum1>9)idnum1=(idnum1%10)+1
if(idnum2>9)idnum2=(idnum2%10)+1
if(idnum3>9)idnum3=(idnum3%10)+1
if(idnum4>9)idnum4=(idnum4%10)+1
if(idnum5>9)idnum5=(idnum5%10)+1
if(idnum6>9)idnum6=(idnum6%10)+1
if(idnum7>9)idnum7=(idnum7%10)+1
if(idnum8>9)idnum8=(idnum8%10)+1
if(idnum9>9)idnum9=(idnum9%10)+1
var sumval=idnum1+idnum2+idnum3+idnum4+idnum5+idnum6+idnum7+idnum8+idnum9;sumval=sumval%10
if(sumval>0){args.IsValid=false;}
else
args.IsValid=true;}
$(document).ready(function(e){$("span.lawyer-insurance-validator").bind("DOMAttrModified propertychange",function(e){if(e.originalEvent.propertyName&&e.originalEvent.propertyName!="isvalid")return;var controlToValidate=$("#"+this.controltovalidate);var validators=controlToValidate.attr("Validators");if(validators==null)return;var isValid=true;$(validators).each(function(){if(this.isvalid!==true){isValid=false;}});if(isValid){controlToValidate.removeClass("lawyer-insurance-migdal-text-box-error");}else{controlToValidate.addClass("lawyer-insurance-migdal-text-box-error");}});});;

(function($){$.extend({metadata:{defaults:{type:'class',name:'metadata',cre:/({.*})/,single:'metadata'},setType:function(type,name){this.defaults.type=type;this.defaults.name=name;},get:function(elem,opts){var settings=$.extend({},this.defaults,opts);if(!settings.single.length)settings.single='metadata';var data=$.data(elem,settings.single);if(data)return data;data="{}";if(settings.type=="class"){var m=settings.cre.exec(elem.className);if(m)
data=m[1];}else if(settings.type=="elem"){if(!elem.getElementsByTagName)
return undefined;var e=elem.getElementsByTagName(settings.name);if(e.length)
data=$.trim(e[0].innerHTML);}else if(elem.getAttribute!=undefined){var attr=elem.getAttribute(settings.name);if(attr)
data=attr;}
if(data.indexOf('{')<0)
data="{"+data+"}";data=eval("("+data+")");$.data(elem,settings.single,data);return data;}}});$.fn.metadata=function(opts){return $.metadata.get(this[0],opts);};})(jQuery);;

var isFirstFocusOnUserNameControl=true;var EditMode=false;function switchToPass(objRef,cssClassName){n=objRef.name;newInput=document.createElement("INPUT");newInput.type="password";newInput.name=objRef.name;newInput.value="";newInput.style.width=objRef.offsetWidth;newInput.style.height=objRef.offsetHeight;newInput.className=cssClassName;passParent=objRef.parentNode;passParent.replaceChild(newInput,objRef);x=setTimeout(function(){newInput.focus()},150);}
function username_focus(objRef){if(isFirstFocusOnUserNameControl){objRef.value='';isFirstFocusOnUserNameControl=false;}}
function strim(stringToTrim){return stringToTrim.replace(/^\s+|\s+$/g,"");}
function IdCheck(sender,args){var iIdNumber=parseInt(args.Value);if(ClientIDValidate(iIdNumber)){args.IsValid=true;}
else{args.IsValid=false;return;}}
function ValidateIDNumber(oSrc,args){if(isEmpty(args.Value)){args.IsValid=true;return;}
args.IsValid=false;var idnum=args.Value;while(idnum.length<9){idnum="0"+idnum;}
idnum1=idnum.substr(0,1)*1;idnum2=idnum.substr(1,1)*2;idnum3=idnum.substr(2,1)*1;idnum4=idnum.substr(3,1)*2;idnum5=idnum.substr(4,1)*1;idnum6=idnum.substr(5,1)*2;idnum7=idnum.substr(6,1)*1;idnum8=idnum.substr(7,1)*2;idnum9=idnum.substr(8,1)*1;if(idnum1>9)idnum1=(idnum1%10)+1
if(idnum2>9)idnum2=(idnum2%10)+1
if(idnum3>9)idnum3=(idnum3%10)+1
if(idnum4>9)idnum4=(idnum4%10)+1
if(idnum5>9)idnum5=(idnum5%10)+1
if(idnum6>9)idnum6=(idnum6%10)+1
if(idnum7>9)idnum7=(idnum7%10)+1
if(idnum8>9)idnum8=(idnum8%10)+1
if(idnum9>9)idnum9=(idnum9%10)+1
var sumval=idnum1+idnum2+idnum3+idnum4+idnum5+idnum6+idnum7+idnum8+idnum9;sumval=sumval%10
if(sumval>0||isNaN(sumval)){args.IsValid=false;}
else
args.IsValid=true;}
function ClientIDValidate(idnumber){var strID=idnumber.toString();var leng=strID.length;var objRegExp=new RegExp("[^0-9]","g");if(leng<9)
{var addNull=9-leng;var addn="0";for(i=1;i<=(addNull-1);i++){addn+="0";}
strID=addn+idnumber;leng=9;}
if(objRegExp.test(strID)){return false;}
var sum=0;var mul=1;var result;var sum2;for(var i=0;i<=(leng-2);i++){sum2=mul*Number(strID.substr(i,1));if(sum2>9){sum2-=9;}
sum+=sum2;mul=3-mul;}
sum=sum%10;var result=10-sum;if(result==10)
result=0;if(Number(strID.substr(i,1))!=result){return false;}
return true;}
function SaveAsHtml(){if(document.all){var OLECMDID_SAVEAS=4;var OLECMDEXECOPT_DONTPROMPTUSER=2;var OLECMDEXECOPT_PROMPTUSER=1;var WebBrowser="<OBJECT ID=\"WebBrowser1\" WIDTH=0 HEIGHT=0 CLASSID=\"CLSID:8856F961-340A-11D0-A96B-00C04FD705A2\"></OBJECT>";document.body.insertAdjacentHTML("beforeEnd",WebBrowser);WebBrowser1.ExecWB(OLECMDID_SAVEAS,OLECMDEXECOPT_PROMPTUSER);WebBrowser1.outerHTML="";}
else{alert("This is only applicable to Internet Explorer");}}
function SetWebpartBorder(){var arrTableCells=document.getElementsByTagName("td");var i=0;while(i<arrTableCells.length){var cell=arrTableCells[i];if(cell.className.toLowerCase()=="ms-wpborder"){WrapWebpart(cell,false);}
if(cell.className.toLowerCase()=="ms-wpborderborderonly"){WrapWebpart(cell,true);}
++i;}
var arrTableRows=document.getElementsByTagName("tr");var i=0;while(i<arrTableRows.length){if(arrTableRows[i].className.toLowerCase()=="ms-wpheader"){AddBorderCell(arrTableRows[i]);}
++i;}}
function AddBorderCell(parentTr){var customTd=document.createElement("td");customTd.innerHTML="&nbsp;"
customTd.className="ms-WPHeaderSideTd";parentTr.appendChild(customTd);}
function WrapWebpart(cell,addHeaderRow){var arrDivs=cell.getElementsByTagName("div");var div=arrDivs[0];var wpMainTable=div.getElementsByTagName('table');var HasCombo=null;if(wpMainTable[0]!=null&&wpMainTable[0]!='undefined'){HasCombo=wpMainTable[0].getAttribute('cancel_JS_Border');}
if(HasCombo==null||HasCombo==''){var sInnerTable="";sInnerTable+="<table cellpadding='0' cellspacing='0' width='100%'>";if(addHeaderRow){sInnerTable+=" <tr>";sInnerTable+="     <td class='ms-WPTopLeft'></td>";sInnerTable+="     <td class='ms-WPTopMid'></td>";sInnerTable+="     <td class='ms-WPTopRight'></td>";sInnerTable+=" </tr>";}
sInnerTable+=" <tr>";sInnerTable+="     <td class='ms-WPMidLeft'>&nbsp;</td>";sInnerTable+="     <td class='"+div.className+"'>"+div.innerHTML+"</td>";sInnerTable+="     <td class='ms-WPMidRight'>&nbsp;</td>";sInnerTable+=" </tr>";sInnerTable+=" <tr>";sInnerTable+="     <td class='ms-WPBottomLeft'></td>";sInnerTable+="     <td class='ms-WPBottomMid'></td>";sInnerTable+="     <td class='ms-WPBottomRight'></td>";sInnerTable+=" </tr>";sInnerTable+="</table>";div.innerHTML=sInnerTable;}}
function HideEmptyZones(){var CountLeftAdvertisementZone=0;var ObjTblLeftAdvertisementZone=document.getElementById("tblLeftAdvertisementZone");var CountPlaceHolderVerticalBanner=0;var ObjTdPlaceHolderVerticalBanner=document.getElementById("tdPlaceHolderVerticalBanner");var Count=0;Count=WebpartZoneIsNotEmpty("tdLeftTop")+WebpartZoneIsNotEmpty("tdCenterTop")+WebpartZoneIsNotEmpty("tdRightTop");HideEmptyElement("tdRightTop",Count);HideEmptyElement("tdCenterTop",Count,"tdRightTop");HideEmptyElement("tdLeftTop",Count,"tdCenterTop");Count=WebpartZoneIsNotEmpty("tdLeftBottom")+WebpartZoneIsNotEmpty("tdCenterBottom")+WebpartZoneIsNotEmpty("tdRightBottom");HideEmptyElement("tdRightBottom",Count);HideEmptyElement("tdCenterBottom",Count,"tdRightBottom");HideEmptyElement("tdLeftBottom",Count,"tdCenterBottom");CountLeftAdvertisementZone=WebpartZoneIsNotEmpty("tdLeftAdvertisementZoneInner");CountPlaceHolderVerticalBanner=WebpartZoneIsNotEmpty("tdPlaceHolderVerticalBanner");if(CountPlaceHolderVerticalBanner==0){if(ObjTdPlaceHolderVerticalBanner!=null){ObjTdPlaceHolderVerticalBanner.style.display="none";}}
else{if(ObjTdPlaceHolderVerticalBanner!=null){ObjTdPlaceHolderVerticalBanner.style.display="";}}}
function WebpartZoneIsNotEmpty(p_elementId){var l_content=$.trim($('#'+p_elementId).html());if(l_content==''||l_content=='&nbsp;')return 0;return 1;}
function HideEmptyElement(tdZoneId,cellsCount,tdAdjecntZoneId){var tdZone=document.getElementById(tdZoneId);if(tdZone!=null){if(WebpartZoneIsNotEmpty(tdZoneId)==0){tdZone.style.display="none";}
else{tdZone.width=(100/cellsCount)+"%";}}}
function SetResolution(){var HighResolutionCell=document.getElementById("HighResolutionCell");var MasterPageOuterTable=document.getElementById("MasterPageOuterTable");if(HighResolutionCell!=null){if(screen.width>=920){HighResolutionCell.style.display="";}
else{MasterPageOuterTable.className="masterContent";}}}
function DetectBrowser(){if(navigator.userAgent.indexOf("MSIE")!=-1){if(navigator.userAgent.indexOf("MSIE 9.0")!=-1||navigator.userAgent.indexOf("BOIE9")!=-1){return"3";}
else{return"1";}}else{return"2";}}
function ModifySearchButton(containerId){var oSearchButton=null;if(containerId==null){oSearchButton=document.getElementById("SRSB");}
else{var container=document.getElementById(containerId);if(container!=null){var arrDivs=container.getElementsByTagName("div");if(arrDivs!=null){var i=0;while(i<arrDivs.length&&oSearchButton==null){if(arrDivs[i].id.toUpperCase()=="SRSB"){oSearchButton=arrDivs[i];}
++i;}}}}
if(oSearchButton!=null){var arrImages=oSearchButton.getElementsByTagName("img");if(arrImages!=null){if(arrImages.length>0){ReplaceSearchButtonImage(arrImages[0]);}}}}
function ReplaceSearchButtonImage(img){var parent=img.parentNode;var searchSpan=document.createElement("span");var searchText=img.getAttribute("title");var searchAltText=img.getAttribute("alt");var spanInnerHTML="";spanInnerHTML+="  <table width='100%' height='100%' cellpadding='0' cellspacing='0'>";spanInnerHTML+="      <tr>";spanInnerHTML+="          <td class='SearchBoxLeftCorner'>&nbsp;</td>";spanInnerHTML+="          <td class='SearchBoxCenter'>"+searchText+"</td>";spanInnerHTML+="          <td class='SearchBoxRightCorner'>&nbsp;</td>";spanInnerHTML+="      </tr>";spanInnerHTML+="  </table>";searchSpan.innerHTML=spanInnerHTML
searchSpan.setAttribute("title",searchAltText);parent.removeChild(img);parent.parentNode.className+=" SearchBoxImage";parent.appendChild(searchSpan);searchSpan.onclick=new Function("this.parentNode.click();");}
var arrImageSources=null;function PopulateImageSourcesArray(){var iTabsCount=3;var i=0;arrImageSources=new Array(iTabsCount);while(i<iTabsCount){arrImageSources[i]=new Array(2);++i;}
arrImageSources[0][0]="http://web.bizportal.co.il/export/external/migdal/migdalxml.shtml?type=gifday";arrImageSources[0][1]="http://web.bizportal.co.il/export/external/migdal/migdalxml.shtml?type=gifdayv";arrImageSources[1][0]="http://web.bizportal.co.il/export/external/migdal/migdalxml.shtml?type=gifyear";arrImageSources[1][1]="http://web.bizportal.co.il/export/external/migdal/migdalxml.shtml?type=gifyearv";arrImageSources[2][0]="http://web.bizportal.co.il/export/external/migdal/migdalxml.shtml?type=gifyears";arrImageSources[2][1]="http://web.bizportal.co.il/export/external/migdal/migdalxml.shtml?type=gifyearsv";}
function SwitchTab(tabClickedRow){var oldValue="selected";var newValue="regular";if(tabClickedRow.className=="regularTabRow"){if(arrImageSources==null){PopulateImageSourcesArray();}
var MainTabsRow=document.getElementById("MainTabsRow");if(MainTabsRow!=null){var selectedTabRowId=MainTabsRow.getAttribute("selectedTabRowId");var selectedTabRow=document.getElementById(selectedTabRowId);ModifyTabStyle(selectedTabRow,oldValue,newValue);}
oldValue="regular";newValue="selected";ModifyTabStyle(tabClickedRow,oldValue,newValue);MainTabsRow.setAttribute("selectedTabRowId",tabClickedRow.id);var imageSourceId=tabClickedRow.getAttribute("imageIndex");var imgBigGraph=document.getElementById("bigGraphImage");var imgSmallGraph=document.getElementById("smallGraphImage");imgBigGraph.src=arrImageSources[imageSourceId][0];imgSmallGraph.src=arrImageSources[imageSourceId][1];}}
function ModifyTabStyle(tabRow,oldClassName,newClassName){var arrTabCells=tabRow.getElementsByTagName("td");if(arrTabCells!=null){var i=0;tabRow.className=tabRow.className.replace(oldClassName,newClassName);while(i<arrTabCells.length){arrTabCells[i].className=arrTabCells[i].className.replace(oldClassName,newClassName);++i;}}}
function OpenLargeImage(obj){var openWindow=window.open("","","resizable=yes,scrollbars=yes,status=yes");openWindow.document.write(obj);openWindow.document.close();}
function Check(e){var KeyNum;if(window.event){KeyNum=e.keyCode;}else if(e.which){KeyNum=e.which;}
if(KeyNum==13){return false;}
return true;}
var lastPop=null;function ShowHideExplanation(div){divObj=document.getElementById(div);if(lastPop&&lastPop!=div){$('#'+lastPop).hide();}
if(divObj!=null){if(divObj.style.display=='none'){lastPop=div;divObj.style.display='';var locLeft=$('#'+div).position().left+1;var locTop=$('#'+div).position().top+1;$("#backgroundPopupHelp").css({"top":locTop,"left":locLeft,"display":''});}
else{divObj.style.display='none'
$("#backgroundPopupHelp").css({"display":'none'});}}}
function ActivateFlash(){var theObjects=document.getElementsByTagName("object");if(theObjects!=null){var iObjectsNum=theObjects.length;for(var i=0;i<iObjectsNum;i++){theObjects[i].outerHTML=theObjects[i].outerHTML;}}}
function ResizeIframe(){FixIframeHeight();return;}
function FixIframeHeight(){try{o=parent.document.getElementsByTagName('iframe');for(i=0;i<o.length;i++){if($(o[i]).attr('class')=='iframeSize')
setHeight(o[i]);}}catch(ex){}}
function setHeight(e){if(e.contentDocument){$('#'+e.id).height(e.contentDocument.body.offsetHeight+20);}else{e.style.height=e.contentWindow.document.body.scrollHeight;}}
function DisableBack(){window.history.go(1);}
function getAbsoluteLeft(objectId){o=document.getElementById(objectId)
oLeft=o.offsetLeft
while(o.offsetParent!=null){oParent=o.offsetParent;oLeft+=oParent.offsetLeft;o=oParent}
return oLeft}
function getAbsoluteTop(objectId){o=document.getElementById(objectId)
oTop=o.offsetTop
while(o.offsetParent!=null){oParent=o.offsetParent
oTop+=oParent.offsetTop
o=oParent}
return oTop}
function SetParentScroll(){window.scrollTo(0,0);}
function PrintSelfService(){link="TotalDataAggregationPrint.aspx?PageCurrentMode=PrintDisplay";window.open(link,"_new");}
function PrintSelfServiceRikuz(){link="RikuzPrint.aspx?PageCurrentMode=PrintDisplay";window.open(link,"_new");}
function SelfServiceShowDescription(control,display){if(control){div=control.nextSibling.nextSibling;if(div){div.style.display=display;}}}
var IE=document.all?true:false
document.onmousemove=SelfServiceGetMouseXY;var tempX=0
var tempY=0
function SelfServiceGetMouseXY(e){if(IE){var top=document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop;var left=document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft;tempX=event.clientX+left;tempY=event.clientY+top;}
else{tempX=e.pageX;tempY=e.pageY;}
if(tempX<0){tempX=0;}
if(tempY<0){tempY=0;}
return true;}
function SelfServiceCloseMe(control){if(control){control.style.display='none';}}
function ShowBubble(control,display){if(control){div=control.previousSibling;if(div){if(div.innerText!=""){div.style.display=display;if(tempX>0&&tempY>0){div.style.position="absolute";div.style.top=tempY-div.offsetHeight-20;div.style.left=tempX-250;}}}}}
function CloseBubblePopup(control){return false;}
function ShowBubblePopup(control,reversed){$(document).ready(function(){var divName="#divTeurAroch";var div=$(control).find(divName);if($(control).find(divName)){if($(control).find(divName).text()!=""){if(tempX>0&&tempY>0){var pos=$(control).offset();var width=$(control).find(divName).width();var divWidth=$(control).find(divName).width();if(reversed)
$(control).find(divName).css({"left":(pos.left+divWidth-width+30)+"px","top":(pos.top-10)+"px"});else
$(control).find(divName).css({"left":(pos.left-width-10)+"px","top":(pos.top-10)+"px"});}
$(control).find(divName).toggle();}}});return false;}
function ShowAddressPopup(control){$(document).ready(function(){var divName="#divTeurAroch";var div=$(control).parent().find(divName);if($(control).parent().find(divName)){if($(control).parent().find(divName).text()!=""){if(tempX>0&&tempY>0){jQuery($(control)).click(function(e){var buttonX=e.pageX;var buttonY=e.pageY;var divWidth=$(control).parent().find(divName).width();var divHeight=$(control).parent().find(divName).height();$(control).parent().find(divName).css({"left":(buttonX-(divWidth/2)+30)+"px","top":(buttonY-divHeight+150)+"px"});});}
$(control).parent().find(divName).toggle();if($(control).parent().find(divName).is(":visible"))
$(document).find('select').hide();else
$(document).find('select').show();}}});return false;}
function ShowForgotPasswordPopup(control){$(document).ready(function(){var divName="#divTeurAroch";var div=$(control).parent().find(divName);if($(control).parent().find(divName)){if($(control).parent().find(divName).text()!=""){if(tempX>0&&tempY>0){jQuery($(control)).click(function(e){var buttonX=e.pageX;var buttonY=e.pageY;var divWidth=$(control).parent().find(divName).width();var divHeight=$(control).parent().find(divName).height();$(control).parent().find(divName).css({"left":(buttonX-(divWidth/2)-200)+"px","top":(buttonY-divHeight-50)+"px"});});}
$(control).parent().find(divName).toggle();if($(control).parent().find(divName).is(":visible"))
$(document).find('select').hide();else
$(document).find('select').show();}}});return false;}
function ShowPopup(control,pxWidth,pxHeight){$(document).ready(function(){var divName="#divTeurAroch";var div=$(control).parent().find(divName);if($(control).parent().find(divName)){if($(control).parent().find(divName).text()!=""){if(tempX>0&&tempY>0){jQuery($(control)).click(function(e){var buttonX=e.pageX;var buttonY=e.pageY;var divWidth=$(control).parent().find(divName).width();var divHeight=$(control).parent().find(divName).height();$(control).parent().find(divName).css({"left":(buttonX-(divWidth/2)+pxWidth)+"px","top":(buttonY-divHeight+pxHeight)+"px"});});}
$(control).parent().find(divName).toggle();if($(control).parent().find(divName).is(":visible"))
$(document).find('select').hide();else
$(document).find('select').show();}}});return false;}
function CloseAllPopups(){$(document).ready(function(){$(document).find('select').show();var divName="#divTeurAroch";var className="selfservice-popup-div";$($("."+className)).each(function(index){$(this).hide();});var className="selfservice-rikuz-popup-div";$($("."+className)).each(function(index){$(this).hide();});var className="selfservice-address-popup-div";$($("."+className)).each(function(index){$(this).hide();});var className="selfservice-forgotPassword-popup-div";$($("."+className)).each(function(index){$(this).hide();});var className="self-service-div-popup";$($("."+className)).each(function(index){$(this).hide();});var className="selfservice-uc-div-container";$($("."+className)).each(function(index){$(this).hide();});});}
function ShowBubbleRikuzPopup(control,reversed){$(document).ready(function(){var divName="#divTeurAroch";var div=$(control).find(divName);if($(control).find(divName)){var isVisible=$(control).find(divName).is(":visible");CloseAllPopups();if($(control).find(divName).text()!=""){if(tempX>0&&tempY>0){var pos=$(control).offset();var width=$(control).find(divName).width();var divWidth=$(control).find(divName).width();var offSetX=130;var offSetY=20;if(reversed)
$(control).find(divName).css({"left":(pos.left+divWidth-width-offSetX)+"px","top":(pos.top+offSetY)+"px"});else
$(control).find(divName).css({"left":(pos.left-width+offSetX)+"px","top":(pos.top+offSetY)+"px"});}
isVisible?$(control).find(divName).hide():$(control).find(divName).show();}}});return false;}
function OpenForPrint(){try{var url=document.URL;var separator=url.indexOf("?")>0?"&":"?";var newUrl=url+separator+"PageCurrentMode=PrintDisplay";window.open(newUrl,'','','');}
catch(e){}
return false;}
function ShowOrHideKranot(id,button){var obj_=document.getElementById(id);var elements=document.getElementsByName(id);var clicker=document.getElementById(button);for(i=0;i<=elements.length;i++){obj=elements[i];if(obj){if(obj.style.display==""){obj.style.display="none";}
else{obj.style.display="";}}}
return false;}
function ExpandAllDataPanels(){var pnlKranot=$find('bhvKranot');if(pnlKranot)
pnlKranot._doOpen();var pnlHisahonTvahAroh=$find('bhvHisahonTvahAroh');if(pnlHisahonTvahAroh)
pnlHisahonTvahAroh._doOpen();var pnlHisahonPensioni=$find('bhvHisahonPensioni');if(pnlHisahonPensioni)
pnlHisahonPensioni._doOpen();var pnlKisuimLife=$find('bhvKisuimLife');if(pnlKisuimLife)
pnlKisuimLife._doOpen();var pnlKisuimHealth=$find('bhvKisuimHealth');if(pnlKisuimHealth)
pnlKisuimHealth._doOpen();var pnlLoans=$find('bhvLoans');if(pnlLoans)
pnlLoans._doOpen();var pnlDocs=$find('bhvDocs');if(pnlDocs)
pnlDocs._doOpen();var bhvHaimHadashim=$find('bhvHaimHadashim');if(bhvHaimHadashim)
bhvHaimHadashim._doOpen();return false;}
function CollapseAllDataPanels(){var pnlKranot=$find('bhvKranot');if(pnlKranot){pnlKranot._doClose();}
var pnlHisahonTvahAroh=$find('bhvHisahonTvahAroh');if(pnlHisahonTvahAroh)
pnlHisahonTvahAroh._doClose();var pnlHisahonPensioni=$find('bhvHisahonPensioni');if(pnlHisahonPensioni)
pnlHisahonPensioni._doClose();var pnlKisuimLife=$find('bhvKisuimLife');if(pnlKisuimLife)
pnlKisuimLife._doClose();var pnlKisuimHealth=$find('bhvKisuimHealth');if(pnlKisuimHealth)
pnlKisuimHealth._doClose();var pnlLoans=$find('bhvLoans');if(pnlLoans)
pnlLoans._doClose();var pnlDocs=$find('bhvDocs');if(pnlDocs)
pnlDocs._doClose();var bhvHaimHadashim=$find('bhvHaimHadashim');if(bhvHaimHadashim)
bhvHaimHadashim._doClose();return false;}
function ExpandDataPanel(panelName){var bhvHaimHadashim=$find(panelName);if(bhvHaimHadashim)
bhvHaimHadashim._doOpen();return false;}
function SetRepeaterMouseOver(control){$(document).ready(function(){$(control).attr("class","selfservice-grid-item-mouseover");var $kids=$(control).children().children('.selfservice-get-underlined');if($kids!=null&&$kids.size()>0){$kids.css("text-decoration","underline");}});}
function RemoveRepeaterMouseOver(control,alt){$(document).ready(function(){var className=(alt==0?"selfservice-grid-item":"selfservice-grid-item-alternate")
$(control).attr("class",className);var $kids=$(control).children().children('.selfservice-get-underlined');if($kids!=null&&$kids.size()>0){$kids.css("text-decoration","none");}});}
function SetTableHeight(){$(document).ready(function(){var maxHeight=0;$($(".selfservice-rikuz-area-table")).each(function(index){var currentHeight=$(this).height();if(currentHeight>maxHeight)
maxHeight=currentHeight;});$($(".selfservice-rikuz-area-table")).each(function(index){$(this).css({'height':maxHeight});});$($(".selfservice-rikuz-area-subtable")).each(function(index){$(this).css({'height':maxHeight});});});}
function SetRikuzMouseOver(control){$(document).ready(function(){var $kids=$(control).children().children('.selfservice-get-underlined');if($kids!=null&&$kids.size()>0){$kids.css("text-decoration","underline");$kids.css("cursor","hand");}});}
function RemoveRikuzMouseOver(control){$(document).ready(function(){var $kids=$(control).children().children('.selfservice-get-underlined');if($kids!=null&&$kids.size()>0){$kids.css("text-decoration","none");$kids.css("cursor","default");}});}
function SetControlOnclickUrl(control,link){$(document).ready(function(){$(control).attr("onClick","location.href="+link);});}
function ArrangeValidationOnPage(enable){for(i=0;i<Page_Validators.length;i++){ValidatorEnable(Page_Validators[i],enable)}}
function ResetAnswer(objId){$(document).ready(function(){$('#'+objId).val('');$('#'+objId).focus();});}
function ValidateDateInsuranceRenew(errorTextId,dateInputId){var valid=true;var validated=Page_ClientValidate('vgInsuranceRenew');if(!validated)
valid=false;var chosenDate=$('#'+dateInputId+'_dateInput_TextBox').val();if(chosenDate==''||chosenDate=='  /  /    '){$('#'+errorTextId).show();valid=false;}
else{$('#'+errorTextId).hide();}
return valid}
function isEmpty(aTextField){var re=/\s/g;str=aTextField.replace(re,"");if(str.length==0){return true;}
else{return false;}}
function ShowSelectInArea(area){$('#'+area).find('select').show();}
function OpenInfo(control,div){CloseAllPopups();var offSetX=-150;var offSetY=18;OpenInfoXY(control,div,offSetX,offSetY)}
function OpenInfoXY(control,div,offSetX,offSetY){var openX=$('#'+control.id).position().left+offSetX;var openY=$('#'+control.id).position().top+offSetY;var pop="#"+div;var windowHeight=document.documentElement.clientHeight;var frameHeight=document.documentElement.scrollHeight;$(pop).css({"position":"absolute","top":openY,"left":openX});$(pop).toggle();}
function OpenCentralDiv(div){var pop="#"+id;var windowWidth=document.documentElement.clientWidth;var windowHeight=document.documentElement.clientHeight;var frameHeight=document.documentElement.scrollHeight;var popupHeight=$(pop).height();var popupWidth=$(pop).width();$(pop).css({"position":"absolute","top":windowHeight/2-popupHeight/2,"left":windowWidth/2-popupWidth/2});$(pop).toggle();}
function OpenSendFax(){OpenCentralDiv('div_PopupFax');}
function PrintPage(){window.print();}
function hideElsementIfEmpty(p_elementId){var l_content=$.trim($('#'+p_elementId).html());if(l_content==''||l_content=='&nbsp;'){$('#'+p_elementId).hide();}}
function getQuerystring(key){key=key.replace(/[\[]/,"\\\[").replace(/[\]]/,"\\\]");var regex=new RegExp("[\\?&]"+key+"=([^&#]*)");var qs=regex.exec(window.location.href);if(qs==null){return"";}
else{return qs[1];}}
function LoadActionUserControl(ddl){var url=window.location.href;var msPolisa=getQuerystring("mp");$("#payments_table_container").hide();$("#payments_imgWaiting").show();var webMethod='/AutoCompleteExtenderMethods.asmx/LoadPaymentUserControl';var year=$(ddl).find(":selected").text();var parameters="{'p_year':'"+year+"', 'p_polisa':'"+msPolisa+"'}";$.ajax({type:"POST",url:webMethod,contentType:"application/json; charset=utf-8",dataType:"json",data:parameters,success:function(msg){if(msg&&msg.d){$("#payments_imgWaiting").hide();$("#payments_table_container").hide();$("#payments_table_container").empty();$("#payments_table_container").html(msg.d);$("#payments_table_container").fadeIn();}},error:function(msg){}});}
function LoadKranotTnuotUserControl(ddl){$("#kranotTnuot_table_container").hide();$("#kranotTnuot_imgWaiting").show();var url=window.location.href;var msKupa=getQuerystring("kpa");var msMaavid=getQuerystring("mvd");var msAmit=getQuerystring("amit");var webMethod='/AutoCompleteExtenderMethods.asmx/LoadKranotTnuotUserControl';var year=$(ddl).find(":selected").text();var parameters="{'p_year':'"+year+"', 'p_kupa':'"+msKupa+"' , 'p_misparMaavid':'"+msMaavid+"' , 'p_misparAmit':'"+msAmit+"'}";$.ajax({type:"POST",url:webMethod,contentType:"application/json; charset=utf-8",dataType:"json",data:parameters,success:function(msg){if(msg&&msg.d){$("#kranotTnuot_imgWaiting").hide();$("#kranotTnuot_table_container").hide();$("#kranotTnuot_table_container").empty();$("#kranotTnuot_table_container").html(msg.d);$("#kranotTnuot_table_container").fadeIn();}},error:function(msg){}});}
function HideOtzarCode(){$('[id$="_trOtzarCodes"]').hide();$('[id$="_txtOtzarCodes"]').val('');}
function ShowHideOtzarCode(){var _companyFilter=$('[id$="_companyFilter"]').val();var _departmentFilter=$('[id$="_departmentFilter"]').val();if((_companyFilter=='המגן'||_companyFilter=='מגדל')&&(_departmentFilter=='חיים')){$('[id$="_trOtzarCodes"]').show();}
else{$('[id$="_trOtzarCodes"]').hide();$('[id$="_txtOtzarCodes"]').val("");}}
function ValidateCodeOtzar(source,args){var OtzarCode=$('[id$="_txtOtzarCodes"]').val();if(OtzarCode.length>13){args.IsValid=true;$('[id$="_cvtbOtzarCodes"]').css('visibility');}
else{args.IsValid=false;$('[id$="_cvtbOtzarCodes"]').css('visibility','');}}
function ValidateOtzarCodes(){var OtzarCode=$('[id$="_txtOtzarCodes"]').val();var OtzarCodesValidator=$('[id$="_trOtzarCodesValidator"]');var tdOtzarCodesValidator=$('[id$="_tdOtzarCodesValidator"]');OtzarCodesValidator.hide();if(OtzarCode!=''){if(!allDigits(OtzarCode)){tdOtzarCodesValidator.text("ניתן להזין ספרות בלבד");OtzarCodesValidator.show();return false;}
if(OtzarCode.length!=39)
{tdOtzarCodesValidator.text("יש להזין את כל 39 הספרות של הקוד");OtzarCodesValidator.show();return false;}}}
function allDigits(str){return/^\d*$/.test(str);}
function gotoUrl(obj){obj.parentNode.click();};

(function($){$.extend($.fn,{validate:function(options){if(!this.length){options&&options.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing");return;}var validator=$.data(this[0],'validator');if(validator){return validator;}validator=new $.validator(options,this[0]);$.data(this[0],'validator',validator);if(validator.settings.onsubmit){this.find("input, button").filter(".cancel").click(function(){validator.cancelSubmit=true;});if(validator.settings.submitHandler){this.find("input, button").filter(":submit").click(function(){validator.submitButton=this;});}this.submit(function(event){if(validator.settings.debug)event.preventDefault();function handle(){if(validator.settings.submitHandler){if(validator.submitButton){var hidden=$("<input type='hidden'/>").attr("name",validator.submitButton.name).val(validator.submitButton.value).appendTo(validator.currentForm);}validator.settings.submitHandler.call(validator,validator.currentForm);if(validator.submitButton){hidden.remove();}return false;}return true;}if(validator.cancelSubmit){validator.cancelSubmit=false;return handle();}if(validator.form()){if(validator.pendingRequest){validator.formSubmitted=true;return false;}return handle();}else{validator.focusInvalid();return false;}});}return validator;},valid:function(){if($(this[0]).is('form')){return this.validate().form();}else{var valid=true;var validator=$(this[0].form).validate();this.each(function(){valid&=validator.element(this);});return valid;}},removeAttrs:function(attributes){var result={},$element=this;$.each(attributes.split(/\s/),function(index,value){result[value]=$element.attr(value);$element.removeAttr(value);});return result;},rules:function(command,argument){var element=this[0];if(command){var settings=$.data(element.form,'validator').settings;var staticRules=settings.rules;var existingRules=$.validator.staticRules(element);switch(command){case"add":$.extend(existingRules,$.validator.normalizeRule(argument));staticRules[element.name]=existingRules;if(argument.messages)settings.messages[element.name]=$.extend(settings.messages[element.name],argument.messages);break;case"remove":if(!argument){delete staticRules[element.name];return existingRules;}var filtered={};$.each(argument.split(/\s/),function(index,method){filtered[method]=existingRules[method];delete existingRules[method];});return filtered;}}var data=$.validator.normalizeRules($.extend({},$.validator.metadataRules(element),$.validator.classRules(element),$.validator.attributeRules(element),$.validator.staticRules(element)),element);if(data.required){var param=data.required;delete data.required;data=$.extend({required:param},data);}return data;}});$.extend($.expr[":"],{blank:function(a){return!$.trim(a.value);},filled:function(a){return!!$.trim(a.value);},unchecked:function(a){return!a.checked;}});$.validator=function(options,form){this.settings=$.extend({},$.validator.defaults,options);this.currentForm=form;this.init();};$.validator.format=function(source,params){if(arguments.length==1)return function(){var args=$.makeArray(arguments);args.unshift(source);return $.validator.format.apply(this,args);};if(arguments.length>2&&params.constructor!=Array){params=$.makeArray(arguments).slice(1);}if(params.constructor!=Array){params=[params];}$.each(params,function(i,n){source=source.replace(new RegExp("\\{"+i+"\\}","g"),n);});return source;};$.extend($.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:$([]),errorLabelContainer:$([]),onsubmit:true,ignore:[],ignoreTitle:false,onfocusin:function(element){this.lastActive=element;if(this.settings.focusCleanup&&!this.blockFocusCleanup){this.settings.unhighlight&&this.settings.unhighlight.call(this,element,this.settings.errorClass,this.settings.validClass);this.errorsFor(element).hide();}},onfocusout:function(element){if(!this.checkable(element)&&(element.name in this.submitted||!this.optional(element))){this.element(element);}},onkeyup:function(element){if(element.name in this.submitted||element==this.lastElement){this.element(element);}},onclick:function(element){if(element.name in this.submitted)this.element(element);},highlight:function(element,errorClass,validClass){$(element).addClass(errorClass).removeClass(validClass);},unhighlight:function(element,errorClass,validClass){$(element).removeClass(errorClass).addClass(validClass);}},setDefaults:function(settings){$.extend($.validator.defaults,settings);},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",dateDE:"Bitte geben Sie ein gֳ¼ltiges Datum ein.",number:"Please enter a valid number.",numberDE:"Bitte geben Sie eine Nummer ein.",digits:"Please enter only digits",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:$.validator.format("Please enter no more than {0} characters."),minlength:$.validator.format("Please enter at least {0} characters."),rangelength:$.validator.format("Please enter a value between {0} and {1} characters long."),range:$.validator.format("Please enter a value between {0} and {1}."),max:$.validator.format("Please enter a value less than or equal to {0}."),min:$.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){this.labelContainer=$(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||$(this.currentForm);this.containers=$(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var groups=(this.groups={});$.each(this.settings.groups,function(key,value){$.each(value.split(/\s/),function(index,name){groups[name]=key;});});var rules=this.settings.rules;$.each(rules,function(key,value){rules[key]=$.validator.normalizeRule(value);});function delegate(event){var validator=$.data(this[0].form,"validator");validator.settings["on"+event.type]&&validator.settings["on"+event.type].call(validator,this[0]);}$(this.currentForm).delegate("focusin focusout keyup",":text, :password, :file, select, textarea",delegate).delegate("click",":radio, :checkbox",delegate);if(this.settings.invalidHandler)$(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler);},form:function(){this.checkForm();$.extend(this.submitted,this.errorMap);this.invalid=$.extend({},this.errorMap);if(!this.valid())$(this.currentForm).triggerHandler("invalid-form",[this]);this.showErrors();return this.valid();},checkForm:function(){this.prepareForm();for(var i=0,elements=(this.currentElements=this.elements());elements[i];i++){this.check(elements[i]);}return this.valid();},element:function(element){element=this.clean(element);this.lastElement=element;this.prepareElement(element);this.currentElements=$(element);var result=this.check(element);if(result){delete this.invalid[element.name];}else{this.invalid[element.name]=true;}if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers);}this.showErrors();return result;},showErrors:function(errors){if(errors){$.extend(this.errorMap,errors);this.errorList=[];for(var name in errors){this.errorList.push({message:errors[name],element:this.findByName(name)[0]});}this.successList=$.grep(this.successList,function(element){return!(element.name in errors);});}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors();},resetForm:function(){if($.fn.resetForm)$(this.currentForm).resetForm();this.submitted={};this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass);},numberOfInvalids:function(){return this.objectLength(this.invalid);},objectLength:function(obj){var count=0;for(var i in obj)count++;return count;},hideErrors:function(){this.addWrapper(this.toHide).hide();},valid:function(){return this.size()==0;},size:function(){return this.errorList.length;},focusInvalid:function(){if(this.settings.focusInvalid){try{$(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus();}catch(e){}}},findLastActive:function(){var lastActive=this.lastActive;return lastActive&&$.grep(this.errorList,function(n){return n.element.name==lastActive.name;}).length==1&&lastActive;},elements:function(){var validator=this,rulesCache={};return $([]).add(this.currentForm.elements).filter(":input").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&validator.settings.debug&&window.console&&console.error("%o has no name assigned",this);if(this.name in rulesCache||!validator.objectLength($(this).rules()))return false;rulesCache[this.name]=true;return true;});},clean:function(selector){return $(selector)[0];},errors:function(){return $(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext);},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=$([]);this.toHide=$([]);this.formSubmitted=false;this.currentElements=$([]);},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers);},prepareElement:function(element){this.reset();this.toHide=this.errorsFor(element);},check:function(element){element=this.clean(element);if(this.checkable(element)){element=this.findByName(element.name)[0];}var rules=$(element).rules();var dependencyMismatch=false;for(method in rules){var rule={method:method,parameters:rules[method]};try{var result=$.validator.methods[method].call(this,element.value.replace(/\r/g,""),element,rule.parameters);if(result=="dependency-mismatch"){dependencyMismatch=true;continue;}dependencyMismatch=false;if(result=="pending"){this.toHide=this.toHide.not(this.errorsFor(element));return;}if(!result){this.formatAndAdd(element,rule);return false;}}catch(e){this.settings.debug&&window.console&&console.log("exception occured when checking element "+element.id
+", check the '"+rule.method+"' method");throw e;}}if(dependencyMismatch)return;if(this.objectLength(rules))this.successList.push(element);return true;},customMetaMessage:function(element,method){if(!$.metadata)return;var meta=this.settings.meta?$(element).metadata()[this.settings.meta]:$(element).metadata();return meta&&meta.messages&&meta.messages[method];},customMessage:function(name,method){var m=this.settings.messages[name];return m&&(m.constructor==String?m:m[method]);},findDefined:function(){for(var i=0;i<arguments.length;i++){if(arguments[i]!==undefined)return arguments[i];}return undefined;},defaultMessage:function(element,method){return this.findDefined(this.customMessage(element.name,method),this.customMetaMessage(element,method),!this.settings.ignoreTitle&&element.title||undefined,$.validator.messages[method],"<strong>Warning: No message defined for "+element.name+"</strong>");},formatAndAdd:function(element,rule){var message=this.defaultMessage(element,rule.method);if(typeof message=="function")message=message.call(this,rule.parameters,element);this.errorList.push({message:message,element:element});this.errorMap[element.name]=message;this.submitted[element.name]=message;},addWrapper:function(toToggle){if(this.settings.wrapper)toToggle=toToggle.add(toToggle.parent(this.settings.wrapper));return toToggle;},defaultShowErrors:function(){for(var i=0;this.errorList[i];i++){var error=this.errorList[i];this.settings.highlight&&this.settings.highlight.call(this,error.element,this.settings.errorClass,this.settings.validClass);this.showLabel(error.element,error.message);}if(this.errorList.length){this.toShow=this.toShow.add(this.containers);}if(this.settings.success){for(var i=0;this.successList[i];i++){this.showLabel(this.successList[i]);}}if(this.settings.unhighlight){for(var i=0,elements=this.validElements();elements[i];i++){this.settings.unhighlight.call(this,elements[i],this.settings.errorClass,this.settings.validClass);}}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show();},validElements:function(){return this.currentElements.not(this.invalidElements());},invalidElements:function(){return $(this.errorList).map(function(){return this.element;});},showLabel:function(element,message){var label=this.errorsFor(element);if(label.length){label.removeClass().addClass(this.settings.errorClass);label.attr("generated")&&label.html(message);}else{label=$("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(element),generated:true}).addClass(this.settings.errorClass).html(message||"");if(this.settings.wrapper){label=label.hide().show().wrap("<"+this.settings.wrapper+"/>").parent();}if(!this.labelContainer.append(label).length)this.settings.errorPlacement?this.settings.errorPlacement(label,$(element)):label.insertAfter(element);}if(!message&&this.settings.success){label.text("");typeof this.settings.success=="string"?label.addClass(this.settings.success):this.settings.success(label);}this.toShow=this.toShow.add(label);},errorsFor:function(element){return this.errors().filter("[for='"+this.idOrName(element)+"']");},idOrName:function(element){return this.groups[element.name]||(this.checkable(element)?element.name:element.id||element.name);},checkable:function(element){return/radio|checkbox/i.test(element.type);},findByName:function(name){var form=this.currentForm;return $(document.getElementsByName(name)).map(function(index,element){return element.form==form&&element.name==name&&element||null;});},getLength:function(value,element){switch(element.nodeName.toLowerCase()){case'select':return $("option:selected",element).length;case'input':if(this.checkable(element))return this.findByName(element.name).filter(':checked').length;}return value.length;},depend:function(param,element){return this.dependTypes[typeof param]?this.dependTypes[typeof param](param,element):true;},dependTypes:{"boolean":function(param,element){return param;},"string":function(param,element){return!!$(param,element.form).length;},"function":function(param,element){return param(element);}},optional:function(element){return!$.validator.methods.required.call(this,$.trim(element.value),element)&&"dependency-mismatch";},startRequest:function(element){if(!this.pending[element.name]){this.pendingRequest++;this.pending[element.name]=true;}},stopRequest:function(element,valid){this.pendingRequest--;if(this.pendingRequest<0)this.pendingRequest=0;delete this.pending[element.name];if(valid&&this.pendingRequest==0&&this.formSubmitted&&this.form()){$(this.currentForm).submit();}else if(!valid&&this.pendingRequest==0&&this.formSubmitted){$(this.currentForm).triggerHandler("invalid-form",[this]);}},previousValue:function(element){return $.data(element,"previousValue")||$.data(element,"previousValue",previous={old:null,valid:true,message:this.defaultMessage(element,"remote")});}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},dateDE:{dateDE:true},number:{number:true},numberDE:{numberDE:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(className,rules){className.constructor==String?this.classRuleSettings[className]=rules:$.extend(this.classRuleSettings,className);},classRules:function(element){var rules={};var classes=$(element).attr('class');classes&&$.each(classes.split(' '),function(){if(this in $.validator.classRuleSettings){$.extend(rules,$.validator.classRuleSettings[this]);}});return rules;},attributeRules:function(element){var rules={};var $element=$(element);for(method in $.validator.methods){var value=$element.attr(method);if(value){rules[method]=value;}}if(rules.maxlength&&/-1|2147483647|524288/.test(rules.maxlength)){delete rules.maxlength;}return rules;},metadataRules:function(element){if(!$.metadata)return{};var meta=$.data(element.form,'validator').settings.meta;return meta?$(element).metadata()[meta]:$(element).metadata();},staticRules:function(element){var rules={};var validator=$.data(element.form,'validator');if(validator.settings.rules){rules=$.validator.normalizeRule(validator.settings.rules[element.name])||{};}return rules;},normalizeRules:function(rules,element){$.each(rules,function(prop,val){if(val===false){delete rules[prop];return;}if(val.param||val.depends){var keepRule=true;switch(typeof val.depends){case"string":keepRule=!!$(val.depends,element.form).length;break;case"function":keepRule=val.depends.call(element,element);break;}if(keepRule){rules[prop]=val.param!==undefined?val.param:true;}else{delete rules[prop];}}});$.each(rules,function(rule,parameter){rules[rule]=$.isFunction(parameter)?parameter(element):parameter;});$.each(['minlength','maxlength','min','max'],function(){if(rules[this]){rules[this]=Number(rules[this]);}});$.each(['rangelength','range'],function(){if(rules[this]){rules[this]=[Number(rules[this][0]),Number(rules[this][1])];}});if($.validator.autoCreateRanges){if(rules.min&&rules.max){rules.range=[rules.min,rules.max];delete rules.min;delete rules.max;}if(rules.minlength&&rules.maxlength){rules.rangelength=[rules.minlength,rules.maxlength];delete rules.minlength;delete rules.maxlength;}}if(rules.messages){delete rules.messages}return rules;},normalizeRule:function(data){if(typeof data=="string"){var transformed={};$.each(data.split(/\s/),function(){transformed[this]=true;});data=transformed;}return data;},addMethod:function(name,method,message){$.validator.methods[name]=method;$.validator.messages[name]=message||$.validator.messages[name];if(method.length<3){$.validator.addClassRules(name,$.validator.normalizeRule(name));}},methods:{required:function(value,element,param){if(!this.depend(param,element))return"dependency-mismatch";switch(element.nodeName.toLowerCase()){case'select':var options=$("option:selected",element);return options.length>0&&(element.type=="select-multiple"||($.browser.msie&&!(options[0].attributes['value'].specified)?options[0].text:options[0].value).length>0);case'input':if(this.checkable(element))return this.getLength(value,element)>0;default:return $.trim(value).length>0;}},remote:function(value,element,param){if(this.optional(element))return"dependency-mismatch";var previous=this.previousValue(element);if(!this.settings.messages[element.name])this.settings.messages[element.name]={};this.settings.messages[element.name].remote=typeof previous.message=="function"?previous.message(value):previous.message;param=typeof param=="string"&&{url:param}||param;if(previous.old!==value){previous.old=value;var validator=this;this.startRequest(element);var data={};data[element.name]=value;$.ajax($.extend(true,{url:param,mode:"abort",port:"validate"+element.name,dataType:"json",data:data,success:function(response){var valid=response===true;if(valid){var submitted=validator.formSubmitted;validator.prepareElement(element);validator.formSubmitted=submitted;validator.successList.push(element);validator.showErrors();}else{var errors={};errors[element.name]=previous.message=response||validator.defaultMessage(element,"remote");validator.showErrors(errors);}previous.valid=valid;validator.stopRequest(element,valid);}},param));return"pending";}else if(this.pending[element.name]){return"pending";}return previous.valid;},minlength:function(value,element,param){return this.optional(element)||this.getLength($.trim(value),element)>=param;},maxlength:function(value,element,param){return this.optional(element)||this.getLength($.trim(value),element)<=param;},rangelength:function(value,element,param){var length=this.getLength($.trim(value),element);return this.optional(element)||(length>=param[0]&&length<=param[1]);},min:function(value,element,param){return this.optional(element)||value>=param;},max:function(value,element,param){return this.optional(element)||value<=param;},range:function(value,element,param){return this.optional(element)||(value>=param[0]&&value<=param[1]);},email:function(value,element){return this.optional(element)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(value);},url:function(value,element){return this.optional(element)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(value);},date:function(value,element){return this.optional(element)||!/Invalid|NaN/.test(new Date(value));},dateISO:function(value,element){return this.optional(element)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(value);},dateDE:function(value,element){return this.optional(element)||/^\d\d?\.\d\d?\.\d\d\d?\d?$/.test(value);},number:function(value,element){return this.optional(element)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(value);},numberDE:function(value,element){return this.optional(element)||/^-?(?:\d+|\d{1,3}(?:\.\d{3})+)(?:,\d+)?$/.test(value);},digits:function(value,element){return this.optional(element)||/^\d+$/.test(value);},creditcard:function(value,element){if(this.optional(element))return"dependency-mismatch";if(/[^0-9-]+/.test(value))return false;var nCheck=0,nDigit=0,bEven=false;value=value.replace(/\D/g,"");for(n=value.length-1;n>=0;n--){var cDigit=value.charAt(n);var nDigit=parseInt(cDigit,10);if(bEven){if((nDigit*=2)>9)nDigit-=9;}nCheck+=nDigit;bEven=!bEven;}return(nCheck%10)==0;},accept:function(value,element,param){param=typeof param=="string"?param.replace(/,/g,'|'):"png|jpe?g|gif";return this.optional(element)||value.match(new RegExp(".("+param+")$","i"));},equalTo:function(value,element,param){return value==$(param).val();}}});$.format=$.validator.format;})(jQuery);;(function($){var ajax=$.ajax;var pendingRequests={};$.ajax=function(settings){settings=$.extend(settings,$.extend({},$.ajaxSettings,settings));var port=settings.port;if(settings.mode=="abort"){if(pendingRequests[port]){pendingRequests[port].abort();}return(pendingRequests[port]=ajax.apply(this,arguments));}return ajax.apply(this,arguments);};})(jQuery);;(function($){$.each({focus:'focusin',blur:'focusout'},function(original,fix){$.event.special[fix]={setup:function(){if($.browser.msie)return false;this.addEventListener(original,$.event.special[fix].handler,true);},teardown:function(){if($.browser.msie)return false;this.removeEventListener(original,$.event.special[fix].handler,true);},handler:function(e){arguments[0]=$.event.fix(e);arguments[0].type=fix;return $.event.handle.apply(this,arguments);}};});$.extend($.fn,{delegate:function(type,delegate,handler){return this.bind(type,function(event){var target=$(event.target);if(target.is(delegate)){return handler.apply(target,arguments);}});},triggerEvent:function(type,target){return this.triggerHandler(type,[$.event.fix({type:type,target:target})]);}})})(jQuery);;
