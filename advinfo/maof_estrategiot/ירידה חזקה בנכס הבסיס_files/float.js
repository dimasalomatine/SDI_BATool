function initializeNS(a){var b=a.split(".");var d=window;for(var c=0;c<b.length;++c){d=d[b[c]];if(typeof(d)==="undefined"||!d){return{}}}return d}function isNSexists(a){var b=a.split(".");var d=window;for(var c=0;c<b.length;++c){d=d[b[c]];if(typeof(d)==="undefined"||!d){return false}}return true}ISQ=initializeNS("ISQ");nanoRep=ISQ;ISQ.version="2.3.1.21";var debugLevel=0;ISQ.Base=function Class(){};ISQ.Base.polymorphismCtor=function(b,a){a=ISQ.Tools.toArray(a);if(this.mBase!==null&&typeof(this.mBase.prototype.polymorphismCtor)==="function"){this.initBase.apply(this,a);this.mBase.prototype.polymorphismCtor(b,a)}this.ctor.apply(b,a)};ISQ.Base.extend=function(d){var b=function(){if(typeof(d)==="object"&&d.abstractClass&&this instanceof b){throw ("Trying to create an instance of an abstract class")}if(this.mBase!==null&&typeof(this.mBase.abstractClass)==="object"){for(var e in this.mBase.abstractClass){if(typeof(this[e])!=="function"){throw ("un-implemented abstract method: "+e)}}}this.polymorphismCtor(this,arguments);if(debugLevel>2){profiler.registerObjectCreation(this)}};for(var c in this.prototype){b.prototype[c]=this.prototype[c]}if(typeof(d)==="object"&&d.abstractClass){b.abstractClass={}}b.prototype.polymorphismCtor=ISQ.Base.polymorphismCtor;b.extend=this.extend;b.prototype.mBase=this;if(typeof(d)!=="object"||typeof(d.name)!=="string"){throw ("Class name is missing (ctorObject.name)")}var a=d.name.Trim();if(!a){throw ("Invalid class name")}b.prototype.__className__=b.__className__=a;return b};ISQ.Base.__className__="Base Class";ISQ.Base.prototype.__className__="Base Class";ISQ.Base.prototype.mBase=null;ISQ.Base.prototype.mIsDisposed=false;ISQ.Base.prototype.ctor=function(){};ISQ.Base.prototype.dtor=function(){delete this.mBase};ISQ.Base.prototype.initBase=function(){};ISQ.Base.prototype.isDisposed=function(){return this.mIsDisposed};ISQ.Base.prototype.executeBaseMethod=function(b,a){if(!this.mBase){throw ("ISQ.Base.prototype.executeBaseMethod: no base!")}this.mBase.prototype[b].apply(this,a||[])};ISQ.Base.prototype.dispose=function(){if(this.mIsDisposed){return false
}this.mIsDisposed=true;var b=this.dtor.apply(this,arguments);if(b===false){this.mIsDisposed=false;return false}if(debugLevel>2){profiler.registerObjectDisposal(this)}var a=this.mBase;while(a!==null){a.prototype.dtor.apply(this,arguments);a=a.prototype.mBase}this.__dispose__();return true};ISQ.Base.prototype.__dispose__=function(){for(var b in this){try{switch(b){case"mBase":case"__dispose__":case"polymorphismCtor":case"extend":case"__className__":continue;break}if(typeof(this[b])==="undefined"||this[b]===null){continue}if(typeof(this[b])!=="function"&&typeof(this[b])!=="object"){continue}if(typeof(this[b].dispose)==="function"){this[b].dispose()}if(this[b] instanceof Array){for(var c in this[b]){if(this[b][c]&&typeof(this[b][c].dispose)==="function"){this[b][c].dispose()}}}delete this[b]}catch(a){if(debugLevel>1){alert("base::__dispose__: error disposing:"+b)}}}};ISQ.Base.prototype.isDerivedOf=function(a,c){c=c===true;if(c&&this.__className__===a.__className__){return false}if(this.__className__===a.__className__){return true}var d=false;var b=this.mBase;while(b!==null&&!d){if(a.__className__===b.__className__){d=true}b=b.prototype.mBase}return d};ISQ.Base.isDerivedOf=function(a,b){if(a===null){return false}if(typeof(a)!=="object"||typeof(a.isDerivedOf)!=="function"){return false}return a.isDerivedOf(b)};ISQ.Profiler=function(){this.mAllocationArray=new Array();this.mDisposalArray=new Array();this.mCurrentArray=new Array();this.mPointerArray=new Array()};ISQ.Profiler.prototype.dispose=function(){delete this.mAllocationArray;delete this.mDisposalArray;delete this.mCurrentArray;delete this.mPointerArray};ISQ.Profiler.prototype.registerObjectCreation=function(c){var a=c.__className__;var b=this.mAllocationArray[a];if(typeof(b)==="undefined"){b=0}this.mAllocationArray[a]=++b;var b=this.mCurrentArray[a];if(typeof(b)==="undefined"){b=0}this.mCurrentArray[a]=++b;var d=this.mPointerArray[a];if(!d){d=new Array();this.mPointerArray[a]=d}d.push(c)};ISQ.Profiler.prototype.registerObjectDisposal=function(d){if(this.inCleaningProcedure){return
}var a=d.__className__;var b=this.mDisposalArray[a];if(typeof(b)==="undefined"){b=0}this.mDisposalArray[a]=++b;b=this.mCurrentArray[a];this.mCurrentArray[a]=--b;var e=this.mPointerArray[a];if(e){for(var c=0;c<e.length;++c){if(e[c]===d){e.splice(c,1);break}}}};ISQ.Profiler.prototype.reset=function(){this.inCleaningProcedure=false;this.mAllocationArray=new Array();this.mDisposalArray=new Array();this.mCurrentArray=new Array();this.mPointerArray=new Array()};ISQ.Profiler.prototype.validatePointerArray=function(){var a=new Array();for(var c in this.mPointerArray){var b=this.mPointerArray[c];var d=this.mCurrentArray[c];if(d!==b.length){a[c]=true}}return a};ISQ.Profiler.prototype.analyzeHandlers=function(){var e=this.mPointerArray["ISQ.Handler"];var a=new Array();for(var d=0;d<e.length;++d){var c=e[d];var b=c.context;if(!ISQ.Base.isDerivedOf(b,ISQ.Base)){continue}if(b.isDisposed()){a.push({name:b.__className__,instance:b,func:c.func})}}return a};ISQ.Profiler.prototype.emptyEvents=function(){var c=this.mPointerArray["ISQ.Event"];var a=0;for(var b=0;b<c.length;++b){if(c[b].count()===0){++a}}return a};ISQ.Profiler.prototype.emptyEventsContainers=function(){var c=new Array();var f;for(var a in this.mPointerArray){if(a==="ISQ.Handler"||a=="ISQ.Event"){continue}for(var d=0;d<this.mPointerArray[a].length;++d){f=this.mPointerArray[a][d];for(var g in f){try{switch(g){case"dispose":case"mIsDisposed":case"ctor":case"dtor":case"mBase":case"__dispose__":case"polymorphismCtor":case"extend":case"__className__":continue;break}if(typeof(f[g])==="undefined"||f[g]===null){continue}if(typeof(f[g])!=="function"&&typeof(f[g])!=="object"){continue}if(f[g].__className__==="ISQ.Event"){if(f[g].count()===0){if(!c[a]){c[a]=new Array()}if(typeof(c[a][g])==="undefined"){c[a][g]=1}else{++c[a][g]}}}}catch(b){}}}}return c};ISQ.Profiler.prototype.inCleaningProcedure=false;ISQ.Profiler.prototype.allocations=function(){return this.mAllocationArray};ISQ.Profiler.prototype.current=function(){return this.mCurrentArray};ISQ.Profiler.prototype.disposals=function(){return this.mDisposalArray
};ISQ.Profiler.prototype.pointers=function(){return this.mPointerArray};if(typeof(profiler)==="undefined"&&debugLevel>2){profiler=new ISQ.Profiler()}Date.prototype.ToString=function(d,n){d=d+"";var k=new Array();var l;for(var f=0;f<d.length;++f){var a=d.charAt(f);if(a==="%"&&f!==d.length-1){l=d.charAt(++f);switch(l){case"d":var b=this.getDate();if(b<10){b="0"+b}k.push(b);break;case"m":var j="";if(d.charAt(f+1)==="m"){++f;j=this.getMonth()+1;switch(j){case 1:if(n){j=n.jan}else{j="Jan"}break;case 2:if(n){j=n.feb}else{j="Feb"}break;case 3:if(n){j=n.mar}else{j="Mar"}break;case 4:if(n){j=n.apr}else{j="Apr"}break;case 5:if(n){j=n.may}else{j="May"}break;case 6:if(n){j=n.jun}else{j="Jun"}break;case 7:if(n){j=n.jul}else{j="Jul"}break;case 8:if(n){j=n.aug}else{j="Aug"}break;case 9:if(n){j=n.sep}else{j="Sep"}break;case 10:if(n){j=n.oct}else{j="Oct"}break;case 11:if(n){j=n.nov}else{j="Nov"}break;case 12:if(n){j=n.dec}else{j="Dec"}break}}else{j=this.getMonth()+1;if(j<10){j="0"+j}}k.push(j);break;case"y":var o=this.getYear();if((ISQ.Http.browser.app!=="ie"||ISQ.Http.browser.isIE9||ISQ.Http.browser.isIE10)&&(!ISQ.Http.browser.isOpera||ISQ.Http.browser.full>="opera10.52")){o+=1900}k.push(o);break;case"H":var e=this.getHours();if(e<10){e="0"+e}k.push(e);break;case"M":var g=this.getMinutes();if(g<10){g="0"+g}k.push(g);break;case"S":var m=this.getSeconds();if(m<10){m="0"+m}k.push(m);break;default:k.push(d.charAt(f-1));k.push(d.charAt(f));break}}else{k.push(a)}}return k.join("")};String.prototype.Trim=function(){return this.replace(/^\s+|\s+$/g,"")};String.prototype.startsWith=function(b){if(this.length<b.length){return false}for(var a=0;a<b.length;++a){if(this.charAt(a)!==b.charAt(a)){return false}}return true};String.prototype.endsWith=function(b){if(this.length<b.length){return false}var c=b.length-1;for(var a=this.length-1;a>this.length-1-b.length;--a){if(b.charAt(c--)!==this.charAt(a)){return false}}return true};String.prototype.contains=function(a){return this.indexOf(a)!==-1};String.prototype.LastIndexOf=function(d,c){if(this.length===0||d===null){return -1
}if(d.length>this.length){return -1}if(isNaN(c)){c=this.length-d.length}var a=false;for(var b=c;b>=0;--b){a=true;for(var e=0;e<d.length;++e){if(this.charAt(b+e)!==d.charAt(e)){a=false;break}}if(a){return b}}return -1};String.prototype.LastIndexOf_char=function(a,c){c=c||this.length-1;for(var b=c;b>=0;--b){if(this.charAt(b)===a){return b}}return -1};String.prototype.setCharAt=function(b,a){if(b>this.length-1){return str}return this.substr(0,b)+a+this.substr(b+1)};String.prototype.countCharAppearances=function(a){var b=0;for(var c=0;c<this.length;++c){if(this.charAt(c)==a){++b}}return b};String.prototype.equals=function(e,d){if(!d){d=0}if(d+e.length>=this.length){return false}var c=0;var b=d+e.length;for(var a=d;a<b;++a){if(this.charAt(a)!=e.charAt(c++)){return false}}return true};ISQ.Tools=initializeNS("ISQ.Tools");ISQ.Tools.stateEnum={KEY:5,VALUE:6};ISQ.Tools.stringToPairArray=function(j,b,n,k,m){var c=j.length;if(c===0){return null}var f=new Array();k=k!==false;m=m!==false;var g=ISQ.Tools.stateEnum.KEY;var d="";var a=new Array();var e=0;while(e<c){switch(g){case ISQ.Tools.stateEnum.KEY:if(j.charAt(e)!==b){a.push(j.charAt(e))}else{g=ISQ.Tools.stateEnum.VALUE;d=ISQ.Tools.getStringValue(a,k);a=new Array()}break;case ISQ.Tools.stateEnum.VALUE:if(j.charAt(e)!==n){a.push(j.charAt(e))}else{g=ISQ.Tools.stateEnum.KEY;f[d]=ISQ.Tools.getStringValue(a,m);a=new Array()}break}++e}if(g===ISQ.Tools.stateEnum.VALUE){f[d]=ISQ.Tools.getStringValue(a)}return f};ISQ.Tools.getStringValue=function(a,b){b=b===true;var c=unescape(a.join("").toString()).Trim();if(b){c=c.toLowerCase()}return c};ISQ.Tools.getNumber=function(c,a){var d=typeof(c);if(typeof(c)==="number"){return c}if(typeof(c)!=="string"){c=c.toString()}var b;if(c.contains(".")){b=parseFloat(c)}else{b=parseInt(c)}if(isNaN(b)){return typeof(a)==="number"?a:NaN}return b};ISQ.Tools.verifyNumber=function(b){var a=ISQ.Tools.getNumber(b);if(isNaN(a)){throw ("ISQ.Tools.verifyNumber: given value is not a number")}};ISQ.Tools.getEnumValue=function(a,c){if(typeof(a)!=="object"||c===null){return null
}for(var b in a){if(a[b]==c){return b}}return null};ISQ.Tools.getOpacityFromRGBA=function(b){var a=b.LastIndexOf(",");if(a===-1){throw ("ISQ.Tools.getOpacityFromRGBA(): Invalid string")}if(b.countCharAppearances(",")===2){return 100}b=b.substring(a+1);return parseInt(b)};ISQ.Tools.RGBtoHex=function(c,b,a){return ISQ.Tools.toHex(c)+ISQ.Tools.toHex(b)+ISQ.Tools.toHex(a)};ISQ.Tools.RGBtoHex2=function(a){a=a.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);return"#"+ISQ.Tools.toHex(a[1])+ISQ.Tools.toHex(a[2])+ISQ.Tools.toHex(a[3])};ISQ.Tools.toHex=function(a){if(typeof(a)==="string"){a=parseInt(a)}if(typeof(a)!=="number"||a===0){return"00"}a=Math.max(0,a);a=Math.min(a,255);a=Math.round(a);return"0123456789ABCDEF".charAt((a-a%16)/16)+"0123456789ABCDEF".charAt(a%16)};ISQ.Tools.hexToRGB=function(a){var b={r:-1,g:-1,b:-1};a=(a.charAt(0)=="#")?a.substring(1):a;b.r=parseInt(a.substring(0,2),16);b.g=parseInt(a.substring(2,4),16);b.b=parseInt(a.substring(4,6),16);return b};ISQ.Tools.getPrettyNumber=function(j,d,l){j=parseFloat(j);if(isNaN(j)){return j}d=d||2;if(l){if(j>1000000){return(j/1000000).toFixed(0)+"M"}if(j>1000){return(j/1000).toFixed(0)+"K"}}var k=j+"";var f=k.indexOf(".");var a="";if(f!==-1){a=k.substr(f+1,d);k=k.substr(0,f);j=parseInt(j)}if(j/1000>=1){var b=new Array(k.length+Math.floor((k.length-1)/3));var g=b.length;var c=0;for(var e=k.length-1;e>-1;--e){if(e<k.length-1&&c%3===0){b[g--]=","}b[g--]=k.charAt(e);++c}}else{b=new Array();b.push(k)}if(a===""){return b.join("")}else{return b.join("")+"."+a}};ISQ.Tools.formatPercentage=function(c){var b;var a=Math.abs(c);if(a>1000){b=(c/1000).toFixed(0)+"K "}else{if(a<1){b=c.toFixed(2)}else{if(a<10){b=c.toFixed(1)}else{b=c.toFixed(0)}}}return b+"%"};ISQ.Tools.toArray=function(d){if(d instanceof Array){return d}var b=new Array();if(typeof(d.length)!=="number"){b.push(d)}else{var c;if(d.length===0){for(c in d){b[c]=d[c]}}else{if(d.length>10000){_debug().insertText("Error converting object to an array. Object length: "+d.length);return new Array()}for(c=0;c<d.length;++c){b[c]=d[c]
}}}return b};ISQ.Tools.getDateTicks=function(b,d,e,f,l){b=b.Trim();if(b===""){return -1}var c,g,m;var j=d.indexOf("dd");c=b.substr(j,2);if(isNaN(c)){return -1}j=d.indexOf("mm");g=b.substr(j,2);if(isNaN(g)){return -1}j=d.indexOf("yyyy");m=b.substr(j,4);if(isNaN(m)){return -1}var k=new Date();e=typeof(e)=="undefined"?k.getHours():e;f=typeof(f)=="undefined"?k.getMinutes():f;l=typeof(l)=="undefined"?k.getSeconds():l;var a=new Date(m,g-1,c,e,f,l);return Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds())};ISQ.Tools.getIPString=function(c){var b=false;if(c<0){c=-c;b=true}var d=new Array();if(b){d.push(256-(c%256))}else{d.push(c%256)}for(var a=2;a>=0;a--){c=Math.floor(c/256);d.push(".");if(b){d.push(255-(c%256))}else{d.push(c%256)}}return d.join("")};ISQ.Tools.getContentTypeByExtension=function(b,c){var a;switch(b){case"bmp":a="image/bmp";break;case"gif":a="image/gif";break;case"jpg":case"jpeg":a="image/jpeg";break;case"png":a="image/png";break;case"tiff":case"tif":a="image/tiff";break;case"pdf":a="application/pdf";break;default:a="";break}if(c){return a}switch(b){case"doc":a="application/msword";break;case"docx":a="application/vnd.openxmlformats-officedocument.wordprocessingml.document";break;case"pdf":a="application/pdf";break;case"ppt":a="application/vnd.ms-powerpoint";break;case"pptx":a="application/vnd.openxmlformats-officedocument.presentationml.presentation";break;case"xlsx":a="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";break;case"xls":a="application/vnd.ms-excel";break;case"csv":a="text/csv";break;case"xml":a="text/xml";break;case"txt":a="text/plain";break;case"zip":a="application/zip";break;case"ogg":a="application/ogg";break;case"mp3":a="audio/mpeg";break;case"wma":a="audio/x-ms-wma";break;case"wav":a="audio/x-wav";break;case"wmv":a="audio/x-ms-wmv";break;case"swf":a="application/x-shockwave-flash";break;case"avi":a="video/avi";break;case"mp4":a="video/mp4";break;case"mpg":case"mpeg":a="video/mpeg";break;case"qt":a="video/quicktime";
break;default:a=""}return a};ISQ.Tools.extend=function(b,j){j=j||{};b=b===true;var d=arguments.length;var f=null;for(var c=2;c<d;c++){f=arguments[c];if(typeof(f)==="undefined"||f===null){continue}for(var e in f){var g=j[e],a=f[e];if(j===a){continue}if(typeof(a)==="undefined"){continue}if(b&&a!==null&&typeof(a)==="object"&&!a.nodeType){if(typeof(a.isDerivedOf)!=="function"||!a.isDerivedOf(ISQ.Base)){j[e]=ISQ.Tools.extend(true,g||(a.length!=null?[]:{}),a)}else{j[e]=a}}else{if(a!==undefined){j[e]=a}}}}return j};ISQ.Tools.addArrayToGC=function(b,a){b.add({dispose:function(){for(var c in a){a[c].dispose();a[c]=null}a=null}})};ISQ.Tools.foreach=function(a,b){for(var c in a){var d=null;if(ISQ.Base.isDerivedOf(b,ISQ.Handler)){d=b.handle(a[c],c)}else{d=b(a[c],c)}if(d===false){break}}};window.foreach=ISQ.Tools.foreach;ISQ.Tools.iteration=function(a,b){for(var c=0;c<a.length;++c){var d=null;if(ISQ.Base.isDerivedOf(b,ISQ.Handler)){d=b.handle(a[c],c)}else{d=b(a[c],c)}if(d===false){break}}};window.iteration=ISQ.Tools.iteration;ISQ.Tools.addRemoveClickOutsideElementsListener=function(c,d,a,b){if(!ISQ.Tools.clickOutsideListeners){ISQ.Tools.clickOutsideListeners=new Array()}if(d){if(!c){throw ("ISQ.Tools.addRemoveClickOutsideElementsListener: invalid id")}if(!ISQ.Base.isDerivedOf(b,ISQ.Handler)){throw ("ISQ.Tools.addRemoveClickOutsideElementsListener: invalid handler")}if(!ISQ.Tools.clickOutsideListeners[c]){ISQ.Tools.clickOutsideListeners[c]={}}if(ISQ.Tools.clickOutsideListeners[c].registered){if(document.removeEventListener){document.removeEventListener("click",ISQ.Tools.clickOutsideListeners[c].func,true)}else{if(document.detachEvent){document.detachEvent("onclick",ISQ.Tools.clickOutsideListeners[c].func)}}}ISQ.Tools.clickOutsideListeners[c].func=function(e){if(ISQ.Tools.clickOutsideElements(e,a)){b.handle()}};ISQ.Tools.clickOutsideListeners[c].registered=true;if(document.addEventListener){document.addEventListener("click",ISQ.Tools.clickOutsideListeners[c].func,true)}else{if(document.attachEvent){document.attachEvent("onclick",ISQ.Tools.clickOutsideListeners[c].func)
}}}else{if(ISQ.Tools.clickOutsideListeners[c]&&ISQ.Tools.clickOutsideListeners[c].registered){ISQ.Tools.clickOutsideListeners[c].registered=false;if(document.removeEventListener){document.removeEventListener("click",ISQ.Tools.clickOutsideListeners[c].func,true)}else{if(document.detachEvent){document.detachEvent("onclick",ISQ.Tools.clickOutsideListeners[c].func)}}}}};ISQ.Tools.clickOutsideElements=function(c,b){if(!b||!(b instanceof Array)){return false}var a=ISQ.Html.getDomEvent(c);while(a.target!==document.body){for(var d in b){if(a.target==b[d]){return false}}a.target=a.target.parentNode}if(a.target!==document.body){return false}return true};ISQ.Data=initializeNS("ISQ.Data");ISQ.Data.getEmailAddress=function(e){var a=/[\w-_\&.]+\@[\w-_]+\.+[\w-_.]+/g;var d=e.match(a);if(d===null||d.length===0){return null}var f=new RegExp();f.compile("[~!#$%^&*()=`'\"\\/><?[]{}|]","g");var b=new Array();for(var c=0;c<d.length;++c){if(d[c].search(f)===-1){b.push(d[c])}}return b};ISQ.Data.checkString=function(e,f){var d=true;var c;switch(f){case"email":var a=/^[\w-_\&.]+\@([\w-_]+\.){1,}[\w-_\.]+$/;var g=new RegExp("[~!#$%^&*()=''\"\\/><?[]{}|]","g");return(e.search(g)===-1)&&(e.match(a))&&(e!=="");break;case"number":var b=/^[-]?[0-9]+\.?[0-9]?$/;return b.test(e);break;case"username":c=new RegExp(".+@.+");return(c.test(e));break;case"url":c=new RegExp("^https?://([a-zA-Z0-9]+.){1,}[a-zA-Z0-9]+");return(c.test(e));break}return d};ISQ.Data.checkTextWidth=function(c,b){var a=_("ellipsisDiv");if(!a){a=createDiv(null,"position:fixed;white-space:nowrap;top:0px;left:0px;z-index:-5;visibility:hidden");a.id="ellipsisDiv"}else{clearNode(a)}ISQ.Data.copyElementFontStyle(b,a);a.innerHTML=c;document.body.insertBefore(a,document.body.firstChild);return a.offsetWidth};ISQ.Data.copyElementFontStyle=function(b,c){if(!c||!b){return}var a=null;if(ISQ.Http.browser.isIE9&&document.body.style.overflow){a=document.body.style.overflow;document.body.style.overflow="hidden"}c.style.fontSize=ISQ.CSS.getElementStyle(b,"font-size");c.style.fontWeight=ISQ.CSS.getElementStyle(b,"font-weight");
c.style.fontFamily=ISQ.CSS.getElementStyle(b,"font-family");c.style.fontStyle=ISQ.CSS.getElementStyle(b,"font-style");c.style.textDecoration=ISQ.CSS.getElementStyle(b,"text-decoration");if(a){document.body.style.overflow=a}};ISQ.Data.autoEllipseText=function(l,n,b,e,c,a){var m;var d=false;a=a||null;if(e){m=e.offsetWidth}else{m=ISQ.Data.checkTextWidth(l,b);e=_("ellipsisDiv")}var j=l;if(m>n){d=true;e.innerHTML="";var k=0,f=l.length,g;do{g=k+Math.floor((f-k)/2);e.innerHTML=l.substr(0,g)+"...";if(e.offsetWidth<n){k=g}else{f=g}}while((f-k)>1);if(e.offsetWidth>n){l=l.substr(0,g-1)+"..."}else{l=e.innerHTML}}else{if(c){return}}if(b){b.innerHTML=l;if(d){b.setAttribute("title",j)}}else{return l}};ISQ.Data.jsonToString=function(d,e,c){if(!e){e=new Array()}if(d instanceof Array){e.push("[");for(var b=0;b<d.length;++b){if(b!==0){e.push(",")}ISQ.Data.jsonToString(d[b],e,true)}e.push("]")}else{if(d===null){e.push("null")}else{if(typeof(d)==="object"){e.push("{");var a=true;for(var b in d){if(!a){e.push(",")}a=false;e.push(b);e.push(": ");ISQ.Data.jsonToString(d[b],e,true)}e.push("}")}else{if(typeof(d)==="string"){e.push("'");e.push(d);e.push("'")}else{e.push(d)}}}}if(!c){return e.join("")}};ISQ.Data.blockCreditCardNumbers=function(k,f){var e=/(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})/g;var l=k.replace(/ /g,"").replace(/-/g,"").replace(/\n/g,"").replace(/\r/g,"");var n=l;var d=l.match(e);if(!d||d.length==0){return k}for(var a=0;a<d.length;++a){var c=d[a];var g=new Array();for(var b=0;b<c.length;++b){g.push(f)}n=n.replace(c,g.join(""))}var m=0;for(var a=0;a<k.length;++a){if(k.charAt(a)==" "||k.charAt(a)=="-"){continue}if(l.charAt(m)!=n.charAt(m)){k=k.setCharAt(a,f)}m++}return k};ISQ.Data.createLink=function(e,j,f,c,b,g,a){if(!e||!j){return""}if(b&&g){e=ISQ.Data.unHTML(ISQ.Data.breakWords(e))}else{if(b){e=ISQ.Data.breakWords(e)}else{if(g){e=ISQ.Data.unHTML(e)}}}if(a&&!j.startsWith("http://")&&!j.startsWith("https://")){j="http://"+j
}var d=new Array();d.push('<a href="');d.push(j);if(f){d.push('" target="');d.push(f)}if(c){d.push('" class="');d.push(c)}d.push('">');d.push(e);d.push("</a>");return d.join("")};ISQ.Data.parseURL=function(a,b){if(!a){return""}return a.replace(/[A-Za-z]+:\/\/[A-Za-z0-9-_]+\.[A-Za-z0-9-_:%&\?\/.=]+/,function(c){return ISQ.Data.createLink(c,c,b)})};ISQ.Data.parseTwitterStatus=function(d){if(!d){return""}var c=new ISQ.Data.EntityParser(d);var a=new Array();var b={};while(c.getNextSegment(b)){b.segment=ISQ.Data.parseURL(b.segment,"_blank");b.segment=b.segment.replace(/[@]+[A-Za-z0-9-_]+/g,function(e){var g=e.replace("@","");var f="http://twitter.com/"+g;return ISQ.Data.createLink(e,f,"_blank")});b.segment=b.segment.replace(/[#]+[A-Za-z0-9-_]+/g,function(e){var f=e.replace("#","%23");var g="http://search.twitter.com/search?q="+f;return ISQ.Data.createLink(e,g,"_blank")});a.push(b.segment);a.push(b.entity)}return a.join("")};ISQ.Data.parseArticleContext=function(f,e){result=new Array();var d=0,b=false,c=0,a;while(d<f.length){d=f.indexOf(",",c);if(d===-1){d=f.length}b=!b;if(b){a=f.substring(c,d++)}else{if(!e){result[a]=f.substring(c,d++)}else{result.push(f.substring(c,d++))}}c=d}return result};ISQ.Data.uniqueId=function(){var a=new Date;return a.getTime()};ISQ.Data.nowMili=new Date().getTime();ISQ.Data.dayInMs=24*60*60*1000;ISQ.Tools.fixIE7DropDownInIframe=function(a){var c,b;c=+this.getAttribute("size")||1;b=1;if(a==="click"&&c===1){b=this.options.length}this.setAttribute("size",b)};ISQ.Tools.forceNumericValue=function(a,b){if(b){a.setAttribute("maxLength",b)}$(document).ready(function(){$(a).keydown(function(c){if(c.keyCode==46||c.keyCode==8||c.keyCode==9||c.keyCode==27||(c.keyCode==65&&c.ctrlKey===true)||(c.keyCode>=35&&c.keyCode<=39)){return}else{if(c.shiftKey||(c.keyCode<48||c.keyCode>57)&&(c.keyCode<96||c.keyCode>105)){c.preventDefault()}}})})};ISQ.Data.ADDRESS_DELIMITER=String.fromCharCode(187);ISQ.Data.MailAddress=function(a,b){this.address=a||null;this.displayName=b||null;this.isValid=this.validate()};ISQ.Data.MailAddress.prototype.validate=function(){if(!this.address){return false
}return ISQ.Data.checkString(this.address,"email")};ISQ.Data.MailAddress.prototype.asString=function(){var a=new Array();if(this.displayName){if(this.displayName.indexOf('"')==-1){a.push('"');a.push(this.displayName.replace(/\"/g,'\\"'));a.push('"')}if(this.address.indexOf("<")==-1){a.push("<");a.push(this.address);a.push(">")}a.push(" ")}else{a.push(this.address)}return a.join("")};ISQ.Data.parseEmailAddress=function(j){if(!j){return null}var d={none:0,address:1,name:2,nameQuotes:3};var b,c;var e=new Array();var a=function(){if(b==null){if(c!=null){e.push(new ISQ.Data.MailAddress(c))}else{throw ("ISQ.Data.parseEmailAddress: Error parsing input string: "+j)}}else{if(c==null){e.push(new ISQ.Data.MailAddress(b))}else{e.push(new ISQ.Data.MailAddress(b,c))}}b=null;c=null};var k=d.none;var g=0,f=0;for(f=0;f<j.length;++f){switch(k){case d.none:if(/\s/.test(j[f])){continue}else{switch(j[f]){case"<":k=d.address;g=f+1;break;case'"':k=d.nameQuotes;g=f+1;break;case";":case",":a();k=d.none;break;default:k=d.name;g=f;break}}break;case d.address:if(j[f]==">"){b=j.substring(g,f);k=d.none}break;case d.name:switch(j[f]){case"<":c=j.substring(g,f);k=d.address;g=f+1;break;case";":case",":c=j.substring(g,f);a();k=d.none;break}break;case d.nameQuotes:switch(j[f]){case"\\":if(j.length>f+1){++f}break;case'"':c=j.substring(g,f);k=d.none;break}break}}switch(k){case d.address:b=j.substring(g,f);break;case d.name:if(j[f-1]=='"'||j[f-1]==">"){c=j.substring(g,f-1)}else{c=j.substring(g,f)}break}a();k=d.none;return e};ISQ.Data.createDelimitedEmailAddressList=function(j){var g=new Array();var b=new Array();var d=new Array();try{d=ISQ.Data.parseEmailAddress(j)||new Array()}catch(a){b.push(j)}for(var c=0;c<d.length;c++){var f=d[c];if(!f.address||!f.isValid){b.push(f);continue}if(g.length>0){g.push(ISQ.Data.ADDRESS_DELIMITER)}g.push(f.asString())}return{list:g.join(""),errors:b}};ISQ.Data.htmlDecode=function(b){var a=createElement("div");a.innerHTML=b;return a.innerHTML.Trim()};ISQ.Data.getTextFromHtml=function(b){var a=createElement("div");a.innerHTML=b;
return($(a).text()).Trim()};ISQ.Data.stripHtml=function(b,d){var g=0,f=-1,c=0;var a=new Array();var e;d=d||"";g=b.indexOf("<"+d,g);while(g>-1){a.push(b.substr(c,g-c));f=b.indexOf(">",g);c=g+1;if(f!=-1){e=b.substr(g+1,f-g-1).toLowerCase();if(e.startsWith("br")||e=="p"){a.push("\n ")}c=f+1}else{a.push("<")}g=b.indexOf("<",c)}if(c!=b.length){a.push(b.substr(c,b.length-c))}return a.join("")};ISQ.Data.unHTML=function(a){if(!a){return""}a=a.replace(/\</g,"&lt;");a=a.replace(/\>/g,"&gt;");a=a.replace(/&lt;wbr\/&gt;/g,"<wbr/>");return a};ISQ.Data.toHTML=function(a){if(!a){return""}a=a.replace(/&lt;/g,"<");a=a.replace(/&gt;/g,">");return a};ISQ.Data.escapeJS=function(a){if(!a){return""}a=a.replace(/\'/g,"\\'");return a};ISQ.Data.processHTMLstring=function(u,l){l=l||{};var m={text:"",script:""};if(!u){return m}var p=u.indexOf("<");if(p===-1){if(l.decodeEntities){u=ISQ.Data.htmlDecode(u)}if(l.wordBreak){m.text=ISQ.Data.breakWords(u)}else{m.text=u}return m}var c=-1;var j=0;var k=-1;var o=new Array();var n=null;var t;do{if(j!==p){t=u.substring(j,p);if(l.decodeEntities){t=ISQ.Data.htmlDecode(t)}if(l.wordBreak){ISQ.Data.breakWords(t,o,true)}else{o.push(t)}}k=p;c=u.indexOf(">",p+1);if(c===-1){break}var g="";var r=u.charAt(p+1);if(u.charAt(p+2)===" "&&(r==="A"||r==="a")){c=u.indexOf("</a>",p);if(c===-1){break}c+=4;var q=u.substring(p,c);var s=createDiv(null);s.innerHTML=q;var f=s.firstChild;if(s.parentNode!=null){s.parentNode.removeChild(s)}s=null;if(f.nodeName!=="A"){break}var b=f.getAttribute("nanoreplinkid");if(b&&l.questionTagFunction){l.questionTagFunction(o,b,f.innerHTML,q,l.questionTagCustomParams||null)}else{if(f.getAttribute("href")!="javascript:void(0)"&&l.allowLinksInSameWindow!==true){var a=f.getAttribute("target");switch(a){case"blank":case"top":case"_blank":case"_top":case"_parent":case"parent":break;default:f.setAttribute("target","_blank");break}}g=elementToString(f,ISQ.Data.processHTMLstring(f.innerHTML,l).text)}}else{if(u.equals("script ",p+1)||u.equals("script>",p+1)&&l.doNotProcessScriptTag!==true){var e=u.indexOf(">",p+6);
if(e===-1){break}var d=u.indexOf("</",e);if(d===-1){break}if(n===null){n=new Array()}n.push(u.substring(e+1,d));n.push(";");c=u.indexOf(">",d+2);if(c===-1){break}++c}else{g=u.substring(p,++c)}}o.push(g);j=c;p=u.indexOf("<",j)}while(p!==-1);if(c===-1){t=u.substring(k);if(l.decodeEntities){t=ISQ.Data.htmlDecode(t)}if(l.wordBreak){ISQ.Data.breakWords(t,o,true)}else{o.push(t)}}else{t=u.substring(j);if(l.decodeEntities){t=ISQ.Data.htmlDecode(t)}if(l.wordBreak){ISQ.Data.breakWords(t,o,true)}else{o.push(t)}}m.text=o.join("");if(n){m.script=n.join("")}return m};ISQ.Data.getDBAnswerAsHtml=function(f,d,c,b){try{return ISQ.Data.processHTMLstring(f,{wordBreak:d!==true,questionTagFunction:c,questionTagCustomParams:b,decodeEntities:false})}catch(a){if(typeof(_debug)==="function"){_debug().insertText("ISQ.Data.getDBAnswerAsHtml exception: "+f)}return{text:"",error:a}}};ISQ.Data.breakWords=function(e,d,f){if(!e){if(d){return}return""}var c=new ISQ.Data.EntityParser(e);var b={};var a;if(d){a=d}else{a=new Array()}while(c.getNextSegment(b)){ISQ.Data.breakWords_internal(b.segment,a,f);if(b.entity){a.push(b.entity)}}c.dispose();if(d){return}return a.join("")};ISQ.Data.breakWords_internal=function(f,e,g){if(!f||!e){return}var j="<wbr/>";if(ISQ.Http.browser.full.startsWith("safari3")||ISQ.Http.browser.isOpera||ISQ.Http.browser.isIE8||ISQ.Http.browser.isIE9||ISQ.Http.browser.isIE10){j="&#8203;"}if(g&&ISQ.Http.browser.isIE8){j="&shy;"}var c=f.length;var k=0;var d=-1;var a=false;var b=0;for(b=0;b<c;++b){if(f.charAt(b)===" "){k=0}else{if(k>=20&&k%2===0){e.push(f.substring(d+1,b+1));d=b;e.push(j);++k}else{++k}}}e.push(f.substring(d+1))};ISQ.Data.getTextDirAlign=function(f){if(typeof(f)!=="string"){throw ("getTextDirAlign: no txt")}var d={align:"left",dir:"ltr",alignOpp:"right"};var c=0;var e=0;for(var b=0;b<f.length;++b){var a=f.charCodeAt(b);if(a>=48&&a<=57){continue}if(a>=1456&&a<=1524){++e}else{++c}}if(e>=c){d.align="right";d.dir="rtl";d.alignOpp="left"}return d};ISQ.Data.getURLencodedString=function(a){if(!a){return""}return escape(ISQ.Tools.Base64._utf8_encode(a))
};ISQ.Data.getURLdecodedString=function(a){if(!a){return""}return ISQ.Tools.Base64._utf8_decode(unescape(a))};ISQ.Data.EntityParser=ISQ.Base.extend({name:"ISQ.Data.EntityParser"});ISQ.Data.EntityParser.prototype.ctor=function(a){if(!a){throw ("ISQ.Data.EntityParser: no txt")}this.mOriginalText=a;this.mIndex=0};ISQ.Data.EntityParser.prototype.dtor=function(){};ISQ.Data.EntityParser.prototype.getNextSegment=function(c){if(this.mIndex==this.mOriginalText.length){return false}var b=this.mOriginalText.indexOf("&",this.mIndex);var a=this.mOriginalText.indexOf(";",b);if(b===-1||a===-1||a-b>8){c.entity=null;c.segment=this.mOriginalText.substring(this.mIndex);this.mIndex=this.mOriginalText.length}else{if(b!==-1){c.entity=this.mOriginalText.substring(b,++a);var d=this.mOriginalText.substring(this.mIndex,b);c.segment=d;this.mIndex=a}}return true};ISQ.Data.EntityParser.prototype.mOriginalText;ISQ.Data.EntityParser.prototype.mLastEntityFound=null;ISQ.Data.EntityParser.prototype.mAlteredText;ISQ.Data.EntityParser.prototype.mIndex=0;ISQ.Data.EntityParser.prototype.mNextIndex=-1;ISQ.Data.decodeEntities=function(b){if(typeof(jQuery)==="function"){return $("<div/>").html(b).text()}try{if(!ISQ.Data.entityDecoderElement){ISQ.Data.entityDecoderElement=createElement("textarea",document.body,"display:none;visibility:hidden;position:absolute;top:100px;left:13px;")}ISQ.Data.entityDecoderElement.innerHTML=ISQ.Data.unHTML(b);return ISQ.Data.entityDecoderElement.value}catch(a){return b}};ISQ.Data.Xml=initializeNS("ISQ.Data.Xml");ISQ.Data.Xml.toXML=function(c){var d=null;if(ISQ.Http.browser.app==="ie"){try{d=new ActiveXObject("Microsoft.XMLDOM");d.async="false";d.loadXML(c)}catch(a){d=null}}else{try{var b=new DOMParser();d=b.parseFromString(c,"text/xml");b=null}catch(a){d=null}}return d};ISQ.Data.Xml.getChildsByName=function(e,c){if(!e){return null}var b=e.childNodes.length;var d=null;for(var a=0;a<b;++a){if(e.childNodes[a].nodeName===c){if(d===null){d=new Array()}d.push(e.childNodes[a])}}return d};ISQ.Data.Xml.downloadXML=function(c,a){c=c||null;
a=a||null;if(!c||typeof(a)!=="function"){return}var b=null;if(ISQ.Http.browser.app==="ie"){b=new ActiveXObject("Microsoft.XMLDOM");b.async=true;b.onreadystatechange=function(){if(b.readyState===4){a(b)}};b.load(c)}else{b=new XMLHttpRequest();if(ISQ.Http.browser.app==="ff"&&(ISQ.Http.browser.version==="3"||ISQ.Http.browser.version==="3.6")){b.onload=function(){var e=b.responseText;var d=new DOMParser();var f=d.parseFromString(e,"text/xml");a(f)}}else{b.onreadystatechange=function(){if(b.readyState===4){var e=b.responseText;var d=new DOMParser();var f=d.parseFromString(e,"text/xml");a(f)}}}b.open("GET",c,true);b.send(null)}};ISQ.Data.Xml.getFirstElementByName=function(e,c){if(!e){return null}if(e.nodeName===c){return e}var a=e.childNodes;if(a.length===0){return null}for(var b=0;b<a.length;++b){var d=ISQ.Data.Xml.getFirstElementByName(a[b],c);if(d!==null){return d}}return null};ISQ.Tools.FileLoader=initializeNS("ISQ.Tools.FileLoader");ISQ.Tools.FileLoader.ajaxPool=null;ISQ.Tools.FileLoader.getAjaxPool=function(){if(ISQ.Tools.FileLoader.ajaxPool===null){var a=(ISQ.Http.browser.isIE6||ISQ.Http.browser.isIE7)?1:2;ISQ.Tools.FileLoader.ajaxPool=new Ajax.Pool("/kb",a,Ajax.methodEnum.GET,Ajax.typeEnum.ASYNC,10000);ISQ.Tools.FileLoader.ajaxPool.incomingResponseEvent.addHandler(ISQ.Tools.FileLoader.loadResponse);if(isNSexists("ISQ.Console")){sessionGC().add(ISQ.Tools.FileLoader.ajaxPool)}}return ISQ.Tools.FileLoader.ajaxPool};ISQ.Tools.FileLoader.load=function(j,d,k){if(d&&!ISQ.Base.isDerivedOf(d,ISQ.Handler)){d=new ISQ.Handler(d)}var g=j.indexOf("?");var f;if(g===-1){f=j}else{f=j.substr(0,g)}if(f.endsWith(".js")){var a=ISQ.Tools.FileLoader.getAjaxPool();a.add(null,j,new Ajax.Token({callback:d,tag:k}));return}var c=null;var e=document.getElementsByTagName("head")[0];if(f.endsWith(".css")){c=createElement("link");c.setAttribute("rel","stylesheet");c.setAttribute("type","text/css");c.setAttribute("href",j);c.async=true;c.defer=true}if(c===null){return}var b=null;if(d){var b=function(){if(k){d.handle(k)}else{d.handle()}d.dispose();
d=null}}if(ISQ.Http.browser.app!=="ie"){if(b){(function(){if(!c.sheet){setTimeout(arguments.callee,30);return}b()})()}}else{c.onreadystatechange=function(){if(this.readyState!=="complete"&&this.readyState!=="loaded"){return}if(b){b();b=null}}}e.appendChild(c)};ISQ.Tools.FileLoader.loadResponse=function(response){try{eval(response.text)}catch(ex){_debug().insertText("ISQ.Tools.FileLoader.loadResponse: Error loading js file ( "+response.request.mUrl+").\n"+ex)}if(!response.token||!response.token.callback){return}var tag=response.token.tag;if(tag){response.token.callback.handle(tag)}else{response.token.callback.handle()}response.token.callback.dispose();response.token.callback=null};ISQ.Tools.appendScript=function(c,a){var b=document.createElement("script");b.type="text/javascript";b.async=true;b.defer=true;if(c instanceof Array){c=c.join("")}if(a){if(ISQ.Http.browser.app!=="ie"){b.onload=a}else{b.onreadystatechange=function(){if(this.readyState!=="complete"&&this.readyState!=="loaded"){return}a()}}}b.src=c;document.getElementsByTagName("head")[0].appendChild(b)};ISQ.Tools.Time=initializeNS("ISQ.Tools.Time");ISQ.Tools.Time.ticksDiff=62135596800000;ISQ.Tools.Time.toClientTicks=function(a){return a-ISQ.Tools.Time.ticksDiff};ISQ.Tools.Time.toServerTicks=function(a){return a+ISQ.Tools.Time.ticksDiff};ISQ.Tools.Time.secondsInTime=function(c,a,d){var b={};d=d||86400;b.days=parseInt(c/d);if(a){b.days=ISQ.Tools.getPrettyNumber(b.days)}c=c%d;b.hours=parseInt(c/3600);c=c%3600;b.minutes=parseInt(c/60);b.seconds=c%60;return b};ISQ.Tools.Time.stringToSpan=function(j){if(!j.contains(":")){throw ("ISQ.Tools.Time.stringToSpan: Incorrect string format")}var g=j.split(":");if(g.length>4){throw ("ISQ.Tools.Time.stringToSpan: Incorrect string format")}var b=0,c=0,e=0,f=0;for(var d=0;d<g.length;++d){if(g[d].startsWith("0")){var a=0;while(g[d].charAt(a)==="0"){++a}if(a!==g[d].length){g[d]=g[d].substring(a)}}}if(g.length==4){b=parseInt(g[0]);c=parseInt(g[1]);e=parseInt(g[2]);f=parseInt(g[3])}if(g.length==3){c=parseInt(g[0]);e=parseInt(g[1]);
f=parseInt(g[2])}if(g.length==2){c=parseInt(g[0]);e=parseInt(g[1])}return{days:b,hours:c,minutes:e,seconds:f}};ISQ.Tools.Time.drawSLATime=function(d,b,c){var e=new Array();var a=false;if(b){ISQ.Tools.Time.appendTimeToStringBuilder(b,e)}else{if(d){ISQ.Tools.Time.appendTimeToStringBuilder(d,e)}}if(e.length===0){e.push(" N/A ")}c.innerHTML=e.join("")};ISQ.Tools.Time.appendTimeToStringBuilder=function(e,d,a){a=a!==false;var b=d.length;var c=false;if(e.days>0){d.push(e.days);d.push("d");a=false}if(e.hours!=0||e.days>0){if(d.length!==b){d.push(" ")}d.push(e.hours);d.push("h");a=false;c=true}if(e.days===0&&(e.minutes>0||c)){if(d.length!==b){d.push(" ")}d.push(e.minutes);d.push("m")}if((a&&e.seconds>0)||d.length===b){if(d.length!==b){d.push(" ")}d.push(e.seconds);d.push("s")}};ISQ.Tools.Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(k){var l="";var a,b,c,d,e,f,g;var j=0;while(j<k.length){a=k.charCodeAt(j++);b=k.charCodeAt(j++);c=k.charCodeAt(j++);d=a>>2;e=((a&3)<<4)|(b>>4);f=((b&15)<<2)|(c>>6);g=c&63;if(isNaN(b)){f=g=64}else{if(isNaN(c)){g=64}}l=l+this._keyStr.charAt(d)+this._keyStr.charAt(e)+this._keyStr.charAt(f)+this._keyStr.charAt(g)}return l},decode:function(k){var l="";var a,b,c;var d,e,f,g;var j=0;k=k.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(j<k.length){d=this._keyStr.indexOf(k.charAt(j++));e=this._keyStr.indexOf(k.charAt(j++));f=this._keyStr.indexOf(k.charAt(j++));g=this._keyStr.indexOf(k.charAt(j++));a=(d<<2)|(e>>4);b=((e&15)<<4)|(f>>2);c=((f&3)<<6)|g;l=l+String.fromCharCode(a);if(f!=64){l=l+String.fromCharCode(b)}if(g!=64){l=l+String.fromCharCode(c)}}return l},_utf8_encode:function(d){d=d.replace(/\r\n/g,"\n");var e="";for(var b=0;b<d.length;b++){var a=d.charCodeAt(b);if(a<128){e+=String.fromCharCode(a)}else{if((a>127)&&(a<2048)){e+=String.fromCharCode((a>>6)|192);e+=String.fromCharCode((a&63)|128)}else{e+=String.fromCharCode((a>>12)|224);e+=String.fromCharCode(((a>>6)&63)|128);e+=String.fromCharCode((a&63)|128)}}}return e},_utf8_decode:function(e){var d="";var b=0;
var a=c1=c2=0;while(b<e.length){a=e.charCodeAt(b);if(a<128){d+=String.fromCharCode(a);b++}else{if((a>191)&&(a<224)){c2=e.charCodeAt(b+1);d+=String.fromCharCode(((a&31)<<6)|(c2&63));b+=2}else{c2=e.charCodeAt(b+1);c3=e.charCodeAt(b+2);d+=String.fromCharCode(((a&15)<<12)|((c2&63)<<6)|(c3&63));b+=3}}}return d},encodeString:function(d){if(!d){return""}var a=false;for(var b=0;b<d.length&&!a;++b){if(d.charCodeAt(b)>127){a=true}}var c;if(a){d=ISQ.Tools.Base64._utf8_encode(d)}return ISQ.Tools.Base64.encode(d)},decodeString:function(a){var d=ISQ.Tools.Base64.decode(a);var b=false;for(var c=0;c<d.length&&!b;++c){if(d.charCodeAt(c)>127){b=true}}if(b){d=ISQ.Tools.Base64._utf8_decode(d)}return d}};ISQ.Tools.BigUInt256=null;ISQ.Tools.ConvertFromByteArray=function(b,k,d){if(ISQ.Tools.BigUInt256===null){ISQ.Tools.BigUInt256=new ISQ.Tools.BigUInt("256")}var e;var a;switch(k){case"Int64":e=d+8;break;case"Int32":e=d+4;break;default:throw ("ISQ.Tools.ConvertFromByteArray: invalid type");break}if(b.length<e){throw ("ISQ.Tools.ConvertFromByteArray: invalid offset")}var a=new ISQ.Tools.BigUInt("0");for(var c=e-1;c>=d;--c){var f=a.multiply(ISQ.Tools.BigUInt256);a=f;var j=new ISQ.Tools.BigUInt(b.charCodeAt(c));f=a.add(j);a=f}var g=a.toString();return g};ISQ.Tools.ConvertToByteArray=function(g,j){if(ISQ.Tools.BigUInt256===null){ISQ.Tools.BigUInt256=new ISQ.Tools.BigUInt("256")}var b="";var a;var d=0;switch(j){case"Int64":d=8;break;case"Int32":d=4;break;default:throw ("ISQ.Tools.ConvertFromByteArray: invalid type");break}var a=new ISQ.Tools.BigUInt(g);for(var c=0;c<d;++c){var e={};var f=a.divide(ISQ.Tools.BigUInt256,e);a=f;b=b+String.fromCharCode(e.value.toString())}return b};ISQ.Tools.getHex=function(g){var a=new ISQ.Tools.BigUInt(16);var c=new ISQ.Tools.BigUInt(g);var f=new Array();var e={value:null};var b=0;while(true&&++b<=100){c=c.divide(a,e);var d=e.value.toString();switch(d){case"":f.push("0");break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":f.push(d);break;case"10":f.push("A");break;case"11":f.push("B");
break;case"12":f.push("C");break;case"13":f.push("D");break;case"14":f.push("E");break;case"15":f.push("F");break}var d=c.toString();if(!d||d==="0"){break}}f.reverse();return f.join("")};ISQ.Tools.compareArrays=function(a,b,f){if(a===b){return true}if(!a&&!b){return true}if(!a||!b){return false}if(a.length!==b.length){return false}for(var d in a){var g=a[d];var c=false;for(var e in b){if(b[e]===g){c=true;break}}if(!c){return false}}if(f){return true}return ISQ.Tools.compareArrays(b,a,true)};ISQ.Tools.reverseArray=function(a){var d=a.length;for(var b=0;b<a.length;++b){var e=0;for(var c=1;c<d;++c){var f=a[e];a[e]=a[c];a[c]=f;++e}--d}};ISQ.Tools.disposeArray=function(a){if(!a){return}for(var b=0;b<a.length;++b){if(!a[b]){continue}if(a[b] instanceof Array){ISQ.Tools.disposeArray(a[b]);continue}if(typeof(a[b].dispose)==="function"){a[b].dispose()}a[b]=null;delete a[b]}};ISQ.Tools.Languages={ar:"Arabic",bg:"Bulgarian",cs:"Czech",da:"Danish",de:"German",el:"Greek, Modern",en:"English",es:"Spanish",et:"Estonian",fi:"Finnish",fr:"French",hi:"Hindi",hu:"Hungarian",id:"Indonesian",it:"Italian",iw:"Hebrew",ja:"Japanese",ko:"Korean",lt:"Lithuanian",lv:"Latvian",nl:"Dutch",no:"Norwegian",pl:"Polish",pt:"Portuguese",ro:"Romanian, Moldavian, Moldovan",ru:"Russian",sk:"Slovak",sl:"Slovene",sv:"Swedish",th:"Thai",tr:"Turkish",uk:"Ukrainian",vi:"Vietnamese",zh:"Chinese"};ISQ.Tools.LanguageSynonym={"zh-CHS":"Chinese","zh-CHT":"Chinese","zh-CN":"Chinese",he:"Hebrew"};ISQ.Tools.UniformLanguageCode={he:"iw","zh-CHS":"zh","zh-CHT":"zh","zh-CN":"zh"};ISQ.Tools.getUniformLanguageCode=function(a){if(!a){return null}var b=ISQ.Tools.UniformLanguageCode[a];if(b){return b}return a};ISQ.Tools.getLanguageName=function(b){var a=ISQ.Tools.Languages[b];if(!a){a=ISQ.Tools.LanguageSynonym[b]}if(!a){return null}return a};ISQ.Tools.HTML=initializeNS("ISQ.Tools.HTML");ISQ.Tools.HTML.openPopup=function(g,c,j,a,e){var b=(screen.width/2)-(j/2);var f=(screen.height/2)-(a/2);var d=e||"no";return window.open(g,c,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars="+d+", resizable=no, copyhistory=no, width="+j+", height="+a+", top="+f+", left="+b)
};ISQ.Event=ISQ.Base.extend({name:"ISQ.Event"});ISQ.Event.prototype.ctor=function(){this.mCount=0};ISQ.Event.prototype.dtor=function(){if(this.handlers!==null){var b=this.handlers.length;for(var a=0;a<b;++a){if(this.handlers[a]!==null){this.handlers[a].dispose()}}delete this.handlers}this.handlers=null};ISQ.Event.prototype.handlers=null;ISQ.Event.prototype.mCount=0;ISQ.Event.prototype.mRemovedHandler=false;ISQ.Event.prototype.dispatch=function(){if(this.isDisposed()){return}if(this.handlers===null){return}var d=this.handlers.length;for(var c=0;c<d;++c){if(this.isDisposed()){return}var b=this.handlers[c];try{if(b!==null){b.handle.apply(b,arguments)}}catch(a){if(debugLevel&&typeof(ISQ.Debug)!=="undefined"){ISQ.Debug.insertText("Exception in event dispatch: "+a);ISQ.Debug.insertText("Handler:");ISQ.Debug.insertText("Func: "+b.func);ISQ.Debug.insertText("Context: "+b.context);ISQ.Debug.insertStackCallback();ISQ.Debug.insertText("Exception is rolled away");throw (a)}}}if(this.isDisposed()){return}if(this.mRemovedHandler){this.cleanDisposedHandlers()}};ISQ.Event.prototype.cleanDisposedHandlers=function(){if(!this.mRemovedHandler){return}var b=this.handlers.length;for(var a=0;a<b;++a){if(this.handlers[a]===null){this.handlers.splice(a,1);--a;--b}}this.mRemovedHandler=false};ISQ.Event.prototype.addHandlerObject=function(b){if(this.isDisposed()){return}if(this.handlers===null){this.handlers=new Array()}var c=this.handlers.length;for(i=0;i<c;++i){var a=this.handlers[i];if(a!==null&&a.func===b.func&&a.context===b.context){return}}this.handlers.push(b);++this.mCount;this.cleanDisposedHandlers();return b};ISQ.Event.prototype.addHandler=function(b,a){if(this.isDisposed()){return}if(this.handlers===null){this.handlers=new Array()}var e=this.handlers.length;for(i=0;i<e;++i){var c=this.handlers[i];if(c!==null&&c.func===b&&c.context===a){return}}var d=new ISQ.Handler(b,a);this.handlers.push(d);++this.mCount;b=null;a=null;this.cleanDisposedHandlers();return d};ISQ.Event.prototype.removeHandlerObject=function(b){if(this.handlers===null){return
}var d=this.handlers.length;var a=null;var c;for(c=0;c<d;++c){if(this.handlers[c]===b){--this.mCount;this.handlers[c]=null;break}}this.mRemovedHandler=true;b.dispose()};ISQ.Event.prototype.removeHandler=function(b,a){if(this.handlers===null){return}a=a||null;var e=this.handlers.length;var c=null;var d;for(d=0;(d<e&&c===null);++d){if(this.handlers[d]!==null&&this.handlers[d].func===b&&this.handlers[d].context===a){c=this.handlers[d];this.handlers[d]=null;--this.mCount;break}}this.mRemovedHandler=true;if(c!==null){c.dispose()}b=null;a=null};ISQ.Event.prototype.count=function(){return this.mCount};ISQ.Handler=ISQ.Base.extend({name:"ISQ.Handler"});ISQ.Handler.prototype.ctor=function(b,a){b=b||null;a=a||null;if(typeof(b)!=="function"){throw ("Error creating event handler: no function is passed")}this.func=b;this.context=a;return this};ISQ.Handler.prototype.dtor=function(){delete this.func;delete this.context;this.func=null;this.context=null};ISQ.Handler.prototype.handle=function(){return this.func.apply(this.context,arguments)};ISQ.Handler.prototype.handleArgumentArray=function(){if(arguments.length===0){throw ("invalid use of ISQ.Handler.handleArgumentArray")}if(typeof(arguments[0].length)!=="number"){throw ("invalid array in ISQ.Handler.handleArgumentArray")}return this.func.apply(this.context,ISQ.Tools.toArray(arguments[0]))};ISQ.Handler.prototype.func=null;ISQ.Handler.prototype.context=null;ISQ.Timer=ISQ.Base.extend({name:"ISQ.Timer"});ISQ.Timer.prototype.ctor=function(b,a){if(!ISQ.Base.isDerivedOf(b,ISQ.Handler)){throw ("ISQ.Timer.ctor: invalid handler")}this.mHandler=b;this.mDisposeAfterTimerElapsed=a!==false;this.mParams=new Array();if(arguments.length<=2){return}for(var c=2;c<arguments.length;++c){this.mParams.push(arguments[c])}};ISQ.Timer.prototype.dtor=function(){this.start=null;if(this.mTimer){clearTimeout(this.mTimer);this.mTimer=null}};ISQ.Timer.prototype.start=function(b){if(typeof(b)!=="number"){throw ("Timer interval illegal")}if(arguments.length>1){this.mParams=new Array();for(var a=1;a<arguments.length;
++a){this.mParams.push(arguments[a])}}var c=this;this.mTimer=setTimeout(function(){if(c.mTimer===null){return}c.timerElapsed.apply(c,new Array())},b)};ISQ.Timer.prototype.timerElapsed=function(){this.mHandler.handleArgumentArray(this.mParams);if(this.mDisposeAfterTimerElapsed){this.dispose()}};ISQ.Timer.prototype.cancel=function(){if(this.mTimer===null){return}clearTimeout(this.mTimer);this.mTimer=null};ISQ.Timer.prototype.isRunning=function(){return this.mTimer!==null};ISQ.Timer.prototype.mDisposeAfterTimerElapsed=true;ISQ.Timer.prototype.mTimer=null;ISQ.Timer.prototype.mHandler=null;ISQ.Timer.prototype.mParams=null;ISQ.Http=initializeNS("ISQ.Http");ISQ.Http.MAX_URL_SIZE=2047;ISQ.Http.getNoHashUrl=function(){var b=window.location.hash;var a=window.location.href;if(b!==""){var c;do{c=a.indexOf(b);if(c!==-1){a=a.substring(0,c)}}while(c!==-1)}return a};ISQ.Http.detectBroswer=function(){var b=navigator.appVersion;var f=navigator.userAgent;var a=0;ISQ.Http.browser={};if(navigator.appVersion.indexOf("Android")!==-1){ISQ.Http.browser.app="android";var c=navigator.appVersion.indexOf("Android ")+8;var g=navigator.appVersion.substring(c,navigator.appVersion.indexOf(";",c));ISQ.Http.browser.version=g;ISQ.Http.browser.isMobile=true;ISQ.Http.browser.usesViewport=true;ISQ.Http.browser.isAndroid=true;if(parseInt(ISQ.Http.browser.version)<4){ISQ.Http.browser.oldAndroid=true}}else{if(navigator.appVersion.indexOf("iPhone")!==-1){var g=navigator.appVersion.substring(0,navigator.appVersion.indexOf(" "));ISQ.Http.browser.app="safari";ISQ.Http.browser.version="iphone "+parseInt(g);ISQ.Http.browser.isMobile=true;ISQ.Http.browser.usesViewport=true;ISQ.Http.browser.isIPhone=true;if(b.indexOf("OS 6_")!==-1){ISQ.Http.browser.isIOS6=true}}else{if(navigator.appVersion.indexOf("iPad")!==-1){var g=navigator.appVersion.substring(0,navigator.appVersion.indexOf(" "));ISQ.Http.browser.app="safari";ISQ.Http.browser.version="ipad "+parseInt(g);ISQ.Http.browser.isTablet=true;ISQ.Http.browser.usesViewport=true;ISQ.Http.browser.isIPad=true}else{if((a=b.indexOf("MSIE "))!==-1){ISQ.Http.browser.app="ie";
a+=5;var e=b.indexOf(" ",a);if(e===-1){ISQ.Http.browser.version=b.substring(a)}else{ISQ.Http.browser.version=b.substring(a,e)}if(ISQ.Http.browser.version.startsWith("10")){ISQ.Http.browser.isIE10=true}if(ISQ.Http.browser.version.startsWith("9")){ISQ.Http.browser.isIE9=true}if(ISQ.Http.browser.version.startsWith("8")){ISQ.Http.browser.isIE8=true}if(ISQ.Http.browser.version.startsWith("7")){ISQ.Http.browser.isIE7=true}if(ISQ.Http.browser.version.startsWith("6")){ISQ.Http.browser.isIE6=true}ISQ.Http.browser.isIE=true}else{if(b.indexOf("Chrome")!==-1){ISQ.Http.browser.app="chrome";ISQ.Http.browser.version="0"}else{if((a=b.indexOf("Safari"))!==-1){var g=b.substring(a+7);ISQ.Http.browser.app="safari";if(g<="530.17"){ISQ.Http.browser.version="3"}else{ISQ.Http.browser.version="4"}}else{if((a=f.indexOf("Firefox/"))!==-1){ISQ.Http.browser.app="ff";var e=f.indexOf(" ",a);if(e===-1){ISQ.Http.browser.version=f.substring(a+8)}else{ISQ.Http.browser.version=f.substring(a+8,e)}if(ISQ.Http.browser.version.startsWith("3")){ISQ.Http.browser.isFF3=true}if(ISQ.Http.browser.version.startsWith("3.0")){ISQ.Http.browser.isFF3_0=true}}else{if(f.indexOf("Opera/")!==-1){ISQ.Http.browser.app="opera";var c=f.indexOf("Version/");if(c===-1){var d=f.indexOf(" ",6);ISQ.Http.browser.version=f.substring(6,d)}else{var d=f.indexOf(" ",c);if(d===-1){ISQ.Http.browser.version=f.substring(c+8)}else{ISQ.Http.browser.version=f.substring(c+8,d)}}ISQ.Http.browser.isOpera=true}else{if(f.contains("Symbian")){ISQ.Http.browser.app="symbian";ISQ.Http.browser.version=1;ISQ.Http.browser.full=ISQ.Http.browser.app+ISQ.Http.browser.version}else{ISQ.Http.browser.app="ie";ISQ.Http.browser.version="7.0;";ISQ.Http.browser.isIE7=true}}}}}}}}}ISQ.Http.browser.full=ISQ.Http.browser.app+ISQ.Http.browser.version;f=null;b=null};if(typeof(ISQ.Http.browser)==="undefined"||!ISQ.Http.browser){ISQ.Http.detectBroswer()}ISQ.Http.Cookies=initializeNS("ISQ.Http.Cookies");ISQ.Http.Cookies._read=function(d){if(!d){return null}var k=document.cookie;var f=0;var a;var e;var g=0;var c={KEY:1,VALUE:2};
var j=c.KEY;while(g<k.length){a=k.charAt(g++);if(a===" "){continue}if(j===c.KEY){if(a==="="){j=c.VALUE;f=0;continue}e=d.charAt(f);if(a===e||a.toLowerCase()===e.toLowerCase()){if(++f===d.length){if(k.charAt(g)==="="){var b=k.indexOf(";",++g);if(b===-1){b=k.length}return k.substring(g,b)}else{f=0}}}else{f=0}}else{if(a===";"){j=c.KEY}}}return null};ISQ.Http.Cookies._readCaseSensitive=function(b){if(!b){return null}var d=document.cookie;var c=d.indexOf(b);while(c!==-1){c+=b.length;if(d.charAt(c)==="="){var a=d.indexOf(";",++c);if(a===-1){a=d.length}return d.substring(c,a)}else{c=d.indexOf(b)}}return null};ISQ.Http.Cookies._write=function(e,j,f,b,g,d){e=e||null;j=!isNaN(j)?j:j||null;f=f||"/";b=b||null;g=g===true;d=d||null;if(e===null||j===null){return}var c=new Date();if(d!==null){c.setSeconds(c.getSeconds()+d);c=c.toGMTString()}var a=[];if(e.indexOf("%20")!==-1||e.toLowerCase().indexOf("%3a")!==-1){a.push(e)}else{a.push(escape(e))}a.push("=");if(j.toString().indexOf("%20")!==-1||j.toString().toLowerCase().indexOf("%3a")!==-1){a.push(j)}else{a.push(escape(j))}a.push("; path=");a.push(f);if(b!==null){a.push("; domain=");a.push(b)}if(g){a.push("; secure=");a.push(g)}if(d!==null){a.push("; expires=");a.push(c)}document.cookie=a.join("")};ISQ.Http.Cookies._delete=function(d,e,b,f){d=d||null;e=e||null;b=b||null;f=f||null;if(d===null){return}var g=ISQ.Http.Cookies._read(d);if(g===null){return}var c=new Date();c.setMonth(c.getMonth()-1);c=c.toGMTString();var a=[];a.push(escape(d));a.push("=1");a.push("; expires=");a.push(c);e=e||"/";a.push("; path=");a.push(e);b=b||ISQ.Http.domain(false);a.push("; domain=");a.push(b);if(f!==null){a.push("; secure=");a.push(f)}document.cookie=a.join("")};ISQ.Http.Cookies.encode64=function(b){b+="";if(b.length===0){return b}var a=ISQ.Tools.Base64.encodeString(b);return a.replace(/\=/g,"_").replace(/\+/g,"|")};ISQ.Http.Cookies.decode64=function(b){b+="";if(b.length===0){return b}var a=b.replace(/\_/g,"=").replace(/\|/g,"+");return ISQ.Tools.Base64.decodeString(a)};ISQ.Http.domain=function(c,e){e=e||window.location.href;
c=c===true;if(typeof(ISQ.Http.mDomain)==="undefined"||!ISQ.Http.mDomain){var d=e.indexOf("//")+2;var b=e.substring(d);ISQ.Http.mIncludePort=b.substring(0,b.indexOf("/"));var a=b.indexOf(":");if(a>-1){ISQ.Http.mDomain=ISQ.Http.mIncludePort.substring(0,a)}else{ISQ.Http.mDomain=ISQ.Http.mIncludePort}}if(c){return ISQ.Http.mIncludePort}else{return ISQ.Http.mDomain}};ISQ.Http.relativePath=function(e){e=e||window.location.href;var d={path:"",filename:""};var a=e.indexOf("//")+2;a=e.indexOf("/",a);if(a==e.length-1){return d}var c=e.indexOf("?");var b=e.LastIndexOf_char("/",c===-1?0:c);d.path=e.substring(a,b++);d.filename=e.substring(b);a=d.filename.indexOf("#");if(a!==-1){d.filename=d.filename.substring(0,a)}return d};if(typeof(ISQ.Http.urlArguments)==="undefined"||!ISQ.Http.urlArguments){if(window.location.search.length!==0){ISQ.Http.urlArguments=ISQ.Tools.stringToPairArray(window.location.search.substring(1),"=","&",true,false)}else{ISQ.Http.urlArguments=[]}}if(typeof(ISQ.Http.hashArguments)==="undefined"||!ISQ.Http.hashArguments){if(window.location.hash.length!==0){ISQ.Http.hashArguments=ISQ.Tools.stringToPairArray(window.location.hash.substring(1),"=","&",true,false)}else{ISQ.Http.hashArguments=[]}}ISQ.Http.getUrlParam=function(a,e){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var c="[\\?&]"+a+"=([^&#]*)";var b=new RegExp(c);e=e||window;var d=b.exec(e.location.href);if(d==null){return""}else{return d[1]}};ISQ.CSS=initializeNS("ISQ.CSS");ISQ.CSS.getVerticalMargin=function(a){var b=0;tp=ISQ.CSS.getElementStyle(a,"margin-top");tp=parseInt(tp);if(!isNaN(tp)){b+=tp}bt=ISQ.CSS.getElementStyle(a,"margin-bottom");bt=parseInt(bt);if(!isNaN(bt)){b+=bt}return b};ISQ.CSS.getHorizonalMargin=function(a){var b=0;left=ISQ.CSS.getElementStyle(a,"margin-left");left=parseInt(left);if(!isNaN(left)){b+=left}right=ISQ.CSS.getElementStyle(a,"margin-right");right=parseInt(right);if(!isNaN(right)){b+=right}return b};ISQ.CSS.setStyle=function(c,e,a){c=ISQ.Html._(c);if(c===null){return}if(typeof(e)!=="string"){return}if(typeof(a)==="undefined"){a=true
}if(a){c.className="";c.style.cssText=""}var d=e.split("&");for(var b=0;b<d.length;++b){if(d[b].charAt(0)==="."){c.className+=" "+d[b].substring(1)}else{c.style.cssText+=";"+d[b]}}};ISQ.CSS.setOpacity=function(b,c){b=ISQ.Html._(b);if(b===null){return}if(typeof(c)!=="number"||(c<0||c>100)){return}if(ISQ.Http.browser.isIE6||ISQ.Http.browser.isIE7){if(c===100){b.style.removeAttribute("filter");if(b.nodeName==="TR"){for(var a=0;a<b.childNodes.length;++a){ISQ.CSS.setOpacity(b.childNodes[a],c)}}}else{b.style.filter="alpha(opacity="+c+")";if(b.nodeName==="TR"){for(var a=0;a<b.childNodes.length;++a){ISQ.CSS.setOpacity(b.childNodes[a],c)}}}}else{if(ISQ.Http.browser.isIE8||ISQ.Http.browser.isIE9||ISQ.Http.browser.isIE10){if(c===100){b.style.removeAttribute("filter");if(b.nodeName==="TR"){for(var a=0;a<b.childNodes.length;++a){b.childNodes[a].style.removeAttribute("filter")}}}else{b.style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity="+c+")";if(b.nodeName==="TR"){for(var a=0;a<b.childNodes.length;++a){b.childNodes[a].style.filter="inherit"}}}}else{if(c===100){b.style.removeProperty("opacity");if(ISQ.Http.browser.app==="opera"&&b.nodeName==="TR"){for(var a=0;a<b.childNodes.length;++a){b.childNodes[a].style.removeProperty("opacity")}}}else{b.style.opacity=(c/100);if(ISQ.Http.browser.app==="opera"&&b.nodeName==="TR"){for(var a=0;a<b.childNodes.length;++a){b.childNodes[a].style.opacity="inherit"}}}}}};ISQ.CSS.toggleCss=function(a,c){var g="cssRules";if(ISQ.Http.browser.app==="ie"){g="rules"}var f=document.styleSheets.length;for(var d=f-1;d>=0;--d){var k=document.styleSheets[d];try{if(k.href||k[g].length==0){continue}var j=k[g][0].selectorText;if(!j){continue}if(j.toLowerCase()!==a){continue}k.disabled=!c}catch(b){}}};ISQ.CSS.getElementStyle=function(b,e){b=ISQ.Html._(b);var f;if(b.currentStyle){var a=new Array();var d=-1,c=0;while((hyphen=e.indexOf("-",d+1))>-1){if(hyphen<e.length){c=e.indexOf("-",hyphen+1);if(c==-1){c=e.length}}a.push(e.substring(d,hyphen));a.push(e.substring(hyphen+1,hyphen+2).toUpperCase());a.push(e.substring(hyphen+2,c));
d=hyphen}e=a.join("");f=b.currentStyle[e]}else{if(window.getComputedStyle){f=document.defaultView.getComputedStyle(b,null).getPropertyValue(e)}}return f};ISQ.CSS.getElementWidth=function(a,b){var c=a.offsetWidth;c-=ISQ.Tools.getNumber(ISQ.CSS.getElementStyle(a,"padding-left"),0);c-=ISQ.Tools.getNumber(ISQ.CSS.getElementStyle(a,"padding-right"),0);if(b){c-=ISQ.CSS.getHorizonalMargin(a)}return c};ISQ.CSS.getElementHeight=function(a,c,b){var d=a.offsetHeight;if(d===0){if(b){return 0}d=ISQ.Tools.getNumber(ISQ.CSS.getElementStyle(a,"height"),0)}d-=ISQ.Tools.getNumber(ISQ.CSS.getElementStyle(a,"padding-top"),0);d-=ISQ.Tools.getNumber(ISQ.CSS.getElementStyle(a,"padding-bottom"),0);if(c){d-=ISQ.CSS.getVerticalMargin(a)}return d};ISQ.CSS.setWidthIncludingPadding=function(a,b){b-=ISQ.Tools.getNumber(ISQ.CSS.getElementStyle(a,"padding-left"),0);b-=ISQ.Tools.getNumber(ISQ.CSS.getElementStyle(a,"padding-right"),0);a.style.width=b+"px"};ISQ.CSS.setNodeStyleText=function(a,b){a.setAttribute("style",b);a.style.cssText=b};ISQ.CSS.addNewStyle=function(a){var b=document.createElement("style");b.type="text/css";if(ISQ.Http.browser.app==="ie"){b.styleSheet.cssText=a}else{var c=document.createTextNode(a);b.appendChild(c)}document.getElementsByTagName("head")[0].appendChild(b)};ISQ.CSS.generateCSSstring=function(d,c){if(d===null||c===null){return""}var a=[];a.push(c);a.push("{"+d+"}");var b=a.join("");return b};ISQ.CSS.getAttributeValueFromStyleString=function(d,a){var e=0;var c=d.indexOf(a);if(c>-1){c=d.indexOf(":",c);var b=d.indexOf(";",c);if(b>-1){e=d.substring(c+1,b)}else{e=d.substring(c+1)}}return e};ISQ.CSS.getBackgroundImage=function(d){var e="";var a=ISQ.CSS.getAttributeValueFromStyleString(d,"background-image");if(a===0){a=ISQ.CSS.getAttributeValueFromStyleString(d,"background")}var c=a.indexOf("url(");if(c>-1){c+=4;var b=a.indexOf(")",c);b-=1;e=a.substring(c,b);e=e.replace('"',"")}return e};ISQ.CSS.getSelectorStyle=function(p,q){if(typeof(p)!=="string"){return}p=p.toLowerCase();if(typeof(q)!=="string"){q=null}else{q=q.toLowerCase()
}var o="cssRules";if(ISQ.Http.browser.app==="ie"){o="rules"}try{var f=document.styleSheets.length;var t=new Array();for(var d=f-1;d>=0;--d){var u=document.styleSheets[d];try{if(u.disabled){continue}var k=u[o].length;for(var e=k-1;e>=0;--e){var s=u[o][e].selectorText;if(!s){continue}var r=s.toLowerCase().split(",");var g=r.length;for(h=g-1;h>=0;--h){var b=r[h].Trim();if(p===b||(q!==null&&q===b)){var v;for(var a in u[o][e].style){if(t[a]){continue}v=u[o][e].style[a];if(!v){continue}t[a]=v}}}}}catch(c){}}return t}catch(c){}return null};ISQ.CSS.getValueBySelectors=function(a,c,d){if(typeof(a)!=="string"){return}if(typeof(c)!=="string"){return}if(typeof(d)!=="string"){d=null}var b=ISQ.CSS.getSelectorStyle(c,d);if(b===null){return null}value=b[a];if(typeof(value)!=="string"){return null}var e=value.Trim();if(e===""){return null}return e};ISQ.CSS.changeValueBySelector=function(d,a,c){if(typeof(a)!=="string"){return}if(typeof(d)!=="string"){return}if(typeof(c)!=="string"){return}var b=ISQ.CSS.getSelectorStyle(d);if(!b){return null}b[a]=c};ISQ.CSS.getValue=function(e,d){var b=ISQ.Html._(e);if(b===null){return null}var c="#"+b.id;var a="."+b.className;var f=b.nodeName.toLowerCase();d=d.toLowerCase();var j=null;j=b.style[d];if(j!==null&&j!==""){return j.Trim()}var g=ISQ.CSS.getValueBySelectors(d,a,c);if(g===null){return ISQ.CSS.getValueBySelectors(d,f+a,f+c)}};ISQ.Html=initializeNS("ISQ.Html");ISQ.Html._=function(c,a){if(!c){return null}var b=null;if(typeof(c)==="string"){if(ISQ.Http.browser.app==="ie"){if(!ISQ.Html.IE_idMap){ISQ.Html.IE_idMap=new Array();if(typeof(ISQ.Console)!=="undefined"&&typeof(sessionGC)==="function"){sessionGC().add(ISQ.Html.IE_idMap);ISQ.Html.IE_idMap.dispose=function(){ISQ.Html.IE_idMap=new Array()}}}if(!a){b=ISQ.Html.IE_idMap[c]}if(!b||a===true){b=document.getElementById(c);if(b){ISQ.Html.IE_idMap[c]=b}}}else{b=document.getElementById(c)}}else{if(typeof(c)==="object"&&typeof(c.parentNode)!=="undefined"&&typeof(c.nodeName)!=="undefined"){b=c}}return b};if(typeof(window._)!=="function"){window._=ISQ.Html._
}ISQ.Html.setMinHeight=function(a,b){a=_(a);if(a===null){return}if(a.offsetHeight<b){a.style.height=b+"px"}};ISQ.Html.actualHeight=function(d){var c=$(d);var e=c.height();var b=c.css("border-top");if(b){e+=parseInt(b)}var a=c.css("border-bottom");if(a){e+=parseInt(a)}var g=c.css("padding-top");if(g){e+=parseInt(g)}var f=c.css("padding-bottom");if(f){e+=parseInt(f)}return e};ISQ.Html.screenSize=function(){return ISQ.Html.pageSize(true)};ISQ.Html.scrollBarWidth=function(){return 17};ISQ.Html.scrollBarWidth_afterCheck=function(){var a=ISQ.Html.screenSize();if(document.body.scrollHeight===a.h){return 0}return ISQ.Html.scrollBarWidth()};ISQ.Html.pageSize=function(b,a){var c={w:0,h:0};var d={};if(self.innerHeight){d.w=self.innerWidth;d.h=self.innerHeight}else{if(document.documentElement&&document.documentElement.clientHeight){d.w=document.documentElement.clientWidth;d.h=document.documentElement.clientHeight}else{if(document.body){d.w=document.body.clientWidth;d.h=document.body.clientHeight}}}var f=ISQ.Html.getScroll("width");var e=ISQ.Html.getScroll("height");if(b||d.w>f){c.w=d.w}else{c.w=f}if(b||d.h>e){c.h=d.h}else{c.h=e}if(e>d.h){if(ISQ.CSS.getElementStyle(document.body,"overflow")==="hidden"){return c}if(ISQ.CSS.getElementStyle(document.body,"overflow-y")==="hidden"){return c}if(ISQ.Http.browser.app!=="ie"){if(!a){c.w-=ISQ.Html.scrollBarWidth()}}else{if(a){c.w+=ISQ.Html.scrollBarWidth()}}}return c};ISQ.Html.getScroll=function(c){c=c||"top";var a=0;var b=0;if(c==="top"){if(ISQ.Http.browser.app!=="ie"||!ISQ.Http.browser.isIE9||ISQ.Http.browser.isIE10){b=window.pageYOffset}if(ISQ.Http.browser.app!=="ie"){b=ISQ.Html.returnMaxScroll(b,window.scrollY)}b=ISQ.Html.returnMaxScroll(b,document.body.scrollTop);b=ISQ.Html.returnMaxScroll(b,document.documentElement.scrollTop);b=ISQ.Html.returnMaxScroll(b,document.body.parentNode.scrollTop)}else{if(c==="left"){if(ISQ.Http.browser.app!=="ie"||!ISQ.Http.browser.isIE9||ISQ.Http.browser.isIE10){b=window.pageXOffset}if(ISQ.Http.browser.app!=="ie"){b=ISQ.Html.returnMaxScroll(b,window.scrollX)
}b=ISQ.Html.returnMaxScroll(b,document.body.scrollLeft);b=ISQ.Html.returnMaxScroll(b,document.documentElement.scrollLeft);b=ISQ.Html.returnMaxScroll(b,document.body.parentNode.scrollLeft)}else{if(c==="height"){switch(ISQ.Http.browser.app){case"chrome":case"ff":case"opera":case"safari":if(window.top===window){b=document.documentElement.scrollHeight}else{b=document.body.scrollHeight}break;default:b=ISQ.Html.returnMaxScroll(b,document.body.scrollHeight);b=ISQ.Html.returnMaxScroll(b,document.documentElement.scrollHeight);b=ISQ.Html.returnMaxScroll(b,document.body.parentNode.scrollHeight);break}}else{if(c==="width"){b=ISQ.Html.returnMaxScroll(b,document.body.scrollWidth);b=ISQ.Html.returnMaxScroll(b,document.documentElement.scrollWidth);b=ISQ.Html.returnMaxScroll(b,document.body.parentNode.scrollWidth)}}}}return b};ISQ.Html.returnMaxScroll=function(a,b){if(a>b){return a}return b};ISQ.Html.pageDirection=function(){if(!ISQ.Html._pageDirection){ISQ.Html._pageDirection=document.body.getAttribute("dir");if(!ISQ.Html._pageDirection){ISQ.Html._pageDirection=ISQ.CSS.getValue(document.body,"direction")}if(!ISQ.Html._pageDirection){ISQ.Html._pageDirection="ltr"}}return ISQ.Html._pageDirection};ISQ.Html.position=function(b,e){var d={x:-1,y:-1};b=_(b);if(b===null){return d}var c=_(e)||document.body;d.x=0;d.y=0;var a=b;while(a!==null&&a!==c&&a!==document.body&&a.nodeName!=="HTML"){d.x+=a.offsetLeft;d.x-=a.scrollLeft;d.y+=a.offsetTop;d.y-=a.scrollTop;a=a.offsetParent}if(c!==document.body&&(a===document.body||a===null)){d.x=-1;d.y=-1}b=null;e=null;return d};ISQ.Html.getEventTarget=function(a){return window.event?window.event.srcElement:a.target};ISQ.Html.getDomEvent=function(a){if(ISQ.Base.isDerivedOf(a,ISQ.Html.DomEvent)){return a}return new ISQ.Html.DomEvent(a)};ISQ.Html.DomEvent=ISQ.Base.extend({name:"ISQ.Html.DomEvent"});ISQ.Html.DomEvent.prototype.ctor=function(a){this.domEvent=window.event||a;this.target=ISQ.Html.getEventTarget(a)};ISQ.Html.DomEvent.prototype.dtor=function(){delete target;delete domEvent};ISQ.Html.DomEvent.prototype.cancel=function(){if(window.event){this.domEvent.cancelBubble=true
}else{this.domEvent.stopPropagation()}};ISQ.Html.DomEvent.prototype.target=null;ISQ.Html.DomEvent.prototype.domEvent=null;ISQ.Html.Scroll=initializeNS("ISQ.Html.Scroll");ISQ.Html.Scroll.init=function(a){if(ISQ.Html.Scroll._wasInit){return}ISQ.Html.Scroll._wasInit=true;ISQ.Html.Scroll._running=true;if(typeof(ISQ.Console)!=="undefined"&&typeof(sessionGC)==="function"){sessionGC().add(ISQ.Html.Scroll)}ISQ.Html.Scroll.event=new ISQ.Event();if(window.addEventListener){window.addEventListener("scroll",ISQ.Html.Scroll.scrollHandler,true)}else{if(window.attachEvent){window.attachEvent("onscroll",ISQ.Html.Scroll.scrollHandler)}}};ISQ.Html.Scroll.scrollHandler=function(a){if(!ISQ.Html.Scroll._running){return}var c=ISQ.Html.getEventTarget(a);if(c!==null&&c!==document){return}var b={left:ISQ.Html.getScroll("left"),top:ISQ.Html.getScroll("top")};if(ISQ.Html.Scroll.mLastScroll&&ISQ.Html.Scroll.mLastScroll.left===b.left&&ISQ.Html.Scroll.mLastScroll.top===b.top){return}ISQ.Html.Scroll.mLastScroll=b;ISQ.Html.Scroll.timeStamp=new Date().getTime();if(ISQ.Html.Scroll.timer!==null){return}ISQ.Html.Scroll.timer=setInterval(function(){if(ISQ.Html.Scroll._running){var d=new Date().getTime();if(d-ISQ.Html.Scroll.timeStamp<ISQ.Html.Scroll.diff){return}ISQ.Html.Scroll.event.dispatch(ISQ.Html.Scroll.mLastScroll,ISQ.Html.pageSize(),ISQ.Html.screenSize())}clearInterval(ISQ.Html.Scroll.timer);ISQ.Html.Scroll.timer=null},ISQ.Html.Scroll.interval)};ISQ.Html.Scroll.dispose=function(){ISQ.Html.Scroll._running=false;if(window.removeEventListener){window.removeEventListener("scroll",ISQ.Html.Scroll.scrollHandler,true)}else{if(window.detachEvent){window.detachEvent("onscroll",ISQ.Html.Scroll.scrollHandler)}}ISQ.Html.Scroll.event.dispose();ISQ.Html.Scroll.event=null};ISQ.Html.Scroll.interval=30;ISQ.Html.Scroll.diff=65;ISQ.Html.Scroll.timer=null;ISQ.Html.ReSize=initializeNS("ISQ.Html.ReSize");ISQ.Html.ReSize.enumListenTo={width:1,height:2,both:3};ISQ.Html.ReSize.init=function(a,b){if(!this.mListenTo){this.mListenTo=0}this.mListenTo|=a;ISQ.Html.ReSize.mSkipTimer|=b===true;
if(ISQ.Html.ReSize.wasInit()){return}ISQ.Html.ReSize._wasInit=true;ISQ.Html.ReSize._running=true;if(typeof(ISQ.Console)!=="undefined"&&typeof(sessionGC)=="function"){sessionGC().add(ISQ.Html.ReSize)}ISQ.Html.ReSize.Event=new ISQ.Event();ISQ.Html.ReSize.mWindowSize_thisEvent=ISQ.Html.screenSize();ISQ.Html.ReSize.mWindowSize_browserEvent=ISQ.Html.screenSize();if(window.addEventListener){window.addEventListener("resize",ISQ.Html.ReSize.resizeHandler,true)}else{if(window.attachEvent){window.attachEvent("onresize",ISQ.Html.ReSize.resizeHandler)}}};ISQ.Html.ReSize.resizeHandler=function(){if(!ISQ.Html.ReSize._running){return}var a=ISQ.Html.screenSize();if(!ISQ.Html.ReSize.mWindowSize_thisEvent||!ISQ.Html.ReSize.mWindowSize_browserEvent){return}if((a.w===ISQ.Html.ReSize.mWindowSize_thisEvent.w||(ISQ.Html.ReSize.mListenTo&ISQ.Html.ReSize.enumListenTo.width)===0)&&(a.h===ISQ.Html.ReSize.mWindowSize_thisEvent.h||(ISQ.Html.ReSize.mListenTo&ISQ.Html.ReSize.enumListenTo.height)===0)){if(ISQ.Html.ReSize.timer){clearInterval(ISQ.Html.ReSize.timer);ISQ.Html.ReSize.timer=null}return}if((a.w===ISQ.Html.ReSize.mWindowSize_browserEvent.w||(ISQ.Html.ReSize.mListenTo&ISQ.Html.ReSize.enumListenTo.width)===0)&&(a.h===ISQ.Html.ReSize.mWindowSize_browserEvent.h||(ISQ.Html.ReSize.mListenTo&ISQ.Html.ReSize.enumListenTo.height)===0)){return}ISQ.Html.ReSize.mWindowSize_browserEvent=a;ISQ.Html.ReSize.timeStamp=new Date().getTime();if(ISQ.Html.ReSize.timer!=null&&typeof(ISQ.Html.ReSize.timer)!=="undefined"){return}if(ISQ.Html.ReSize.mSkipTimer){ISQ.Html.ReSize.Event.dispatch();ISQ.Html.ReSize.mWindowSize_thisEvent=ISQ.Html.ReSize.mWindowSize_browserEvent;return}ISQ.Html.ReSize.timer=setInterval(function(){if(ISQ.Html.ReSize._running){var b=new Date().getTime();if(b-ISQ.Html.ReSize.timeStamp<ISQ.Html.ReSize.diff){return}ISQ.Html.ReSize.Event.dispatch();ISQ.Html.ReSize.mWindowSize_thisEvent=ISQ.Html.ReSize.mWindowSize_browserEvent}clearInterval(ISQ.Html.ReSize.timer);ISQ.Html.ReSize.timer=null},ISQ.Html.ReSize.interval)};ISQ.Html.ReSize.wasInit=function(){if(typeof(this._wasInit)==="undefined"){return false
}return this._wasInit};ISQ.Html.ReSize.suspend=function(){if(!ISQ.Html.ReSize.wasInit()){return}ISQ.Html.ReSize._running=false};ISQ.Html.ReSize.resume=function(){if(!ISQ.Html.ReSize.wasInit()){return}ISQ.Html.ReSize._running=true};ISQ.Html.ReSize.dispose=function(){if(!ISQ.Html.ReSize.wasInit()){return}ISQ.Html.ReSize._running=false;if(window.removeEventListener){window.removeEventListener("resize",ISQ.Html.ReSize.resizeHandler,true)}else{if(window.detachEvent){window.detachEvent("onresize",ISQ.Html.ReSize.resizeHandler)}}ISQ.Html.ReSize.Event.dispose();ISQ.Html.ReSize.Event=null};ISQ.Html.ReSize.interval=100;ISQ.Html.ReSize.diff=199;ISQ.Html._doc=document;ISQ.Html.createElement=function(e,c,d){var b=ISQ.Html._doc.createElement(e);var a=_(c);if(a!==null){a.appendChild(b)}if(typeof(d)==="string"){ISQ.CSS.setStyle(b,d)}return b};var createElement=ISQ.Html.createElement;ISQ.Html.createDiv=function(c,d){var b=ISQ.Html._doc.createElement("div");var a=_(c);if(a!==null){a.appendChild(b)}if(typeof(d)==="string"){ISQ.CSS.setStyle(b,d)}return b};var createDiv=ISQ.Html.createDiv;ISQ.Html.createTable=function(c,f,b,d,a){var e=createElement("table",c);e.setAttribute("cellPadding",0);e.setAttribute("cellSpacing",0);e.setAttribute("border",0);if(typeof(a)==="string"){e.setAttribute("align",a)}if(typeof(f)==="number"||typeof(f)==="string"){e.setAttribute("width",f)}if(typeof(b)==="string"){e.setAttribute("dir",b);e.style.direction=b}if(typeof(d)==="string"){ISQ.CSS.setStyle(e,d)}return createElement("tbody",e)};var createTable=ISQ.Html.createTable;ISQ.Html.createRow=function(b,a,d){var c=createElement("tr",b);if(typeof(a)==="string"){ISQ.CSS.setStyle(c,a)}if(typeof(d)==="string"){c.setAttribute("valign",d)}return c};var createRow=ISQ.Html.createRow;ISQ.Html.addSpaceRow=function(d,b,a,c){var f=createRow(d);var e=createElement("td",f);e.style.height=b;if(typeof(c)==="string"){ISQ.CSS.setStyle(f,c)}if(a){e.setAttribute("colSpan",a)}return f};var addSpaceRow=ISQ.Html.addSpaceRow;ISQ.Html.addSpaceTd=function(d,e,b){var c=createElement("td",d);
c.style.width=e;if(typeof(b)==="number"){c.setAttribute("rowSpan",b)}var a=createDiv(c,"width:"+e);a.innerHTML="&nbsp;";return c};var addSpaceTd=ISQ.Html.addSpaceTd;ISQ.Html.createTd=function(e,a,f,c,b){var d=createElement("td",e);if(f){d.setAttribute("vAlign",f)}if(a){d.setAttribute("align",a)}if(typeof(c)==="string"){ISQ.CSS.setStyle(d,c)}if(b){d.setAttribute("colSpan",b)}return d};var createTd=ISQ.Html.createTd;ISQ.Html.clearNode=function(a,c){if(typeof(a)==="undefined"||a===null){return null}if(a.nodeType!==1){return a}c=c!==false;if(c){var b=a.nodeName;switch(b){case"TR":case"TBODY":case"TABLE":break;default:a.innerHTML="";return a}}while(a.firstChild!==null){if(c){ISQ.Html.clearNode(a.firstChild,true)}a.removeChild(a.firstChild)}return a};var clearNode=ISQ.Html.clearNode;ISQ.Html.createInput=function(l,f,j,m,b,g){var c;var d=false;if(ISQ.Http.browser.app==="ie"){try{var k=new Array();k.push("<input type='");k.push(l);k.push("' name='");k.push(f);k.push("' id='");k.push(f);k.push("' />");c=ISQ.Html._doc.createElement(k.join(""));if(j){j.appendChild(c)}d=true}catch(a){d=false}}if(!d){c=createElement("input",j);c.type=l;c.name=c.id=f}if(typeof(m)!=="undefined"&&m!==null){c.value=m}if(typeof(b)==="string"){c.errorStyle=b;c.error=function(){ISQ.CSS.setStyle(this,this.errorStyle);c.hasError=true}}c.okStyle=typeof(g)==="string"?g:"";ISQ.CSS.setStyle(c,c.okStyle);c.ok=function(){ISQ.CSS.setStyle(this,this.okStyle);c.hasError=false};return c};var createInput=ISQ.Html.createInput;ISQ.Html.createInput_new=function(a){return ISQ.Html.createInput(a.type,a.name,a.parent,a.value||null,a.errorStyle||null,a.style||null)};var createInput_new=ISQ.Html.createInput_new;ISQ.Html.createCheckbox=function(f,d,g,l,a,c){var j=createTable(g);var d=d||f||"cb_"+Math.floor(Math.random()*1000000);if(a){ISQ.CSS.setStyle(j.parentNode,a)}var m=createRow(j);var k=createTd(m);var b=createInput("checkbox",d,k);b.style.margin="0 3px 0";b.id=d;b.checked=b.defaultChecked=c===true;k=createTd(m);var e=createElement("label",k);e.setAttribute("for",b.id);
e.innerHTML=l;b.label=e;return b};var createCheckbox=ISQ.Html.createCheckbox;ISQ.Html.createCheckbox_new=function(a){return createCheckbox(a.name,a.id,a.parent,a.text,a.style,a.checked)};var createCheckbox_new=ISQ.Html.createCheckbox_new;ISQ.Html.createRadio=function(g,e,j,n,p,b,c,a){var l=createTable(j);if(a){l.parentNode.setAttribute("align",a);var d=(a.toLowerCase()==="left"?"right":"left");ISQ.CSS.setStyle(l.parentNode,"margin-"+d+": 5px")}var o=createRow(l);var m=createTd(o);var k=createInput("radio",g,m,p,b,b);k.style.margin="0 3px 0";k.id=e||"radio_"+Math.floor(Math.random()*1000000);if(typeof("checked")!="undefined"){k.checked=c}m=createTd(o);var f=createElement("label",m);f.setAttribute("for",k.id);f.innerHTML=n;return k};var createRadio=ISQ.Html.createRadio;ISQ.Html.createForm=function(d){var a=createElement("form",d.parent);if(typeof(d.action)==="string"){a.action=d.action}if(typeof(d.method)==="string"){a.method=d.method}if(typeof(d.id)==="string"){a.id=from.name=d.id}if(typeof(d.name)==="string"){from.name=d.name;if(typeof(d.id)!=="string"){a.id=from.name}}var b=typeof(d.onsubmit)!=="undefined"&&d.onsubmit!==null?d.onsubmit:null;if(b!==null){b.executed=false}a.onsubmit=function(e){if(b!==null){if(!b.executed){b.handle(ISQ.Html.getDomEvent(e));b.executed=true}else{b.executed=false}}return false};function c(f){var e=ISQ.Html.getDomEvent(f);if(e.domEvent.keyCode!==13){return false}if(b!==null){if(!b.executed){b.handle(e);b.executed=true}else{b.executed=false}}e.cancel();return false}if(ISQ.Html._doc.addEventListener){if(ISQ.Http.browser.app!=="chrome"&&ISQ.Http.browser.app!=="opera"){a.addEventListener("keypress",c,true)}else{a.addEventListener("keyup",c,true)}}else{if(ISQ.Html._doc.attachEvent){a.attachEvent("onkeyup",c)}}return a};var createForm=ISQ.Html.createForm;ISQ.Html.createIframe=function(b,d,a,e){var c;e=e||"about:blank";if(ISQ.Http.browser.app==="ie"){c=document.createElement('<iframe id="'+b+'" name="'+d+'" src="'+e+'"></iframe>')}else{c=createElement("iframe");c.setAttribute("name",d);c.setAttribute("id",b);
c.setAttribute("src",e)}if(a){ISQ.CSS.setStyle(c,a)}return c};var createIframe=ISQ.Html.createIframe;ISQ.Html.createImage=function(b){if(!b.src){throw ("createImage: invalid src")}var a=new Image();a.src=b.src;if(b.id){a.id=id}if(b.align){a.setAttribute("align",b.align)}if(b.style){ISQ.CSS.setStyle(a,b.style)}if(b.parent){b.parent.appendChild(a)}if(b.altText){a.setAttribute("title",b.altText)}if(b.overSrc){ISQ.Html.setImageMouseOverAndOut(a,b.overSrc)}return a};var createImage=ISQ.Html.createImage;ISQ.Html.createLink=function(c){var b=createElement("a",c.parent,c.style);if(c.text){b.innerHTML=c.text}if(typeof(c.href)==="string"){b.href=c.href}else{b.href="javascript:void(0)"}if(typeof(c.title)==="string"){b.title=c.title}if(typeof(c.target)==="string"){b.target=c.target}if(typeof(c.id)==="string"){b.id=c.id}ISQ.Html.setOnclick(b,c.onclick);return b};var createLink=ISQ.Html.createLink;window.setOnclick=ISQ.Html.setOnclick=function(a,b){if(a.nodeName!=="A"){if(b){a.onclick=b}return}a.onclick=function(c){if(typeof(ISQ.Console)!=="undefined"&&typeof(ISQ.Console.SessionManager)!=="undefined"){ISQ.Console.SessionManager.lastClickedLinkHref=this.href?this.href:null;if(!ISQ.Http.browser.isIE){setTimeout(function(){delete ISQ.Console.SessionManager.lastClickedLinkHref},10)}}if(typeof(b)!=="undefined"){b.apply(this,new Array(c))}}};ISQ.Html.createHR=function(d,c,a,b){var f=createRow(d);var e=createElement("td",f);e.style.height=c;e.style.background=a;if(typeof(b)==="number"){e.setAttribute("colSpan",b)}return f};var createHR=ISQ.Html.createHR;ISQ.Html.createTextNode=function(d,c){var b=ISQ.Html._doc.createTextNode(d);var a=_(c);if(a!==null){a.appendChild(b)}return b};var createTextNode=ISQ.Html.createTextNode;ISQ.Html.moveChildNodesToElement=function(c,b){clearNode(b);var a=c.childNodes;while(a.length>0){b.appendChild(a[0])}};var moveChildNodesToElement=ISQ.Html.moveChildNodesToElement;ISQ.Html.setImageMouseOverAndOut=function(a,c){var b=a.src;a.onmouseover=function(){this.src=c};a.onmouseout=function(){this.src=b}};var setImageMouseOverAndOut=ISQ.Html.setImageMouseOverAndOut;
ISQ.Html.elementToString=function(b,d){var f=new Array();f.push("<");f.push(b.nodeName);f.push(" ");for(var c=0;c<b.attributes.length;++c){var a=b.attributes[c];if(!a.nodeValue){continue}var e=a.nodeValue.indexOf("'")>-1?'"':"'";f.push(a.nodeName);f.push("=");f.push(e);f.push(a.nodeValue);f.push(e);f.push(" ")}f.push(">");if(d){f.push(d)}else{f.push(b.innerHTML)}f.push("</");f.push(b.nodeName);f.push(">");return f.join("")};var elementToString=ISQ.Html.elementToString;ISQ.Html.createInvisibleIframe=function(a){var b=createElement("iframe",document.body,"visible:hidden;position:absolute;top:0px;left:-500px;width:1px;height:1px");setTimeout(function(){ISQ.Html.waitUntilAvailable(b,a)},0);return b};createInvisibleIframe=ISQ.Html.createInvisibleIframe;ISQ.Html.waitUntilAvailable=function(d,b){var c=null;var e=null;try{c=d.contentDocument||d.contentWindow.document||null;e=d.contentWindow||d.contentDocument.defaultView||null}catch(a){}if(!c||!e||(!c.body&&!e.document.body)){setTimeout(function(){ISQ.Html.waitUntilAvailable(d,b)},10);return}if(c.body){ISQ.Html.iframeReady(c,b)}else{ISQ.Html.iframeReady(e.document,b)}};ISQ.Html.iframeReady=function(b,a){b.open();b.writeln("<html><body></body></html>");b.close();a.handle(b);a.dispose()};ISQ.Widget=initializeNS("ISQ.Widget");ISQ.API=initializeNS("ISQ.API");ISQ.Widget.supportsPostMessage=(typeof(window.postMessage)==="function"||typeof(window.postMessage)==="object");ISQ.Widget.getInnerFrameUrl=function(g,n,d){g=g||"CDCframe.html";var a=n.indexOf("://")+3;var f;var b;var e="";if(a!==2){f=n.indexOf("/",a);e=n.substring(0,a);b=n.substring(a,f)}else{f=n.indexOf("/");b=n.substring(0,f)}var j=g.indexOf("://")+3;var m;var k;var l="";if(j!==2){m=g.indexOf("/",j);l=g.substring(0,j);k=g.substring(j,m)}else{m=g.indexOf("/");k=g.substring(0,m)}if(e&&k===b){if(l!==e){return g.replace(l,e)}return g}else{if(d){if(k===ISQ.Http.domain()){return g}return""}}var c="";if(g.charAt(0)==="/"){c=e+b+g}else{if(j!==2){c=e+b+g.substring(m)}else{c=e+b+"/"+g}}return c};ISQ.Widget.extractDataFromScript=function(f){var e={};
var g=document.getElementsByTagName("script");var j,a;for(var b=0;b<g.length;++b){j=g[b].getAttribute("src");if(!j){continue}if(!j.contains(f)){continue}if(!j.contains("nanorep.com")&&j.startsWith("http")){continue}var c=-1;if(j.startsWith("/")){c=window.location.href.indexOf("/",8);if(c===-1){e.serverUrl=window.location.href}else{e.serverUrl=window.location.href.substr(0,c)}}else{c=j.indexOf("/",8);if(c!==-1){e.serverUrl=j.substr(0,c)}}j=j.substring(j.indexOf("?")+1);a=ISQ.Tools.stringToPairArray(j,"=","&",true,false);e.cdcFrame=a.innerframeurl;if(!e.cdcFrame){e.cdcFrame=a.cdcframe}if(e.cdcFrame){e.cdcVersion=a.cdcversion;if(!e.cdcVersion){e.cdcVersion=1}e.cdcVersion=parseInt(e.cdcVersion)}e.account=a.account;var d=a.preview;if(d==="true"){e.preview=true;e.referer=a.referer}e.debug=a.debug||false;break}return e};ISQ.Widget.appendConfigurationsToIframeSource=function(a,b){a.push("?account=");a.push(b.account);if(b.preview){a.push("&preview=true")}if(b.conversionTag){a.push("&conversionTag=");a.push(b.conversionTag)}if(b.kb){a.push("&kb=");a.push(b.kb)}a.push("#doctype=");a.push(ISQ.Widget.doctype);a.push("&referer=");a.push(ISQ.Http.Cookies.encode64(b.referer));if(!ISQ.Widget.supportsPostMessage&&b.cdcFrame){a.push("&cdcFrame=");a.push(ISQ.Widget.getInnerFrameUrl(b.cdcFrame,window.location.href));a.push("&cdcversion=");a.push(b.cdcVersion)}if(b.pageId){a.push("&pageId=");a.push(b.pageId)}if(b.searchDelay){a.push("&searchDelay=");a.push(b.searchDelay)}if(typeof(b.events)==="object"){a.push("&reportEvents=true")}if(b.debug){a.push("&debug=isq")}ISQ.Widget.appendCustomValuesToStringBuilder(a,b.customValues)};ISQ.Widget.appendCustomValuesToStringBuilder=function(c,a){if(!a){return}var d;for(var b in a){d=typeof(a[b]);if(d==="function"||d==="object"){continue}c.push("&");c.push(b);c.push("=");if(d==="string"){if(b==="onloadQuestionId"||b==="languageCode"){c.push(a[b])}else{c.push(ISQ.Http.Cookies.encode64(a[b]))}}else{c.push(a[b])}}};ISQ.Widget.downloadAndSendCNF=function(c,a){if(!ISQ.Widget.CNFStatus){ISQ.Widget.CNFStatus=[]
}var b=ISQ.Widget.CNFStatus[c.id]={downloaded:false,waitingForDownload:false};if(c.useExistingCNF&&((c.id==="float"&&typeof(ISQ.Cnf_Float)==="object")||(c.id==="embed"&&typeof(ISQ.Cnf_Embed)==="object"))){if(!ISQ.Widget.supportsPostMessage){return false}c.useExistingCNF=false;b.downloaded=true;return true}ISQ.Widget.downloadCnf(c,function(){if(a){a()}if(!ISQ.Widget.supportsPostMessage){return}b.downloaded=true;if(!b.waitingForDownload){return}if(c.type==="float"){ISQ.Widget.sendCNFData(ISQ.Cnf_Float,c)}else{ISQ.Widget.sendCNFData(ISQ.Cnf_Embed,c)}});return ISQ.Widget.supportsPostMessage};ISQ.Widget.downloadCnf=function(e,a){var c=document.getElementsByTagName("head")[0];var b=createElement("script");b.setAttribute("type","text/javascript");b.setAttribute("src",ISQ.Widget.buildCNFSource(e.serverUrl,e.account,e.type==="float",e.kb,e.preview?escape(e.referer):null));b.async=true;b.defer=true;if(a){var d=function(){if(ISQ.Referer.handlerObjects[b.src].pendingLoad===true){return}a()};ISQ.Referer=initializeNS("ISQ.Referer");ISQ.Referer.handlerObjects=ISQ.Referer.handlerObjects||[];ISQ.Referer.handlerObjects[b.src]={callback:a};if(ISQ.Http.browser.app!=="ie"){b.onload=d}else{b.onreadystatechange=function(){if(this.readyState!=="complete"&&this.readyState!=="loaded"){return}d();d=null}}}c.appendChild(b);return true};ISQ.Widget.buildCNFSource=function(f,a,b,c,e){var d=[];if(f){d.push(f)}d.push("/widget/scripts/cnf.js?account=");d.push(a);d.push("&key=");d.push(ISQ.Http.Cookies.encode64(ISQ.Http.domain(true,e?e:null)));if(e){d.push("&referer=");d.push(e)}if(b){d.push("&isFloat=true")}if(c){d.push("&kb=");d.push(c)}return d.join("")};ISQ.Widget.sendCNFData=function(b,f){var c=ISQ.Widget.CNFStatus[f.id];c.waitingForDownload=true;if(!c.downloaded){return}var d;for(var a in b){d=[];d.push("subject=cnf&command=");d.push(a);var e=typeof(b[a]);d.push("&value=");if(e==="string"){d.push(ISQ.Http.Cookies.encode64(b[a]))}else{d.push(b[a])}d.push("&type=");if(b[a] instanceof Array){d.push("array")}else{d.push(e)}f.cdcUser.sendMessage(d.join(""))
}d=[];d.push("subject=cnf&command=finished");f.cdcUser.sendMessage(d.join(""))};ISQ.Widget.sendingMessagesToWidget=function(a){return ISQ.Widget.supportsPostMessage||a.formValues instanceof Array||typeof(a.context)==="object"||typeof(a.customParams)==="object"};ISQ.Widget.initCDC=function(d,b){if(ISQ.Widget.supportsPostMessage){d.cdcVersion=3}else{if(!d.cdcVersion){d.cdcVersion=0}}var c=ISQ.Widget.sendingMessagesToWidget(d);d.cdcUser=null;switch(d.cdcVersion){case 0:case 1:case 2:if(d.cdcVersion!==0){ISQ.Widget.cdcMessageEvent.addHandler(b,d)}if(c){d.cdcUser=new ISQ.CDC.User({targetWindowName:d.iframe.id,proxyIFrameUrl:d.serverUrl+"/common/cdc/cdc.html",server:d.serverUrl})}break;case 3:var a={allowMessagesFrom:d.serverUrl,widget:d.type};if(c){a.server=d.serverUrl;a.targetWindowName=d.iframe.id;a.proxyIFrameUrl=d.serverUrl+"/common/cdc/cdc.html"}d.cdcUser=new ISQ.CDC.User(a);d.cdcUser.incomingMessageEvent.addHandler(b,d);break}};ISQ.Widget.APIKeyEndDelimiter="<";ISQ.Widget.APIValueEndDelimiter="(";ISQ.Widget.sendAPItoWidget=function(m){var g=ISQ.Widget.sendingMessagesToWidget(m);if(!m.cdcUser||!g){return}var j=[];j.push("subject=api");var d=m.formValues;if((d instanceof Array)&&d.length!==0){j.push("&form=");var f,l,k;for(var e=0;e<d.length;++e){var c=d[e];if(!(c instanceof Array)||c.length<2){continue}if(c.length===2){f=c[0];l=c[1];k=null}else{f=c[1];k=c[0];l=c[2]}if(e!==0){j.push(ISQ.Widget.APIKeyEndDelimiter)}j.push(ISQ.Http.Cookies.encode64(f));j.push(ISQ.Widget.APIValueEndDelimiter);j.push(ISQ.Http.Cookies.encode64(l));if(k){j.push(ISQ.Widget.APIValueEndDelimiter);j.push(ISQ.Http.Cookies.encode64(k))}}}var a=m.context;if(typeof(a)==="object"){j.push("&context=");ISQ.Widget.CDC_appendKeyValueToMessage(a,j)}var b=m.customParams;if(typeof(b)==="object"){j.push("&customparams=");ISQ.Widget.CDC_appendKeyValueToMessage(b,j)}m.cdcUser.sendMessage(j.join(""))};ISQ.Widget.CDC_getKeyValueArrayFromMessage=function(c){var b=[];var g=c.split(ISQ.Widget.APIKeyEndDelimiter);var f,a,e;for(var d=0;d<g.length;++d){f=g[d].split(ISQ.Widget.APIValueEndDelimiter);
a=ISQ.Http.Cookies.decode64(f[0]);e=ISQ.Http.Cookies.decode64(f[1]);b[a]=e}return b};ISQ.Widget.CDC_appendKeyValueToMessage=function(a,d){var b=true;for(var c in a){if(!b){d.push(ISQ.Widget.APIKeyEndDelimiter)}b=false;d.push(ISQ.Http.Cookies.encode64(c));d.push(ISQ.Widget.APIValueEndDelimiter);d.push(ISQ.Http.Cookies.encode64(a[c]))}};ISQ.Widget.fixStealFocus=function(c){if(!c.iframe){return}var b=c.setFocus;if(!b){return}b=ISQ.Html._(b);if(!b){return}var a=function(){try{b.focus()}catch(d){}};if(window.attachEvent){c.iframe.attachEvent("onload",a)}else{if(window.addEventListener){c.iframe.addEventListener("load",a,true)}}};ISQ.Widget.resizeIframeOnLoad_IE=function(c,d,a,b){if(ISQ.Http.browser.app!=="ie"||document.readyState==="complete"){return false}if(ISQ.Http.browser.isIE6||ISQ.Http.browser.isIE7){if(!c.registeredOnload){c.registeredOnload=true;window.attachEvent("onload",function(){b(c,parseInt(d),parseInt(a)+1)})}}else{b(c,parseInt(d),parseInt(a)+1);c.cdcUser.sendMessage("subject=refreshSize")}return true};ISQ.Widget.incomingCDCMessageOrginizer=null;ISQ.Widget.incomingCDCMessage=function(f){if(f.charAt(0)==="?"){f=f.substr(1)}var g=ISQ.Tools.stringToPairArray(f,"=","&",true,false);if(!ISQ.Widget.incomingCDCMessageOrginizer){ISQ.Widget.incomingCDCMessageOrginizer=[]}var a=ISQ.Widget.incomingCDCMessageOrginizer[g.widget];if(!a){a=ISQ.Widget.incomingCDCMessageOrginizer[g.widget]={};a.lastHandledOrdinal=0;a.pendingMessages=null}if(g.subject&&g.subject=="reset"){a.lastHandledOrdinal=0;a.pendingMessages=null}var l=parseInt(g.ord);var b=l-a.lastHandledOrdinal;if(b<=0){return}if(b>1){if(a.pendingMessages===null){a.pendingMessages=[];a.pendingMessagesCount=0}a.pendingMessages[l]=g;++a.pendingMessagesCount}else{try{ISQ.Widget.cdcMessageEvent.dispatch(g)}catch(c){}if(a.pendingMessages!==null){var k=a.pendingMessagesCount;var j=l+1;for(var d=0;d<k;++d,++j){if(!a.pendingMessages[j]){break}ISQ.Widget.cdcMessageEvent.dispatch(a.pendingMessages[j]);l=j;--a.pendingMessagesCount}if(a.pendingMessagesCount===0){a.pendingMessages=null
}}a.lastHandledOrdinal=l}};if(!ISQ.Widget.cdcMessageEvent){ISQ.Widget.cdcMessageEvent=new ISQ.Event()}ISQ.Widget.handleCommonCDCMessage=function(a,b){switch(a.subject){case"cnf":if(b.id==="float"){ISQ.Widget.sendCNFData(ISQ.Cnf_Float,b)}else{ISQ.Widget.sendCNFData(ISQ.Cnf_Embed,b)}break;case"event":ISQ.Widget.handleEventMessage(a,b);break}};ISQ.Widget.detectDoctype=function(){var a="loose";try{var b=null;if(window.document.doctype){b=window.document.doctype.systemId;if(!b){b=window.document.doctype.publicId}if(!b&&window.document.doctype.name.toLowerCase()==="html"){b="doctype html"}}else{b=window.document.firstChild;if(b.innerHTML.length!==0){b=null}else{b=b.nodeValue}}if(b===null){a="nodoctype"}else{b=b.toLowerCase();if(b==="doctype html"||b==="ctype ht"){a="html5"}else{if(b.indexOf("xhtml")!==-1){a="xhtml"}else{if(b.indexOf("strict")!==-1){a="strict"}else{if(b.indexOf("loose")!==-1){a="loose"}else{if(b.indexOf("transitional")!==-1){if(b.indexOf("4.01")!==-1){a="transitional401"}else{if(b.indexOf("4.0")!==-1){a="transitional4"}else{a="transitional"}}}else{if(b.indexOf("frameset")!==-1){a="frameset"}else{a="nodoctype"}}}}}}}}catch(c){a="nodoctype"}return a};ISQ.Widget.doctype=ISQ.Widget.detectDoctype();ISQ.Widget.createMobileBlockerLink=function(e,c,f,d){if(!ISQ.Http.browser.isMobile){return}var b=e.mobileBlockerLink=document.createElement("a");b.style.cssText="display:block;width: "+f+";height:"+e.height+"px;position:relative;left:0px;top:-"+e.height+"px;z-index:1001";c.appendChild(b);b.href=e.iframe.src;b.target="_blank";b.onclick=function(){e.cdcUser.sendMessage("subject=mobileOpenNewWindow")}};ISQ.API.init=function(a){ISQ.API.defaultCdcUser=a.cdcUser};ISQ.API.getCDCUser=function(a){var b=null;if(a){b=_nRepData[a]}if(b){return b.cdcUser}else{return ISQ.API.defaultCdcUser}};ISQ.API.openContactForm=function(b){var a=ISQ.API.getCDCUser(b);if(!a){return}a.sendMessage("subject=openContactForm")};ISQ.API.startChat=function(b,c){var a=ISQ.API.getCDCUser(c);if(!a){return}var d="subject=startChat";if(b){d+="&countStatsOnly=true"
}a.sendMessage(d)};ISQ.API.ask=function(c,b){if(!c){return}var a=ISQ.API.getCDCUser(b);if(!a){return}a.sendMessage("subject=ask&question="+c)};ISQ.Widget.handleEventMessage=function(l,s){var q=l.type;var e,n;var p=3000;switch(q){case"query":if(!s.events){break}e=s.events[q];n=ISQ.Tools.Base64.decodeString(l.data);var j=l.isautoquestion=="true";if(e){if(j){e(n,true)}else{this.queryTimer=setTimeout(function(){e(n,false)},p)}if(false){if(typeof(lpMTagConfig)==="undefined"){return}if(typeof(lpMTagConfig.pageVar)==="undefined"){lpMTagConfig.pageVar=[]}lpMTagConfig.pageVar[lpMTagConfig.pageVar.length]="nanoRep_question="+n}}var m=s.events.query_noWait;if(m){m(n,j)}break;case"load":if(l.integrate_ga==="true"){var d=s.events;if(!d){d=s.events={}}var r=d.userActive;d.userActive=function(){if(typeof(_gaq)!=="undefined"){_gaq.push(["_trackEvent","nanoRep","nanoRep User Active"])}if(r){try{r()}catch(t){}}};var o=d.query;d.query=function(v,u){if(!u&&typeof(_gaq)!=="undefined"){_gaq.push(["_trackEvent","nanoRep","nanoRep Query",v])}if(o){try{o(v,u)}catch(t){}}};var g=d.incomingSearchResults;d.incomingSearchResults=function(u,v){if(u&&!v&&typeof(_gaq)!=="undefined"){_gaq.push(["_trackEvent","nanoRep","nanoRep Results Shown"])}if(g){try{g(u,v)}catch(t){}}};var b=d.escalation;d.escalation=function(v,u){if(typeof(_gaq)!=="undefined"){_gaq.push(["_trackEvent","nanoRep","nanoRep Escalation",u])}if(b){try{b(v,u)}catch(t){}}};var k=d.like;d.like=function(v,t){if(typeof(_gaq)!=="undefined"){_gaq.push(["_trackEvent","nanoRep","nanoRep Like",t])}if(k){try{k(v,t)}catch(u){}}}}if(!s.events){break}e=s.events[q];if(e){e()}break;case"userstartedtyping":if(this.queryTimer){clearTimeout(this.queryTimer)}if(this.incomingSearchResultsTimer){clearTimeout(this.incomingSearchResultsTimer)}break;case"incomingsearchresults":if(!s.events){break}j=l.isautoquestion=="true";var f=l.hasresults==="true";e=s.events.incomingSearchResults;if(e){if(j){e(f,true)}else{this.incomingSearchResultsTimer=setTimeout(function(){e(f,false)},p)}}m=s.events.incomingSearchResults_noWait;
if(m){m(f,j)}break;case"escalation":if(!s.events){break}e=s.events[q];if(!e){break}n=ISQ.Tools.Base64.decodeString(l.query);var c=l.esctype;e(c,n);break;case"like":if(!s.events){break}e=s.events[q];if(!e){break}n=ISQ.Tools.Base64.decodeString(l.query);var a=ISQ.Tools.Base64.decodeString(l.answer);e(n,a);break;case"useractive":if(!s.events){break}e=s.events.userActive;if(e){e()}break;case"directionchanged":if(!s.events){break}e=s.events.directionChanged;if(e){e(l.rtl==="true")}break}};ISQ.API.defaultCdcUser=null;if(typeof(window.ISQ)==="undefined"){window.ISQ={}}window.ISQ.removeNanoRepLoading=function(a){var d=document.getElementsByTagName("DIV");if(typeof(d)==="undefined"||!d){return}var b=null;for(var j=0;j<d.length;++j){if(d[j].className!=="nanorep_loadingData"&&d[j].id!=="nanoRepProxyContainer"){continue}for(var c=0;c<d[j].childNodes.length;++c){if(d[j].childNodes[c].style&&(d[j].childNodes[c].getAttribute("nR_noRemove")==="true"||d[j].childNodes[c].getAttribute("nR_noRemove")===true||d[j].childNodes[c].className.indexOf("nR_noRemove")!==-1)){continue}if(((navigator.appVersion.indexOf("MSIE 6")!==-1)||(navigator.appVersion.indexOf("MSIE 7")!==-1))&&document.readyState!=="complete"&&window.location.protocol.startsWith("https")){if(d[j].childNodes[c].style){d[j].childNodes[c].style.display="none"}else{if(!b){b=new Array()}b.push(d[j].childNodes[c])}}else{try{d[j].removeChild(d[j].childNodes[c]);--c}catch(f){if(d[j].childNodes[c].style){d[j].childNodes[c].style.display="none"}}}}}if(b){var g=function(e){if(document.readyState!=="complete"){setTimeout(function(){g(e)},100);return}for(var k=0;k<e.length;++k){if(e[k].parentNode){e[k].parentNode.removeChild(e[k])}}};g(b)}};window.ISQ.removeNanoRepLoading();ISQ.CDC=initializeNS("ISQ.CDC");if(typeof(nanoRep)==="undefined"){window.nanoRep={}}if(typeof(nanoRep.CDC)==="undefined"){nanoRep.CDC={}}nanoRep.CDC.Helper={splitURLArguments:function(e){var g=new Array();var k=e;var c=k.length;if(c===0){return g}var b=function(l){return unescape(l.join("").toString()).replace(/^\s+|\s+$/g,"")
};var j=1;var d="";var f=0;var a=new Array();while(f<c){switch(j){case 1:if(k.charAt(f)!=="="){a.push(k.charAt(f))}else{j=2;d=b(a).toLowerCase();a=new Array()}break;case 2:if(k.charAt(f)!=="&"){a.push(k.charAt(f))}else{j=1;g[d]=b(a);a=new Array()}break}++f}if(j===2){g[d]=b(a)}return g},getTargetWindow:function(a,c){if(!a){return window.top}var g=window;if(c){g=window.parent}if(a==="parent"){return g.parent}var f=false;var d;do{try{if(g===window.top){f=true}d=g.frames[a];if(d){return d}}catch(b){}g=g.parent}while(!f);return window.top},parseMessage:function(a){if(!a){return""}var b=nanoRep.CDC.Helper.splitURLArguments(a);b.s=unescape(b.s);b.t=unescape(b.t);return b}};ISQ.CDC.User=ISQ.Base.extend({name:"ISQ.CDC.User"});ISQ.CDC.User.prototype.ctor=function(b){this.mTargetWindowName=b.targetWindowName||"";this.mProxyIFrameUrl=b.proxyIFrameUrl||null;this.mAllowMessagesFrom=b.allowMessagesFrom||null;this.incomingMessageEvent=new ISQ.Event();this.mWidget=b.widget||null;if(typeof(ISQ.CDC.users)==="undefined"){ISQ.CDC.users=new Array()}ISQ.CDC.users.push(this);if(typeof(window.postMessage)!="function"&&typeof(window.postMessage)!="object"){this.mLegacyMode=true;this.mHost_l=window.location.protocol+"//"+window.location.host;if(this.mProxyIFrameUrl){if(this.mProxyIFrameUrl.contains("?")){this.mProxyIFrameUrl+="&srv="+b.server}else{this.mProxyIFrameUrl+="?srv="+b.server}}}else{var a=this;this.mPostMessageEventListener=function(d){if(d.origin!==a.mAllowMessagesFrom){return}var c=ISQ.CDC.Helper.splitURLArguments(d.data);c.s=unescape(d.origin);c.t="*";a.dispatchMessage(c)};if(window.addEventListener){window.addEventListener("message",this.mPostMessageEventListener,false)}else{if(window.attachEvent){window.attachEvent("onmessage",this.mPostMessageEventListener)}}}};ISQ.CDC.User.prototype.dtor=function(){if(this.mProxyIFrame_l&&this.mProxyIFrame_l.parentNode!==null){document.body.removeChild(this.mProxyIFrame_l)}if(!this.mLegacyMode){if(window.removeEventListener){window.removeEventListener("message",this.mPostMessageEventListener,false)
}else{if(window.detachEvent){window.detachEvent("onmessage",this.mPostMessageEventListener)}}}};ISQ.CDC.User.prototype.sendMessage=function(b,e){e=e||"*";if(!this.mLegacyMode){var f=ISQ.CDC.Helper.getTargetWindow(this.mTargetWindowName);b+="&ord="+(++this.mMessageOrdinal);f.postMessage(b,e)}else{if(!this.mMessagesOnSent){this.mMessagesOnSent=new Array()}if(!this.mProxyIFrameBaseUrl_l){var a=new Array();a.push(this.mProxyIFrameUrl);a.push("#");a.push("s=");a.push(escape(this.mHost_l));a.push("&t=");a.push(escape(e));a.push("&twnd=");a.push(this.mTargetWindowName);this.mProxyIFrameBaseUrl_l=a.join("")}var c=function(g,n,j,p){var q=new Array();q.push(g.mProxyIFrameBaseUrl_l);q.push("&");q.push(j);q.push("&ord=");q.push(n);var o="position: absolute; left: 0px; top:-1100px;height:70px;width:70px;";var k=document.createElement("iframe");var l=ISQ.CDC.User.getIframeId();k.setAttribute("id",l);k.setAttribute("name",l);k.setAttribute("src",q.join(""));k.setAttribute("frameBorder","1");k.setAttribute("scrolling","auto");k.setAttribute("width","70px");k.setAttribute("height","70px");k.setAttribute("style",o);if(k.style.setAttribute){k.style.setAttribute("cssText",o)}document.body.appendChild(k);var m=function(){setTimeout(function(){g.mMessagesOnSent[n]=null},100)};if(ISQ.Http.browser.app==="opera"){k.onload=m}else{if(document.addEventListener){k.addEventListener("load",m,true)}else{if(document.attachEvent){k.attachEvent("onload",m)}}}};var d=++this.mMessageOrdinal;this.mMessagesOnSent[d]=new c(this,d,b,e)}};ISQ.CDC.User.prototype.dispatchMessage=function(d){if(d.widget&&this.mWidget!==d.widget){return}if(d.subject&&d.subject=="reset"){this.mLastHandledMessageOrdinal=0;this.mMessageOrdinal=0;this.mReceivedMessages=null;this.mWasReset_debug=true}var j=parseInt(d.ord);var a=j-this.mLastHandledMessageOrdinal;if(a<=0){return}if(a>1){if(this.mReceivedMessages===null){this.mReceivedMessages=new Array();this.mReceivedMessagesCount=0}this.mReceivedMessages[j]=d;++this.mReceivedMessagesCount}else{try{this.incomingMessageEvent.dispatch(d)
}catch(b){}if(this.mReceivedMessages!==null){var g=this.mReceivedMessagesCount;var f=j+1;for(var c=0;c<g;++c,++f){if(!this.mReceivedMessages[f]){break}this.incomingMessageEvent.dispatch(this.mReceivedMessages[f]);j=f;--this.mReceivedMessagesCount}if(this.mReceivedMessagesCount===0){this.mReceivedMessages=null}}this.mLastHandledMessageOrdinal=j}};ISQ.CDC.User.prototype.targetWindowName=function(){return this.mTargetWindowName};ISQ.CDC.User.prototype.allowMessagesFrom=function(){return this.mAllowMessagesFrom};ISQ.CDC.User.prototype.mTargetWindowName=null;ISQ.CDC.User.prototype.mLegacyMode=false;ISQ.CDC.User.prototype.mHost_l="";ISQ.CDC.User.prototype.mProxyIFrameUrl=null;ISQ.CDC.User.prototype.mProxyIFrameBaseUrl_l=null;ISQ.CDC.User.prototype.mCurrentHeight=70;ISQ.CDC.User.prototype.incomingMessageEvent=null;ISQ.CDC.User.prototype.mPostMessageEventListener=null;ISQ.CDC.User.prototype.mIsCDCStation=true;ISQ.CDC.User.prototype.mMessageOrdinal=0;ISQ.CDC.User.prototype.mAllowMessagesFrom=null;ISQ.CDC.User.prototype.mMessagesOnSent=null;ISQ.CDC.User.prototype.mReceivedMessages=null;ISQ.CDC.User.prototype.mLastHandledMessageOrdinal=0;ISQ.CDC.User.prototype.mReceivedMessagesCount=0;ISQ.CDC.User.prototype.mWasReset_debug=false;ISQ.CDC.User.getIframeId=function(){return"nR_CDC"+ISQ.CDC.User.iframeIdCounter++};ISQ.CDC.User.iframeIdCounter=new Date().getTime();nanoRep.Float={};var ISQBalloon=nanoRep.Float;nanoRep.Float.enumPositionSystem={DYNAMIC:1,FIXED:2};nanoRep.Float.enumDockMethod={LEFT:0,RIGHT:1};nanoRep.Float.stateChangedEvent=new ISQ.Event();(function(){var a=window._nRepData;var b=a["float"];var d=ISQ.Widget.extractDataFromScript("float.js");var e;if(b&&!(b instanceof Array)){e=b}else{e={};if(b&&b instanceof Array){e.customValues={};for(var c in b){e.customValues[c]=b[c]}}}e.referer=ISQ.Http.getNoHashUrl();if(d.preview&&d.referer&&e.referer.startsWith(d.serverUrl)){e.referer=d.referer}e.type="float";e.id=e.id||"float";e.serverUrl=d.serverUrl||(window.location.protocol+"//"+ISQ.Http.domain(true));e.account=d.account||b.account||window._nRepData.account;
e.cdcFrame=d.cdcFrame||b.cdcFrame;if(!e.cdcFrame){throw ("Could not find cdcFrame argument. nanoRep loading failed")}e.cdcVersion=d.cdcVersion||b.cdcVersion;e.preview=d.preview||false;e.debug=d.debug||false;e.dockMethod=nanoRep.Float.enumDockMethod.LEFT;e.teaserTextElement=null;e.autoMinimize=e.autoMinimize||0;e.useExistingCNF=e.useExistingCNF===true;a["float"]=e})();nanoRep.Float.sendingCNF=false;nanoRep.Float.init=function(){_nRepData["float"].anchorElement=_nRepData["float"].anchorX?ISQ.Html._(_nRepData["float"].anchorX):null;nanoRep.Float.sendingCNF=ISQ.Widget.downloadAndSendCNF(_nRepData["float"],nanoRep.Float.init_step2)};nanoRep.Float.init_step2=function(){if(ISQ.Cnf_Float.limited){return}nanoRep.Float.createState(nanoRep.Float.enumStates.teaser,{containerSize:ISQ.Cnf_Float.floatTeaser_ContainerSize,widgetSize:ISQ.Cnf_Float.floatTeaser_WidgetSize,widgetPosition:ISQ.Cnf_Float.floatTeaser_WidgetPosition});nanoRep.Float.createState(nanoRep.Float.enumStates.collapsed,{containerSize:ISQ.Cnf_Float.floatCollapsed_ContainerSize,widgetSize:ISQ.Cnf_Float.floatCollapsed_WidgetSize,widgetPosition:ISQ.Cnf_Float.floatCollapsed_WidgetPosition});nanoRep.Float.createState(nanoRep.Float.enumStates.expand,{containerSize:ISQ.Cnf_Float.floatExpanded_ContainerSize,widgetSize:ISQ.Cnf_Float.floatExpanded_WidgetSize,widgetPosition:ISQ.Cnf_Float.floatExpanded_WidgetPosition});nanoRep.Float.createState(nanoRep.Float.enumStates.chat,{containerSize:ISQ.Cnf_Float.floatChat_ContainerSize,widgetSize:ISQ.Cnf_Float.floatChat_WidgetSize,widgetPosition:ISQ.Cnf_Float.floatChat_WidgetPosition});nanoRep.Float.Animation.doneHandler=new ISQ.Handler(nanoRep.Float.animatorFinished);nanoRep.Float.loadWidget();nanoRep.Float.loadImages();nanoRep.Float.setPositionSystem()};nanoRep.Float.reloadWidget=function(){if(_nRepData["float"].cdcVersion<3){ISQ.Widget.cdcMessageEvent.removeHandler(nanoRep.Float.CDC.incomingMessage)}else{if(_nRepData["float"].cdcUser){_nRepData["float"].cdcUser.dispose()}}_nRepData["float"].state=null;_nRepData["float"].widgetLoaded=false;
_nRepData["float"].imagesLoaded=false;_nRepData["float"].positioningSet=false;_nRepData["float"].numberOfImages=0;_nRepData["float"].loadedImages=0;nanoRep.Float.Animation.items=null;_nRepData["float"].container.style.left="";_nRepData["float"].container.style.right="";_nRepData["float"].container.style.top="";_nRepData["float"].dockMethod=nanoRep.Float.enumDockMethod.LEFT;_nRepData["float"].teaserTextElement=null;clearNode(_nRepData["float"].container);nanoRep.Float.init()};nanoRep.Float.loadWidget=function(){_nRepData["float"].container.style.top="-5000px";var a="nanoRep_frame_"+new Date().getTime();var b=[];b.push(_nRepData["float"].serverUrl);b.push("/widget/widget.html");ISQ.Widget.appendConfigurationsToIframeSource(b,_nRepData["float"]);b.push("&isFloat=true");b.push("&notifyclick=true");_nRepData["float"].iframe=ISQ.Html.createElement("iframe");_nRepData["float"].iframe.setAttribute("id",a);_nRepData["float"].iframe.setAttribute("name",a);_nRepData["float"].iframe.setAttribute("title","Instant answers frame, access this frame to type a question");_nRepData["float"].iframe.setAttribute("frameBorder","0");_nRepData["float"].iframe.setAttribute("border","0");_nRepData["float"].iframe.setAttribute("scrolling","no");_nRepData["float"].iframe.setAttribute("allowTransparency",true);_nRepData["float"].iframe.setAttribute("nR_noRemove",true);ISQ.CSS.setStyle(_nRepData["float"].iframe,"height:1px;width:1px;border:0px;position:absolute;overflow:hidden;margin:0px;z-index:1;background:transparent;");nanoRep.Float.CDC.init();if(nanoRep.Float.sendingCNF){b.push("&cnf=true")}_nRepData["float"].iframe.src=b.join("");ISQ.Widget.fixStealFocus(_nRepData["float"]);_nRepData["float"].container.appendChild(_nRepData["float"].iframe);if(ISQ.Http.browser.isMobile){ISQ.Widget.createMobileBlockerLink(_nRepData["float"],_nRepData["float"].container,"1px","1px")}};nanoRep.Float.widgetOnLoadHandler=function(b){_nRepData["float"].widgetLoaded=true;if(b.ignorescriptcustomvalues){ISQ.Cnf_Float.ignoreScriptCustomValues=b.ignorescriptcustomvalues=="true"
}if(!ISQ.Cnf_Float.ignoreScriptCustomValues&&_nRepData["float"].customValues&&typeof(_nRepData["float"].customValues.dockRight)==="boolean"){if(_nRepData["float"].customValues.dockRight===true){_nRepData["float"].dockMethod=nanoRep.Float.enumDockMethod.RIGHT}else{_nRepData["float"].dockMethod=nanoRep.Float.enumDockMethod.LEFT}}else{var c=b.dockrtl;if(c==="true"){_nRepData["float"].dockMethod=nanoRep.Float.enumDockMethod.RIGHT}else{_nRepData["float"].dockMethod=nanoRep.Float.enumDockMethod.LEFT}}_nRepData["float"].stateOnLoad=b.stateonload;if(b.autominimize){_nRepData["float"].autoMinimize=parseInt(b.autominimize);if(isNaN(_nRepData["float"].autoMinimize)){_nRepData["float"].autoMinimize=0}}if(b.openonhover){ISQ.Cnf_Float.floatOpenOnHover=b.openonhover==="true"&&!ISQ.Http.browser.isTablet}if(b.teasertext){ISQ.Cnf_Float.floatTeaser_text=ISQ.Http.Cookies.decode64(b.teasertext)}if(b.teasercolor){ISQ.Cnf_Float.floatTeaser_textColor=ISQ.Http.Cookies.decode64(b.teasercolor)}if(b.teaserfont){ISQ.Cnf_Float.floatTeaser_textFont=ISQ.Http.Cookies.decode64(b.teaserfont)}if(b.teaserdir){ISQ.Cnf_Float.floatTeaser_textFont+=";direction:"+b.teaserdir}if(b.teaserposition){var d=b.teaserposition.split(",");ISQ.Cnf_Float.floatTeaser_textPosition=[d[0],d[1]]}if(b.teasersize){var d=b.teasersize.split(",");ISQ.Cnf_Float.floatTeaser_textSize=[d[0],d[1]]}if(b.marginside){ISQ.Cnf_Float.floatSideMargin=parseInt(b.marginside)}if(b.marginbottom){ISQ.Cnf_Float.floatBottomMargin=parseInt(b.marginbottom)}if(b.teaserwidth){var e=parseInt(b.teaserwidth);ISQ.Cnf_Float.floatTeaser_ContainerSize[0]=e;ISQ.Cnf_Float.floatTeaser_WidgetSize[0]=e;ISQ.Cnf_Float.floatLoadSize[0]=e}var a=ISQ.Cnf_Float.floatContainerBoxShadow;if(b.containerboxshadow){a=ISQ.Http.Cookies.decode64(b.containerboxshadow)}if(a){_nRepData["float"].container.style.boxShadow=a;_nRepData["float"].container.style["-webkit-box-shadow"]=a;_nRepData["float"].container.style["-moz-box-shadow"]=a}nanoRep.Float.loadHandler()};nanoRep.Float.loadImages=function(){if(ISQ.Http.browser.isIE6){try{document.execCommand("BackgroundImageCache",false,true)
}catch(a){}try{document.uniqueID("BackgroundImageCache",false,true)}catch(a){}}var b;_nRepData["float"].loadedImages=0;_nRepData["float"].numberOfImages=0;if(ISQ.Cnf_Float.floatTeaserImage){b=nanoRep.Float.getState(nanoRep.Float.enumStates.teaser);b.bgImage=nanoRep.Float.loadAnImage(ISQ.Cnf_Float.floatTeaserImage)}if(ISQ.Cnf_Float.floatCollapsedImage){b=nanoRep.Float.getState(nanoRep.Float.enumStates.collapsed);b.bgImage=nanoRep.Float.loadAnImage(ISQ.Cnf_Float.floatCollapsedImage)}if(ISQ.Cnf_Float.floatExpandedImage){b=nanoRep.Float.getState(nanoRep.Float.enumStates.expand);b.bgImage=nanoRep.Float.loadAnImage(ISQ.Cnf_Float.floatExpandedImage)}if(ISQ.Cnf_Float.floatChatImage){b=nanoRep.Float.getState(nanoRep.Float.enumStates.chat);b.bgImage=nanoRep.Float.loadAnImage(ISQ.Cnf_Float.floatChatImage)}if(_nRepData["float"].numberOfImages===0){nanoRep.Float.imageOnload()}else{_nRepData["float"].hasImages=true;_nRepData["float"].animationImageElement=createElement("img",_nRepData["float"].container,"position:absolute;top:0px;left:0px;display:none;z-index:5")}};nanoRep.Float.loadAnImage=function(b){++_nRepData["float"].numberOfImages;var a=new Image();if(ISQ.Http.browser.isIE7){a.src=window.location.protocol+"//"+ISQ.Cnf_Float.serverUrl+b}a.onload=a.onerror=nanoRep.Float.imageOnload;a.src=window.location.protocol+"//"+ISQ.Cnf_Float.serverUrl+b;return a};nanoRep.Float.imageOnload=function(){if(++_nRepData["float"].loadedImages<_nRepData["float"].numberOfImages){return}_nRepData["float"].imagesLoaded=true;nanoRep.Float.loadHandler()};nanoRep.Float.setPositionSystem=function(){if(ISQ.Http.browser.app!=="ie"&&!ISQ.Http.browser.oldAndroid){_nRepData["float"].positionSystem=nanoRep.Float.enumPositionSystem.FIXED}else{if(ISQ.Http.browser.oldAndroid){_nRepData["float"].positionSystem=nanoRep.Float.enumPositionSystem.DYNAMIC}else{switch(ISQ.Widget.doctype){case"html5":case"xhtml":case"strict":case"loose":case"frameset":if(ISQ.Http.browser.isIE6){_nRepData["float"].positionSystem=nanoRep.Float.enumPositionSystem.DYNAMIC}else{_nRepData["float"].positionSystem=nanoRep.Float.enumPositionSystem.FIXED
}break;case"nodoctype":case"transitional401":case"transitional4":case"transitional":_nRepData["float"].positionSystem=nanoRep.Float.enumPositionSystem.DYNAMIC;break}}}if(_nRepData["float"].positionSystem===nanoRep.Float.enumPositionSystem.DYNAMIC){_nRepData["float"].container.style.position="absolute"}else{_nRepData["float"].container.style.position="fixed"}_nRepData["float"].container.style.zIndex=1000;_nRepData["float"].positioningSet=true;nanoRep.Float.loadHandler()};nanoRep.Float.loadHandler=function(){if(!_nRepData["float"].widgetLoaded||!_nRepData["float"].imagesLoaded||!_nRepData["float"].positioningSet){return}if((ISQ.Http.browser.isIE6||ISQ.Http.browser.isIE7)&&document.readyState!=="complete"){window.attachEvent("onload",nanoRep.Float.showWidget)}else{nanoRep.Float.showWidget()}};nanoRep.Float.showWidget=function(){if(_nRepData["float"].positionSystem===nanoRep.Float.enumPositionSystem.DYNAMIC){if(window.addEventListener){if(ISQ.Http.browser.oldAndroid){setInterval(function(){_nRepData["float"].container.style.display="none";nanoRep.Float.setPosition();_nRepData["float"].container.style.display="block";nanoRep.Float.setPosition()},3000)}window.addEventListener("scroll",nanoRep.Float.onPageScroll,true);window.addEventListener("resize",nanoRep.Float.onResize,true);window.document.body.addEventListener("resize",nanoRep.Float.onResize,true)}else{if(window.attachEvent){window.attachEvent("onscroll",nanoRep.Float.onPageScroll);window.attachEvent("onresize",nanoRep.Float.onResize)}}}if(ISQ.Http.browser.isIE6&&typeof(DD_belatedPNG)!=="undefined"){DD_belatedPNG.init()}nanoRep.Float.setPosition();if(ISQ.Cnf_Float.floatOpenOnHover&&!ISQ.Http.browser.usesViewport){_nRepData["float"].monitorHover=true;_nRepData["float"].container.onmouseover=function(){_nRepData["float"].isHovering=true;if(!_nRepData["float"].monitorHover){return}nanoRep.Float.changeState(_nRepData["float"].nextState)};_nRepData["float"].container.onmouseout=function(){_nRepData["float"].isHovering=false;if(!_nRepData["float"].monitorHover){return}nanoRep.Float.changeState(nanoRep.Float.enumStates.teaser)
}}else{if(!ISQ.Http.browser.isMobile){_nRepData["float"].container.onclick=function(){if(_nRepData["float"].state.id!==nanoRep.Float.enumStates.teaser){return}nanoRep.Float.changeState(_nRepData["float"].nextState)}}}var a;if(_nRepData["float"].stateOnLoad==="expand"&&!ISQ.Http.browser.isMobile){a=_nRepData["float"].nextState=nanoRep.Float.enumStates.expand;_nRepData["float"].monitorHover=false}else{if(_nRepData["float"].stateOnLoad==="collapse"&&!ISQ.Http.browser.isMobile){a=_nRepData["float"].nextState=nanoRep.Float.enumStates.collapsed}else{a=nanoRep.Float.enumStates.teaser;_nRepData["float"].nextState=nanoRep.Float.enumStates.collapsed}}nanoRep.Float.changeState(a,true)};nanoRep.Float.CDC={};nanoRep.Float.CDC.init=function(){ISQ.Widget.initCDC(_nRepData["float"],nanoRep.Float.CDC.incomingMessage);ISQ.API.init(_nRepData["float"])};ISQBalloon.CDC.parseMessage=function(a){if(typeof(a)==="string"){ISQ.Widget.incomingCDCMessage(a)}};nanoRep.Float.CDC.incomingMessage=function(b){if(b.widget!=="float"){return}var d=b.subject;var a=false;switch(d){case"reset":break;case"load":nanoRep.Float.widgetOnLoadHandler(b);ISQ.Widget.sendAPItoWidget(_nRepData["float"]);break;case"userWrites":if(ISQ.Http.browser.isMobile){return}a=true;nanoRep.Float.changeState(nanoRep.Float.enumStates.expand);break;case"minimize":if(ISQ.Http.browser.isMobile){return}a=true;nanoRep.Float.changeState(nanoRep.Float.enumStates.teaser);var c=b.openexpand;if(c==="true"){_nRepData["float"].nextState=nanoRep.Float.enumStates.expand}else{_nRepData["float"].nextState=nanoRep.Float.enumStates.collapsed}break;case"click":if(ISQ.Http.browser.isMobile){return}a=true;if(!ISQ.Cnf_Float.floatOpenOnHover){if(_nRepData["float"].state.id!==nanoRep.Float.enumStates.teaser){break}nanoRep.Float.changeState(_nRepData["float"].nextState);break}if(_nRepData["float"].state.id===nanoRep.Float.enumStates.teaser){break}_nRepData["float"].monitorHover=false;break;case"blur":if(ISQ.Http.browser.isMobile){return}if(_nRepData["float"].state.id!==nanoRep.Float.enumStates.collapsed){break
}if(_nRepData["float"].isHovering){break}_nRepData["float"].monitorHover=true;nanoRep.Float.changeState(nanoRep.Float.enumStates.teaser);if(ISQ.Http.browser.isTablet){window.removeEventListener("orientationchange",ISQ.Float.mobile_resizeEventHandler)}break;case"textfieldFocus":if(ISQ.Http.browser.isMobile){return}if(ISQ.Http.browser.isTablet){window.addEventListener("orientationchange",ISQ.Float.mobile_resizeEventHandler)}a=true;break;default:ISQ.Widget.handleCommonCDCMessage(b,this);break}if(a&&_nRepData["float"].autoMinimizeTimer){clearTimeout(_nRepData["float"].autoMinimizeTimer);_nRepData["float"].autoMinimizeTimer=null}};ISQ.Float.mobile_floatInViewport=function(){if(!ISQ.Http.browser.usesViewport){return}var a;a=ISQ.Html.getScroll("top");if(_nRepData["float"].container.offsetTop<a){document.body.scrollTop=_nRepData["float"].container.offsetTop}a=ISQ.Html.getScroll("left");if(_nRepData["float"].container.offsetLeft<a){document.body.scrollLeft=_nRepData["float"].container.offsetLeft}};ISQ.Float.mobile_resizeEventHandler=function(){setTimeout(function(){ISQ.Float.mobile_floatInViewport()},0)};nanoRep.Float.onPageScroll=function(a){nanoRep.Float.setPosition(true)};nanoRep.Float.onResize=function(a){nanoRep.Float.setPosition()};nanoRep.Float.setPosition=function(a){var b=ISQ.Html.screenSize();if(ISQ.Http.browser.app==="opera"){document.body.parentNode.scrollTop=0;document.body.parentNode.scrollLeft=0;document.body.scrollTop=0;document.body.scrollLeft=0}nanoRep.Float.setPosition_X(b,a);nanoRep.Float.setPosition_Y(b,a);if(a){nanoRep.Float.PositionAnimator.start()}};nanoRep.Float.setPosition_Y=function(c,a){_nRepData["float"].container.style.top="";switch(_nRepData["float"].positionSystem){case nanoRep.Float.enumPositionSystem.DYNAMIC:var d=ISQ.Html.getScroll("top");if(ISQ.Http.browser.isIE6){_nRepData["float"].container.style.bottom=0;if(_nRepData["float"].pageDirection==="ltr"){b=ISQ.Cnf_Float.floatBottomMargin}else{b=ISQ.Cnf_Float.floatBottomMargin-d}}else{b=ISQ.Cnf_Float.floatBottomMargin-d}if(!a||ISQ.Http.browser.isIE6){_nRepData["float"].container.style.bottom=b+"px"
}else{nanoRep.Float.PositionAnimator.setBottom(b)}break;case nanoRep.Float.enumPositionSystem.FIXED:var b=ISQ.Cnf_Float.floatBottomMargin;_nRepData["float"].container.style.bottom=b+"px";break}};nanoRep.Float.setPosition_X=function(j,b){if(!_nRepData["float"].pageDirection){_nRepData["float"].pageDirection=document.body.getAttribute("dir");if(!_nRepData["float"].pageDirection){_nRepData["float"].pageDirection=ISQ.CSS.getValue(document.body,"direction")}if(!_nRepData["float"].pageDirection){_nRepData["float"].pageDirection="ltr"}}var a=0;if(_nRepData["float"].anchorElement){a=ISQ.Html.position(_nRepData["float"].anchorElement).x}switch(_nRepData["float"].positionSystem){case nanoRep.Float.enumPositionSystem.DYNAMIC:var d=ISQ.Html.getScroll("left");switch(_nRepData["float"].dockMethod){case nanoRep.Float.enumDockMethod.RIGHT:if(_nRepData["float"].pageDirection==="ltr"){var e;if(ISQ.Http.browser.isIE6){_nRepData["float"].container.style.right=0;e=ISQ.Cnf_Float.floatSideMargin}else{e=ISQ.Cnf_Float.floatSideMargin-d}}else{var g=d+j.w;var f=document.body.scrollWidth-g;var e=ISQ.Cnf_Float.floatSideMargin+f;if(ISQ.Http.browser.isIE6&&ISQ.Widget.doctype!=="nodoctype"&&!ISQ.Widget.doctype.startsWith("transitional")){e+=ISQ.Html.scrollBarWidth()}}_nRepData["float"].container.style.left="";if(!b||ISQ.Http.browser.isIE6){_nRepData["float"].container.style.right=e+"px"}else{nanoRep.Float.PositionAnimator.setSide(e)}break;case nanoRep.Float.enumDockMethod.LEFT:var c;if(_nRepData["float"].pageDirection==="ltr"){c=ISQ.Cnf_Float.floatSideMargin+d}else{var k=document.body.scrollWidth-j.w;if(ISQ.Http.browser.isIE6){k=ISQ.Html.getScroll("width")-j.w;c=d-k+ISQ.Cnf_Float.floatSideMargin}else{c=d-k+ISQ.Cnf_Float.floatSideMargin}}_nRepData["float"].container.style.left="";if(!b||ISQ.Http.browser.isIE6){_nRepData["float"].container.style.left=c+"px"}else{nanoRep.Float.PositionAnimator.setSide(c)}break}break;case nanoRep.Float.enumPositionSystem.FIXED:switch(_nRepData["float"].dockMethod){case nanoRep.Float.enumDockMethod.RIGHT:_nRepData["float"].container.style.left="";
_nRepData["float"].container.style.right=ISQ.Cnf_Float.floatSideMargin+"px";break;case nanoRep.Float.enumDockMethod.LEFT:var c=ISQ.Cnf_Float.floatSideMargin;_nRepData["float"].container.style.left=c+"px";break}break}};nanoRep.Float.PositionAnimator={};nanoRep.Float.PositionAnimator.side=0;nanoRep.Float.PositionAnimator.bottom=0;nanoRep.Float.PositionAnimator.isRunning=false;nanoRep.Float.PositionAnimator.timer=null;nanoRep.Float.PositionAnimator.totalTime=1000;nanoRep.Float.PositionAnimator.remainingTimeBottom=0;nanoRep.Float.PositionAnimator.remainingTimeSide=0;nanoRep.Float.PositionAnimator.factorBottom=0;nanoRep.Float.PositionAnimator.factorSide=0;nanoRep.Float.PositionAnimator.interval=20;nanoRep.Float.PositionAnimator.lastTimerDate=0;nanoRep.Float.PositionAnimator.stopAnimationInterval=100;nanoRep.Float.PositionAnimator.setSide=function(a){nanoRep.Float.PositionAnimator.side=a;nanoRep.Float.PositionAnimator.remainingTimeSide=nanoRep.Float.PositionAnimator.totalTime-100;nanoRep.Float.PositionAnimator.factorSide=Math.abs(nanoRep.Float.PositionAnimator.side-nanoRep.Float.PositionAnimator.getCurrentSide())/20};nanoRep.Float.PositionAnimator.setBottom=function(a){nanoRep.Float.PositionAnimator.bottom=a;nanoRep.Float.PositionAnimator.remainingTimeBottom=nanoRep.Float.PositionAnimator.totalTime-100;nanoRep.Float.PositionAnimator.factorBottom=Math.abs(nanoRep.Float.PositionAnimator.bottom-nanoRep.Float.PositionAnimator.getCurrentBottom())/20};nanoRep.Float.PositionAnimator.start=function(){if(!nanoRep.Float.PositionAnimator.side&&!nanoRep.Float.PositionAnimator.bottom){return}if(nanoRep.Float.PositionAnimator.isRunning){return}nanoRep.Float.PositionAnimator.isRunning=true;nanoRep.Float.PositionAnimator.lastTimerDate=new Date();nanoRep.Float.PositionAnimator.timer=setTimeout(nanoRep.Float.PositionAnimator.timerElapsed,0)};nanoRep.Float.PositionAnimator.getCurrentSide=function(){var a;if(_nRepData["float"].dockMethod===nanoRep.Float.enumDockMethod.LEFT){a=parseInt(_nRepData["float"].container.style.left)}else{a=parseInt(_nRepData["float"].container.style.right)
}if(isNaN(a)){a=0}return a};nanoRep.Float.PositionAnimator.getCurrentBottom=function(){return parseInt(_nRepData["float"].container.style.bottom)};nanoRep.Float.PositionAnimator.timerElapsed=function(){var d=new Date()-nanoRep.Float.PositionAnimator.lastTimerDate;if(d>=nanoRep.Float.PositionAnimator.stopAnimationInterval){nanoRep.Float.PositionAnimator.isRunning=false;if(nanoRep.Float.PositionAnimator.side!==0){if(_nRepData["float"].dockMethod===nanoRep.Float.enumDockMethod.LEFT){_nRepData["float"].container.style.left=nanoRep.Float.PositionAnimator.side+"px"}else{_nRepData["float"].container.style.right=nanoRep.Float.PositionAnimator.side+"px"}}if(nanoRep.Float.PositionAnimator.bottom!==0){_nRepData["float"].container.style.bottom=nanoRep.Float.PositionAnimator.bottom+"px"}}var b=nanoRep.Float.PositionAnimator.getCurrentBottom();var c=nanoRep.Float.PositionAnimator.getCurrentSide();var a,g;if(nanoRep.Float.PositionAnimator.side===0){g=0}else{g=nanoRep.Float.PositionAnimator.side-c}if(nanoRep.Float.PositionAnimator.bottom===0){a=0}else{a=nanoRep.Float.PositionAnimator.bottom-b}var f;if(g!==0){g/=Math.abs(g);var e=nanoRep.Float.PositionAnimator.remainingTimeSide/(nanoRep.Float.PositionAnimator.totalTime);e*=nanoRep.Float.PositionAnimator.factorSide;if(e<2){e=2}f=c+(g*e);nanoRep.Float.PositionAnimator.remainingTimeSide-=nanoRep.Float.PositionAnimator.interval;if(g>0&&f>nanoRep.Float.PositionAnimator.side){f=nanoRep.Float.PositionAnimator.side}if(g<0&&f<nanoRep.Float.PositionAnimator.side){f=nanoRep.Float.PositionAnimator.side}if(_nRepData["float"].dockMethod===nanoRep.Float.enumDockMethod.LEFT){_nRepData["float"].container.style.left=f+"px"}else{_nRepData["float"].container.style.right=f+"px"}if(f===nanoRep.Float.PositionAnimator.side){nanoRep.Float.PositionAnimator.side=0}}else{nanoRep.Float.PositionAnimator.side=0}if(a!==0){a/=Math.abs(a);var e=nanoRep.Float.PositionAnimator.remainingTimeBottom/(nanoRep.Float.PositionAnimator.totalTime);e*=nanoRep.Float.PositionAnimator.factorBottom;if(e<2){e=2}f=b+(a*e);nanoRep.Float.PositionAnimator.remainingTimeBottom-=nanoRep.Float.PositionAnimator.interval;
if(a>0&&f>nanoRep.Float.PositionAnimator.bottom){f=nanoRep.Float.PositionAnimator.bottom}if(a<0&&f<nanoRep.Float.PositionAnimator.bottom){f=nanoRep.Float.PositionAnimator.bottom}_nRepData["float"].container.style.bottom=f+"px";if(f===nanoRep.Float.PositionAnimator.bottom){nanoRep.Float.PositionAnimator.bottom=0}}else{nanoRep.Float.PositionAnimator.bottom=0}if(nanoRep.Float.PositionAnimator.bottom||nanoRep.Float.PositionAnimator.side){nanoRep.Float.PositionAnimator.lastTimerDate=new Date();nanoRep.Float.PositionAnimator.timer=setTimeout(nanoRep.Float.PositionAnimator.timerElapsed,nanoRep.Float.PositionAnimator.interval)}else{nanoRep.Float.PositionAnimator.isRunning=false}};nanoRep.Float.enumStates={teaser:0,collapsed:1,expand:2,chat:3};nanoRep.Float.statesArray=new Array();nanoRep.Float.initialState=false;nanoRep.Float.getState=function(a){return nanoRep.Float.statesArray[a]};nanoRep.Float.createState=function(b,a){a.id=b;nanoRep.Float.statesArray[b]=new nanoRep.Float.State(a)};nanoRep.Float.changeState=function(l,f){var k=nanoRep.Float.getState(l);if(!k){return}if(k===_nRepData["float"].state){return}var j=_nRepData["float"].state;_nRepData["float"].state=k;if(ISQ.Cnf_Float.floatOpenOnHover){if(l===nanoRep.Float.enumStates.teaser||l===nanoRep.Float.enumStates.collapsed){_nRepData["float"].monitorHover=true}else{_nRepData["float"].monitorHover=false}}if(f===true){nanoRep.Float.initialState=true;var e={w:0,h:0};var d={w:0,h:0};var g=ISQ.Cnf_Float.floatLoadSize;var n=(l===nanoRep.Float.enumStates.teaser||l===nanoRep.Float.enumStates.collapsed);if(!n||!g||g[0]===-1){e.w=k.widgetSize[0];d.w=k.containerSize[0]}else{e.w=g[0];d.w=g[0]}if(!n||!g||g[1]===-1){e.h=k.widgetSize[1];d.h=k.containerSize[1]}else{e.h=g[1];d.h=g[1]}if(!ISQ.Widget.resizeIframeOnLoad_IE(_nRepData["float"],e.w,e.h,function(){nanoRep.Float.setSize(_nRepData["float"].container,d.w,d.h);nanoRep.Float.setSize(_nRepData["float"].iframe,e.w,e.h)})){nanoRep.Float.setSize(_nRepData["float"].container,d.w,d.h);nanoRep.Float.setSize(_nRepData["float"].iframe,e.w,e.h)
}nanoRep.Float.updateIframeStyle()}var a=null;if(_nRepData["float"].hasImages){var c=nanoRep.Float.getState(nanoRep.Float.enumStates.expand);var b=nanoRep.Float.getState(nanoRep.Float.enumStates.collapsed);var m=nanoRep.Float.getState(nanoRep.Float.enumStates.teaser);if(j===c||_nRepData["float"].state===c){a=c.bgImage}else{if(j===b||_nRepData["float"].state===b){a=b.bgImage}else{a=m.bgImage}}_nRepData["float"].iframe.style.visibilty="hidden"}nanoRep.Float.Animation.start(_nRepData["float"].state,a)};nanoRep.Float.updateIframeStyle=function(){if(_nRepData["float"].state.id===nanoRep.Float.enumStates.teaser&&!ISQ.Cnf_Float.floatTeaserShowsWidget){_nRepData["float"].iframe.style.visibility="hidden";_nRepData["float"].container.style.cursor="pointer";if(!_nRepData["float"].teaserTextElement){_nRepData["float"].teaserTextElement=createDiv(_nRepData["float"].container,"display:none;background:transparent;margin:0px;padding:0px;border:0px;position:absolute;z-index:1;text-align:center;"+ISQ.Cnf_Float.floatTeaser_textFont);_nRepData["float"].teaserTextElement.style.color=ISQ.Cnf_Float.floatTeaser_textColor;_nRepData["float"].teaserTextElement.style.left=ISQ.Cnf_Float.floatTeaser_textPosition[0]+"px";_nRepData["float"].teaserTextElement.style.top=ISQ.Cnf_Float.floatTeaser_textPosition[1]+"px";_nRepData["float"].teaserTextElement.style.width=ISQ.Cnf_Float.floatTeaser_textSize[0]+"px";_nRepData["float"].teaserTextElement.style.height=ISQ.Cnf_Float.floatTeaser_textSize[1]+"px";_nRepData["float"].teaserTextElement.innerHTML=ISQ.Cnf_Float.floatTeaser_text}_nRepData["float"].teaserTextElement.style.display="block"}else{_nRepData["float"].iframe.style.visibility="visible";_nRepData["float"].container.style.cursor="default";if(_nRepData["float"].teaserTextElement){_nRepData["float"].teaserTextElement.style.display="none"}}};nanoRep.Float.animatorFinished=function(){if(ISQ.Http.browser.app==="android"){_nRepData["float"].iframe.setAttribute("scrolling","auto")}_nRepData["float"].iframe.style.left=_nRepData["float"].state.widgetPosition[0]+"px";
_nRepData["float"].iframe.style.top=_nRepData["float"].state.widgetPosition[1]+"px";if(_nRepData["float"].mobileBlockerLink){_nRepData["float"].mobileBlockerLink.style.width=_nRepData["float"].state.widgetSize[0]+"px";_nRepData["float"].mobileBlockerLink.style.height=_nRepData["float"].state.widgetSize[1]+"px";_nRepData["float"].mobileBlockerLink.style.top="-"+_nRepData["float"].state.widgetSize[1]+"px";_nRepData["float"].mobileBlockerLink.style.left=_nRepData["float"].state.widgetPosition[0]+"px";_nRepData["float"].mobileBlockerLink.style.top=_nRepData["float"].state.widgetPosition[1]+"px"}ISQ.Float.mobile_floatInViewport();nanoRep.Float.updateIframeStyle();if(_nRepData["float"].state.bgImage){_nRepData["float"].container.style.backgroundImage="url("+_nRepData["float"].state.bgImage.src+")";if(ISQ.Http.browser.isIE6){DD_belatedPNG.fixPng(_nRepData["float"].container)}}nanoRep.Float.stateChangedEvent.dispatch(_nRepData["float"].state.id,_nRepData["float"].state.containerSize,_nRepData["float"].state.widgetSize,_nRepData["float"].state.widgetPosition);if(nanoRep.Float.initialState){nanoRep.Float.initialState=false;if(_nRepData["float"].state.id!==nanoRep.Float.enumStates.teaser&&_nRepData["float"].autoMinimize){_nRepData["float"].autoMinimizeTimer=setTimeout(function(){nanoRep.Float.changeState(nanoRep.Float.enumStates.teaser)},_nRepData["float"].autoMinimize)}}};nanoRep.Float.setSize=function(a,c,b){a.style.width=c+"px";a.style.height=b+"px";if(ISQ.Http.browser.app==="ie"&&ISQ.Widget.supportsPostMessage&&document.readyState!=="complete"&&_nRepData["float"].cdcUser){_nRepData["float"].cdcUser.sendMessage("subject=refreshSize")}};nanoRep.Float.State=ISQ.Base.extend({name:"nanoRep.Float.State"});nanoRep.Float.State.prototype.ctor=function(a){this.id=a.id;this.containerSize=a.containerSize;this.widgetSize=a.widgetSize;this.widgetPosition=a.widgetPosition;this.bgImage=a.bgImages};nanoRep.Float.State.prototype.dtor=function(){};nanoRep.Float.State.prototype.id=-1;nanoRep.Float.State.prototype.containerSize=null;nanoRep.Float.State.prototype.widgetSize=null;
nanoRep.Float.State.prototype.widgetPosition=null;nanoRep.Float.State.prototype.bgImage=null;nanoRep.Float.Animation={};nanoRep.Float.Animation.doneHandler=null;nanoRep.Float.Animation.totalTime=200;nanoRep.Float.Animation.interval=20;nanoRep.Float.Animation.lastExecutionTime=null;nanoRep.Float.Animation.timeLeft=0;nanoRep.Float.Animation.timer=null;nanoRep.Float.Animation.frameCount=-1;nanoRep.Float.Animation.isRunning=false;nanoRep.Float.Animation.maxDiff=-1;nanoRep.Float.Animation.items=null;nanoRep.Float.Animation.start=function(b,a){if(nanoRep.Float.Animation.isRunning){clearTimeout(nanoRep.Float.Animation.timer)}nanoRep.Float.Animation.isRunning=true;nanoRep.Float.Animation.timeLeft=nanoRep.Float.Animation.totalTime;nanoRep.Float.Animation.interval=20;nanoRep.Float.Animation.maxDiff=-1;nanoRep.Float.Animation.frameCount=Math.floor(nanoRep.Float.Animation.timeLeft/nanoRep.Float.Animation.interval);if(a){_nRepData["float"].animationImageElement.style.display="block";_nRepData["float"].animationImageElement.src=a.src;nanoRep.Float.setSize(_nRepData["float"].animationImageElement,_nRepData["float"].container.offsetWidth,_nRepData["float"].container.offsetHeight);_nRepData["float"].container.style.backgroundImage="none"}if(nanoRep.Float.Animation.items===null){nanoRep.Float.Animation.items=new Array();nanoRep.Float.Animation.items.push(new nanoRep.Float.Animation.AnimationItem(_nRepData["float"].container,b.containerSize,true));nanoRep.Float.Animation.items.push(new nanoRep.Float.Animation.AnimationItem(_nRepData["float"].iframe,b.widgetSize,false));if(a){nanoRep.Float.Animation.items.push(new nanoRep.Float.Animation.AnimationItem(_nRepData["float"].animationImageElement,b.containerSize,false))}}else{nanoRep.Float.Animation.items[0].init(b.containerSize);nanoRep.Float.Animation.items[1].init(b.widgetSize);if(a){if(nanoRep.Float.Animation.items.length===3){nanoRep.Float.Animation.items[2].init(b.containerSize)}else{nanoRep.Float.Animation.items.push(new nanoRep.Float.Animation.AnimationItem(_nRepData["float"].animationImageElement,b.containerSize,false))
}}else{if(nanoRep.Float.Animation.items.length===3){nanoRep.Float.Animation.items.splice(2,1)}}}if(ISQ.Http.browser.app==="android"){_nRepData["float"].iframe.setAttribute("scrolling","no")}nanoRep.Float.Animation.lastExecutionTime=new Date();nanoRep.Float.Animation.animator(true)};nanoRep.Float.Animation.animator=function(d){clearTimeout(nanoRep.Float.Animation.timer);d=d||false;if(!d){var a=new Date()-nanoRep.Float.Animation.lastExecutionTime;nanoRep.Float.Animation.interval=a;if(a>nanoRep.Float.Animation.maxDiff){nanoRep.Float.Animation.maxDiff=a}nanoRep.Float.Animation.timeLeft-=a;if(nanoRep.Float.Animation.timeLeft<=0){nanoRep.Float.Animation.timeLeft=0}nanoRep.Float.Animation.frameCount=Math.floor(nanoRep.Float.Animation.timeLeft/nanoRep.Float.Animation.maxDiff);for(var c=0;c<nanoRep.Float.Animation.items.length;++c){nanoRep.Float.Animation.items[c].setAmounts()}}var b=true;for(var c=0;c<nanoRep.Float.Animation.items.length;++c){b&=nanoRep.Float.Animation.items[c].timerElapsed()}if(b){nanoRep.Float.Animation.isRunning=false;if(nanoRep.Float.Animation.doneHandler){nanoRep.Float.Animation.doneHandler.handle()}if(nanoRep.Float.Animation.items.length===3){_nRepData["float"].animationImageElement.style.display="none"}return}nanoRep.Float.Animation.lastExecutionTime=new Date();nanoRep.Float.Animation.timer=setTimeout(function(){nanoRep.Float.Animation.animator()},nanoRep.Float.Animation.interval)};nanoRep.Float.Animation.AnimationItem=function(a,c,b){this.element=a;this.updateDomPosition=b;this.init(c)};nanoRep.Float.Animation.AnimationItem.prototype.init=function(a){this.widthLeft=a[0]-this.element.offsetWidth;this.heightLeft=a[1]-this.element.offsetHeight;this.setAmounts()};nanoRep.Float.Animation.AnimationItem.prototype.setAmounts=function(){if(nanoRep.Float.Animation.frameCount===0||(_nRepData["float"].hasImages&&ISQ.Http.browser.isIE6)){this.widthStep=this.widthLeft;this.heightStep=this.heightLeft;return}this.widthStep=Math.ceil(this.widthLeft/nanoRep.Float.Animation.frameCount);this.heightStep=Math.ceil(this.heightLeft/nanoRep.Float.Animation.frameCount)
};nanoRep.Float.Animation.AnimationItem.prototype.timerElapsed=function(){this.widthLeft-=this.widthStep;var b=this.element.offsetWidth+this.widthStep;this.heightLeft-=this.heightStep;var a=this.element.offsetHeight+this.heightStep;nanoRep.Float.setSize(this.element,b,a);return this.finished()};nanoRep.Float.Animation.AnimationItem.prototype.finished=function(){return this.widthLeft===0&&this.heightLeft===0};nanoRep.Float.Animation.AnimationItem.prototype.element=null;nanoRep.Float.Animation.AnimationItem.prototype.updateDomPosition=false;nanoRep.Float.Animation.AnimationItem.prototype.widthLeft=null;nanoRep.Float.Animation.AnimationItem.prototype.heightLeft=null;nanoRep.Float.Animation.AnimationItem.prototype.widthStep=null;nanoRep.Float.Animation.AnimationItem.prototype.heightStep=null;nanoRep.Float.Animation.AnimationItem.prototype.enlarging=false;nanoRep.Float.preInit=function(){_nRepData["float"].container=ISQ.Html._("nanoRepProxyContainer");if((ISQ.Http.browser.app==="ie"&&document.readyState!=="complete")||!_nRepData["float"].container){var b=false;var a=function(){if(!_nRepData["float"].container){_nRepData["float"].container=createDiv(document.body)}nanoRep.Float.init()};if(_nRepData["float"].container){if(ISQ.Http.browser.isIE6&&window.location.protocol.startsWith("https")){b=true}else{nanoRep.Float.init()}}else{if(document.readyState==="complete"){a()}else{b=true}}if(b){if(window.attachEvent){window.attachEvent("onload",a)}else{if(window.addEventListener){window.addEventListener("load",a,false)}}}}else{nanoRep.Float.init()}};window._nRepData.Widgets=window._nRepData.Widgets||{};window._nRepData.Widgets._widgetId=0;window._nRepData.Widgets.getNextWidgetId=function(){return"widget_"+window._nRepData.Widgets._widgetId++};window._nRepData.Widgets.mergeCommonProperties=function(c){var a=window._nRepData;var b=function(d,e){if(!e){if(a[d]&&!c[d]){c[d]=a[d]}}else{if(a[d]&&(!c.customValues||!c.customValues[d])){if(!c.customValues){c.customValues={}}c.customValues[d]=a[d]}}};b("pageId");b("conversionTag");b("searchDelay");
b("kb");b("formValues");b("context");b("customParams");b("setFocus");b("onloadQuestionId",true);if(c.type==="float"){b("anchorX")}if(!c.events&&(a.events||a.reportQueryHandler)){if(a.events){c.events=a.events}else{c.events={};c.events["query"]=a.reportQueryHandler}}if(c.events&&c.events["reportQueryHandler"]){c.events["query"]=c.events["reportQueryHandler"]}};(function(){var a=window._nRepData;if(typeof(window.nanoRep.Embed)!="undefined"&&a.embed&&!a.embed.processed){a.embed.processed=true;window._nRepData.Widgets.mergeCommonProperties(a.embed);window.nanoRep.Embed.loadWidget(a.embed)}if(typeof(window.nanoRep.Float)!="undefined"&&a["float"]&&!a["float"].processed){a["float"].processed=true;window._nRepData.Widgets.mergeCommonProperties(a["float"]);window.nanoRep.Float.preInit()}})();